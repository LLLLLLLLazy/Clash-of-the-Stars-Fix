[core]
name: 侦察者G4
displayText: 侦察者G4
displayDescription: -广阔的视野\n -可翻过山崖\n -可入水
class: CustomUnitMetadata
showInEditor: false
price: credits=500
maxHp: 50
mass: 500
tags: units, 转向攻击, 梦雨系列G, 侦察者G4
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 侦察者G4

techLevel: 1

buildSpeed: 10s
availableInDemo: true

radius: 11
displayRadius: 13

fogOfWarSightRange: 22
softCollisionOnAll: 3
fogOfWarSightRangeWhileNotBuilt: 15

isBio: false

[action_upgrade]
displayType: upgrade
price: 350
id: ${section.text}
text: 升级
description: -能够进入岩浆中移动
buildSpeed: 7s
pos: 1
allowMultipleInQueue: false
whenBuilding_cannotMove: true
addResources=setFlag=3
iconImage: icon_upgrade.png
isVisible: if not self.hasFlag(id=3)

[hiddenAction_草]
whenBuilding_cannotMove: true
buildSpeed: 3s
id: 草化
convertTo: 侦察者G4
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
addResources=setFlag=0|unsetFlag=1|unsetFlag=2

[hiddenAction_入土]
autoTrigger: if self.isOverOpenLand and self.queueSize(empty=true) and self.hasFlag(id=1) or self.hasFlag(id=2) and self.isOverOpenLand and self.queueSize(empty=true)
alsoQueueAction: 草

[hiddenAction_水上]
whenBuilding_cannotMove: true
id: 入水
buildSpeed: 3s
convertTo: 侦察者G4[水上]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
addResources=setFlag=1|unsetFlag=0|unsetFlag=2

[hiddenAction_入水]
autoTrigger: if self.overWater and self.queueSize(empty=true) and self.hasFlag(id=0) or self.hasFlag(id=2) and self.overWater and self.queueSize(empty=true)
alsoQueueAction: 水上

[hiddenAction_炎上]
whenBuilding_cannotMove: true
id: 炎上
buildSpeed: 3s
convertTo: 侦察者G4[岩浆]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
addResources=setFlag=2|unsetFlag=0|unsetFlag=1

[hiddenAction_玩火]
autoTrigger: if self.isOverLiquid and not self.isOverwater and self.queueSize(empty=true) and self.hasFlag(id=3) and self.hasFlag(id=0) or self.hasFlag(id=1) and self.isOverLiquid and not self.isOverwater and self.queueSize(empty=true) and self.hasFlag(id=3)
alsoQueueAction: 炎上

[hiddenAction_融化]
autoTrigger:if self.isOverLiquid and not self.isOverwater and not self.hasFlag(id=3)
addResources: hp=-25
alsoQueueAction: 停止半秒

[hiddenAction_停止半秒]
whenBuilding_cannotMove: true
buildSpeed: 0.5s
id: 停顿

[hiddenAction_起始Flag0]
autoTrigger: if self.isOverOpenLand and not self.hasFlag(id=0)
addResources=setFlag=0


[graphics]

total_frames: 1
image:        越共侦察者.png
image_wreak:  死亡侦察者.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9



lock_body_rotation_with_main_turret: true

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


splastEffect: true

#dustEffect: true
movementEffect: CUSTOM:scoutTrail
movementEffectRate: 14


[attack]
turretRotateWithBody: false

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 7
turretTurnSpeed: 4


maxAttackRange: 130
shootDelay: 0.88s

isFixedFiring: false



[turret_1]
invisible: true
x: 0
y: 0
idleDir:0

projectile: 1
size: 7
turnSpeed: 2.4

shoot_sound:plasma_fire
shoot_sound_vol:0.05
shoot_flame:small
shoot_light:#FFccCCEE

recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 15


[projectile_1]
tags= T-projectile
directDamage: 8
life: 70
speed: 6
frame: 5



[effect_scoutTrail]

createWhenOverLiquid: false

createWhenZoomedOut: false
priority:low


life: 50
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.7
scaleTo: 3.2
alpha: 0.9
drawUnderUnits:true
ySpeedRelative:-0.1
xSpeedRelativeRandom:0.2

atmospheric: true

stripIndex:dust


[movement]
movementType: AIR
moveSpeed: 2.5
moveAccelerationSpeed: 0.09
moveDecelerationSpeed: 0.09

targetHeight: 1
targetHeightDrift: 0.2

maxTurnSpeed: 4
turnAcceleration: 0.2

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181

[ai]
lowPriorityTargetForOtherUnits: true



