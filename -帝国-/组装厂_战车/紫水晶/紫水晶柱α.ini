
[core]
name: 紫水晶柱α
displayDescription: -降低范围内敌军50%攻速 \n -被摧毁时击退周围敌军
class: CustomUnitMetadata
price: 0
maxHp: 400
mass: 6000
maxShield: 100
shieldRegen: 1

tags: 紫水晶柱α, 可承伤单位, 召唤物

fogOfWarSightRange: 5

showInEditor: false

techLevel: 1
buildSpeed: 3.33s
#availableInDemo: true

selfRegenRate: -0.1

radius: 8
displayRadius: 8
disableAllUnitCollisions: true

isBio: false
isBuilding: true
footprint: 1,1,-1,-1
constructionFootprint: 1,1,-1,-1
buildingSelectionOffset: 15

numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

isUnrepairableUnit: true

energyMax: 1

disableDeathOnZeroHp: true

autoTriggerCooldownTime: 10

[template_提取目标]
takeResources_excludeUnitsWithoutTags: units
takeResources_includeUnitsWithinRange: 100
takeResources_includeUnitsWithinRange_team: enemy
takeResources_maxUnits: 999

[hiddenAction_状态时间]
@copyFromSection: template_提取目标
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", greaterThan=0, withinRange=100) and self.timeAlive(laterThanSeconds=1)
takeResources: 紫静=-1
takeResources_excludeUnitsWithTheseResources: 紫静=2

[resource_紫静]
displayName: 紫静
hidden: true


[hiddenAction_created]
autoTriggerOnEvent: created
spawnEffects: CUSTOM:紫境展开

[hiddenAction_destroy]
autoTrigger: if self.hp(empty=true)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_withProjectile: destroy
deleteSelf: true

[hiddenAction_引爆]
autoTrigger: if self.hasFlag(id=0)
alsoTriggerAction: destroy
takeResources: energy=-0.03
takeResources_includeReference: customTarget1

[arm_1]
x: 0
y: 0
image_end: 紫晶六边形.png
hidden: if self.timeAlive(withinSeconds=1)

[graphics]
total_frames: 1
imageScale: 0.5
image:        紫水晶柱α.png
image_wreak:  NONE
image_turret: NONE
image_shield: brightPurple_shield.png
teamColoringMode: disabled

image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

showHealthBar: false
showEnergyBar: false
showShieldBar: false
disableLowHpSmoke: true
disableLowHpFire: true

[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretTurnSpeed: 1000

maxAttackRange: 150
#shootDelay: 5
shootDelay: 60

[turret_1]
x: 0
y: 0
energyUsage: 1

[projectile_destroy]
life: 50
speed: 5
drawSize: 0

largeHitEffect: true

targetGround: true

areaDamage: 0
areaRadius: 120
areaExpandTime: 10
areaHitAirAndLandAtSameTime: true
pushForce: 1000
pushVelocity: 5

deflectionPower: -1

explodeEffect: CUSTOM:explodeCore, CUSTOM:水晶波, CUSTOM:紫晶冲击

[effect_explodeCore]
priority: veryhigh
life: 30
attachedToUnit: true
image: explode2.png
scaleFrom: 2.0
scaleTo: 2.0
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

[effect_水晶波]
priority: low
stripIndex: shockwave
life: 45
color: #AB4DAB
scaleFrom: 0
scaleTo: 2
alpha: 1

[effect_紫境展开]
priority: veryhigh
life: 60
fadeInTime: 50
attachedToUnit: true
image: 紫晶六边形.png
scaleFrom: 0
scaleTo: 0.5
alpha: 0.8
fadeOut: false

[effect_紫晶冲击]
priority: veryhigh
life: 20
attachedToUnit: true
image: 紫晶六边形+.png
scaleFrom: 0.5
scaleTo: 0.6
alpha: 1


[movement]
movementType: BUILDING
moveSpeed: 0
moveAccelerationSpeed: 0.0
moveDecelerationSpeed: 0.0

targetHeight: 0

maxTurnSpeed: 0.0
turnAcceleration: 0.25

moveSlidingMode :false
moveIgnoringBody:false

[ai]
lowPriorityTargetForOtherUnits: true