[core]
showInEditor: false
copyFrom: bug_melee.ini
name: 帝步虫[暗影]
armour: 1000
armourMinDamageToKeep: 0
tags: units, 固定射击, 帝步虫, 中型虫, 星际步兵, 坚韧意志, 空形
canOnlyBeAttackedByUnitsWithTags: 虚无

#shieldRenderRadius: 25

fogOfWarSightRange: 5

[hiddenAction_shadow]
autoTrigger: if not self.shield(full=true) or numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
convertTo: 帝步虫
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnEffects:NONE

[action_swallow]
isLockedMessage: 

[hiddenAction_破盾]
autoTrigger: if self.shield(lessThan=100)
convertTo: 帝步虫
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnEffects: CUSTOM:blackwave
addResources: shield=-100

[hiddenAction_附属飞刀]
@copyFrom_skipThisSection:true
[attachment_2]
@copyFrom_skipThisSection:true

[effect_blackwave]
image: shockwave2.png
life: 80
scaleFrom: 0
scaleTo: 10
alpha: 1.0
color: #000000
alsoPlaySound: unit_explode_old.wav:0.1

[graphics]
image_shield: dgb.png
movementEffect: CUSTOM:moveTrail
movementEffectRate: 3

[effect_moveTrail]
createWhenZoomedOut: false
priority: low
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.3
color:#0F0F0F
drawUnderUnits: true
ySpeedRelative:-0.4
atmospheric: true

[attack]
canAttackFlyingUnits: if self.lastConverted(laterThanSeconds=0.1)
canAttackLandUnits: if self.lastConverted(laterThanSeconds=0.1)
attackMovement:bomber

[turret_1]
shoot_sound: weaponGreatSwordHit.ogg
shoot_sound_vol: 1
resourceUsage: shield=100
canAttackFlyingUnits: true

[turret_2]
limitingRange: 20

[projectile_1]
directDamage: 150
areaDamage: 150
buildingDamageMultiplier: 0.75
explodeEffect: CUSTOM:刀光
explodeEffectOnShield: CUSTOM:刀光
spawnProjectilesOnExplode: 2(xOffsetRelative=0, yOffsetRelative=125), 2(xOffsetRelative=100, yOffsetRelative=75), 2(xOffsetRelative=-100, yOffsetRelative=75)

[projectile_2]
life: 300
speed: 8
deflectionPower: -1
directDamage: 50
areaDamage: 50
areaRadius: 25
buildingDamageMultiplier: 0.75
largeHitEffect: true
image: 帝刃.png
autoTargetingOnDeadTarget: true
color: #000000
lightColor: #000000
lightSize: 0.8
drawUnderUnits: true
trailEffect: CUSTOM:紫光, CUSTOM:暗刃
trailEffectRate: 1

[effect_紫光]
createWhenZoomedOut: false
priority:low
image: 紫光.png
life: 40
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 1.0
scaleTo: 0.8
alpha: 0.6
drawUnderUnits: true
ySpeedRelative:-0.4
atmospheric: true

[effect_暗刃]
createWhenZoomedOut: false
image: 帝刃.png
life: 80
fadeOut: true
attachedToUnit: false
fadeInTime: 2
scaleFrom: 1.0
scaleTo: 0.8
alpha: 0.6
color: #000000
drawUnderUnits: true
ySpeedRelative: -0.4
atmospheric: true

[effect_刀光]
priority:high
image:LBAW.png
atmospheric:true
life: 18
ySpeedRelative: 5
alpha: 0.4

[movement]
movementType: AIR
moveSpeed: 1.8
targetHeight: 0
targetHeightDrift: 0

[action_熔化]
isVisible: false
autoTrigger: false
isGuiBlinking: false

[ai]
upgradedFrom: 帝步虫