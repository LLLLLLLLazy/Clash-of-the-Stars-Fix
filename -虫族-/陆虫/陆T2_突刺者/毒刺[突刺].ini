
[core]
showInEditor: false
copyFrom: 毒刺.ini
name: 毒刺[突刺]
displayText: 毒刺

autoTriggerCooldownTime: 0.1s

[hiddenAction_finish]
autoTrigger: false
convertTo: 毒刺[飞跃]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnEffects:CUSTOM:dustL*5
alsoTriggerAction: 路径修正

[hiddenAction_路径定向]
autoTrigger: if self.hasActiveWaypoint(type='attack') and self.isAttacking
convertTo: 毒刺[突刺定]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
addWaypoint_type: attack
addWaypoint_target_fromReference: attacking.getAsMarker
addWaypoint_maxTime: 1s

[hiddenAction_路径修正]
requireConditional: if not self.hasActiveWaypoint(type='attack')
clearAllWaypoints: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 300
addWaypoint_maxTime: 0.1s
alsoTriggerAction: 路径寻敌

[hiddenAction_路径寻敌]
addWaypoint_type: attackMove
addWaypoint_position_relativeOffsetFromSelf: 0, 300
addWaypoint_maxTime: 1s

[effect_dustL]

life: 50
stripIndex: dust
frameIndex: 0
frameIndexRandom: 2
scaleFrom: 1.5
scaleTo: 1.9
alpha: 0.8
atmospheric:true
dirOffsetRandom:180
ySpeedRelative:-1.5
xSpeedRelativeRandom:0.3
ySpeedRelativeRandom:0.3
hSpeed:0.2
yOffsetRelative:-5
drawUnderUnits:true
attachedToUnit: false

[attack]
maxAttackRange: 350
canAttackLandUnits: if self.lastConverted(laterThanSeconds=0.08)
isFixedFiring: true
attackMovement: bomber

[turret_1]
canShoot: false

[turret_3]
canAttackCondition: true

[turret_1显]
canShoot: true
canAttackCondition: false
