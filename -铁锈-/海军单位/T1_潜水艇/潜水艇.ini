
[core]
name: attackSubmarine
displayText: 潜水艇
class: CustomUnitMetadata
price: 550
maxHp: 260
mass: 10000

tags: units, 潜水艇
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 潜水艇

techLevel: 1
buildSpeed: 0.0017
availableInDemo: false

radius: 14
#displayRadius: 11

#transportSlotsNeeded: 3

isBio: false
#softCollisionOnAll: 3

#builtFrom_1_name: seaFactory
#builtFrom_1_pos:  6

overrideAndReplace: attackSubmarine
displayLocaleKey: attackSubmarine

[action_fly]
displayType: none

price:  0
text: Surface
buildSpeed: 0s
alwaysSinglePress:true
alsoQueueAction:fly2


isActive:if self.queueSize<1

[hiddenAction_fly2]
convertTo: attackSubmarine2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
whenBuilding_temporarilyConvertTo:attackSubmarine_t
whenBuilding_triggerAction: 延时属性更新
buildSpeed: 1.3s
spawnEffects:custom:水花*6,custom:shockwave

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}



[action_dive]
displayType: none

price:  0
text: Dive
#whenBuilding_cannotMove: true
alwaysSinglePress:true
isActive:false
#if self.queueSize<1

alsoQueueAction:dive2
buildSpeed:0s

[hiddenAction_dive2]
convertTo: attackSubmarine2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}



buildSpeed: 0s

spawnEffects:custom:水花*6,custom:shockwave



[graphics]
total_frames: 1

image:        attack_submarine.png
image_wreak:  attack_submarine_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

showEnergyBar:false

#movementEffect:        CUSTOM:splash
#movementEffectReverse: CUSTOM:splash
#movementEffectReverseFlipEffects: true
#movementEffectRate: 8

showQueueBar:false


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 1.5



maxAttackRange: 180
shootDelay: 110

[turret_2]
#torpedo
invisible: true
x: 0
y: 4
#attachedTo:1
#slave:true
idleDir:0
#canAttackFlyingUnits: false
#canAttackLandUnits:   true
#canAttackUnderwaterUnits: true
#canAttackNotTouchingWaterUnits: false
warmup:30
projectile: torpedo
size: 1.1
turnSpeed: 15

[projectile_torpedo]
tags= T-projectile
#torpedo
directDamage: 80
life: 250
speed: 0.2
targetSpeed: 3
targetSpeedAcceleration: 0.03

drawSize: 0.9
color: #551E1E96
lightSize: 0.1
lightColor: #000000
trailEffect: true
largeHitEffect: true

deflectionPower: -1


[movement]
movementType: WATER
moveSpeed: 1.2
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.04

targetHeight: -8

maxTurnSpeed: 1.8
turnAcceleration: 0.2

[effect_水花]

image: 水花.png
priority: low
life: 75
fadeOut: true
attachedToUnit: false
scaleFrom: 0.8
scaleTo: 1.5
alpha: 0.9
fadeInTime: 3
drawUnderUnits:false
createWhenZoomedOut: false
dirOffsetRandom:180
xOffsetAbsoluteRandom:5
yOffsetAbsoluteRandom:5

[effect_shockwave]

stripIndex:shockwave
#image: shockwave
priority: high
life: 120
fadeOut: true
attachedToUnit: false
scaleFrom: 0.1
scaleTo: 0.9
alpha: 0.7
fadeInTime: 3
drawUnderUnits:true
createWhenZoomedOut: false
dirOffsetRandom:180




[hiddenAction_生产跟随移动工厂]
@copyFromSection: template_生产跟随移动工厂
