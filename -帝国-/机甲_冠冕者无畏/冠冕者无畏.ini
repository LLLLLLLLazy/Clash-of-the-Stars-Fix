
[core]
name: 冠冕者无畏
displayText: 冠冕者无畏
displayDescription: -帝国重型战斗机甲 \n -黑玛瑙机枪扫射地面与空中 \n -炼狱熔炉喷火器将直线灼烧地面敌军 \n -炼狱火焰在300距离外时伤害衰减 \n -可短时间提升攻击力，但结束时会受到伤害 \n -可于山体与水面行动 \n为了帝皇!
class: CustomUnitMetadata
price: 98000
maxHp: 10000
mass: 90000
tags: units

armour: 10
armourMinDamageToKeep: 10

fogOfWarSightRange: 24

techLevel: 2
buildSpeed: 0.00015

experimental: true
#availableInDemo: false

radius: 40
displayRadius: 50

#isBio: true

#softCollisionOnAll: 3

selfRegenRate: 0.2

transportSlotsNeeded: 9

numBitsOnDeath: 30
effectOnDeath: CUSTOM:shockwave_large, large

energyMax: 10
energyRegen: 0.01
energyRegenWhenRecharging: 0.1
energyNeedsToRechargeToFull: true

[action_heating]
convertTo: 冠冕者无畏[炉心超载]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
id: ${section.text}
text: 炉心超载
description: -最大限度驱动能源 \n -攻击获得强化 \n -效果结束后损失少量生命 \n CD:100s
buildSpeed: 3s
alwaysSinglePress: true
iconImage: laser_tank_charge.png
iconExtraImage: 炉心超载.png

addActionCooldownTime: 100s

[graphics]
total_frames: 1
image:       冠冕者无畏.png
image_wreak: 冠冕者无畏残骸.png
image_turret: NONE

teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX: 4
shadowOffsetY: 4

lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 1

maxAttackRange: 300
shootDelay: 30

turretMultiTargeting: true

[hiddenAction_属性改变设定]
setUnitMemory: 属性[41]=cos(180)*(${turret_3.warmupShootDelayTransfer} / ${attack.shootDelay})

[turret_1]
#主体
invisible: true
canShoot: false
x: 0
y: 0
idleDir: 0

[turret_2]
#右臂
image: 喷火器.png
attachedTo: 1
x: 35
y: 0
idleDir: -10

limitingAngle: 60
canAttackMaxAngle: 40

shoot_light: #ff0000
shoot_flame: CUSTOM:fire

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

projectile: 2

size: 50

delay: 0.01

recoilOffset: 5

turnSpeed: 1.2
turnSpeedAcceleration: 1

aimOffsetSpread: 0

energyUsage: 0.1

[turret_3]
#左臂
image: 加特林.png
attachedTo: 1
x: -35
y: 0
barrelY: 44
barrelX: -4
barrelOffsetX_onOddShots: 8
idleDir: 5

limitingAngle: 60
limitingRange: 260
canAttackMaxAngle: 20

#shoot_sound: large_gun_fire2
#shoot_sound_vol: 0.2
#shoot_light: #000000
shoot_flame: CUSTOM:sparks,CUSTOM:scoutTrail

warmup: 100

warmupCallDownRate: 0.5

warmupNoReset: true
warmupShootDelayTransfer: 25

projectile: 1

turnSpeed: 1.2
turnSpeedAcceleration: 1

aimOffsetSpread: 0.3

[turret_3A]
#左臂附
image: null.png
attachedTo: 1
x: -35
y: 0
barrelY: 44
barrelX: -4
barrelOffsetX_onOddShots: 8
idleDir: 5

limitingAngle: 60
limitingRange: 260
canAttackMaxAngle: 20

#shoot_sound: large_gun_fire2
#shoot_sound_vol: 0.2
#shoot_light: #000000
shoot_flame: CUSTOM:sparks2*4,CUSTOM:scoutTrail*5

delay: 120

warmup: 50

warmupCallDownRate: 0.5

warmupNoReset: true
warmupShootDelayTransfer: 70

projectile: 3

turnSpeed: 0.8
turnSpeedAcceleration: 1

aimOffsetSpread: 0.3

[turret_4]
#肩甲
x: 0
y: 0
attachedTo: 1
slave: true
idleDir: 0

turnSpeed: 0

canShoot: false
image: 冠冕者无畏.png

[projectile_1]
tags= T-projectile
life: 400

directDamage: 33
armourIgnoreAmount: 30

largeHitEffect: true
#targetGround: true

speed: 9
image: 子弹.png

sweepOffsetFromTargetRadius: 0.6
sweepSpeed: 10

lightColor: #000000
lightSize: 0.3
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 1

[projectile_1A]
tags= T-projectile
life: 400

directDamage: 33
armourIgnoreAmount: 30

largeHitEffect: true
#targetGround: true

speed: 15
image: 子弹.png

sweepOffsetFromTargetRadius: 1.2

lightColor: #000000
lightSize: 0.3
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 1

[projectile_2]
tags= T-projectile
areaDamage: 3
areaRadius: 45
spawnProjectilesOnCreate:"""
2(recursionLimit=${4+limit}, yOffsetRelative=30),
2中(recursionLimit=${1+limit}, yOffsetRelative=150),
2远(recursionLimit=${1+limit}, yOffsetRelative=300),
2A(recursionLimit=${18+limit}, yOffsetRelative=30, offsetRandomXY=15)
"""
@define limit: 0
explodeOnEndOfLife: true
areaDamageNoFalloff: true
#largeHitEffect: true
#flameWeapon: true
image: null.png
targetGround: true
life: 0
speed: 10
pushVelocity: 0.1
targetSpeedAcceleration: 0.1
explodeEffect: NONE

#spawnProjectilesOnExplode: 2A(offsetRandomXY=30)

[projectile_2中]
@copyFromSection: projectile_2
spawnProjectilesOnCreate: 2中(recursionLimit=${6+limit}, yOffsetRelative=30), 2A(recursionLimit=${18+limit}, yOffsetRelative=30, offsetRandomXY=15)
delayedStartTimer: 2
pushVelocity: 0

[projectile_2远]
@copyFromSection: projectile_2中
areaDamage: 2
spawnProjectilesOnCreate: 2远(recursionLimit=${8+limit}, yOffsetRelative=30), 2A(recursionLimit=${18+limit}, yOffsetRelative=30, offsetRandomXY=15)
delayedStartTimer: 5

[projectile_2A]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife: true
image: null.png

flameWeapon: true

targetGround: true

areaDamage: 1
areaRadius: 25


[projectile_3]
tags= T-projectile
directDamage: 232
life: 0
speed: 0

deflectionPower: -1

spawnProjectilesOnEndOfLife: 1A*4, 3A

[projectile_3A]
tags= T-projectile
life: 400

areaDamage: 100
areaRadius: 65
armourIgnoreAmount: 30

largeHitEffect: true
#targetGround: true

speed: 12
image: 玛瑙.png
drawSize: 1.0

#lightColor: #000000
#lightSize: 0.4
trailEffect: CUSTOM:projectileTrail2
trailEffectRate: 2

spawnProjectilesOnExplode: 爆炸效果

[projectile_爆炸效果]
tags= T-projectile
directDamage: 0
largeHitEffect: true
life: 0
explodeOnEndOfLife: true
explodeEffect: CUSTOM:projectileTrail3*8
explodeEffectOnShield: CUSTOM:projectileTrail3*8

[effect_projectileTrail]
priority: low
image: SHARED:light_50.png
life: 9
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 0.4
scaleTo: 0.2
alpha: 0.6
drawUnderUnits: true

[effect_projectileTrail2]
image: 玛瑙碎块.png
life: 50
fadeOut: true
attachedToUnit: false
#color: #000000
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits: true

[effect_projectileTrail3]
image: 玛瑙碎块.png
life: 100
fadeOut: true
attachedToUnit: false
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 3
#color: #000000
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits: true

[effect_sparks]
#frameIndex: 4
#stripIndex: projectiles2
image: 弹壳.png
atmospheric: true
attachedToUnit: false
life: 100
physics: true
xOffsetRelative: -9
yOffsetRelative: -45
xSpeedRelative: -1.8
ySpeedRelative: 0.9
#scaleFrom: 1.0
#scaleTo: 1.0
hSpeed: 1.0
#dirSpeed: 1
#color: #FFF06E

[effect_sparks2]
#frameIndex: 4
#stripIndex: projectiles2
image: 弹壳.png
atmospheric: true
attachedToUnit: false
life: 100
physics: true
xOffsetRelative: -9
yOffsetRelative: -45
xSpeedRelative: -2.1
xSpeedRelativeRandom: 0.7
ySpeedRelativeRandom: 1.4
#scaleFrom: 1.0
#scaleTo: 1.0
hSpeed: 1.5
#dirSpeed: 1
#color: #FFF06E

[effect_scoutTrail]
stripIndex: effects
frameIndex: 0
priority: low

life: 30
fadeOut: true
attachedToUnit: false
color: #000000
fadeInTime: 5
hSpeed: 0.3
scaleFrom: 0.5
scaleTo: 2.0
alpha: 0.3
drawUnderUnits: false
#yOffsetRelative: -7
xOffsetRelativeRandom: 4
xSpeedRelativeRandom: 0.2
ySpeedRelative: 1
ySpeedRelativeRandom: 0.2

shadow: true
atmospheric: true

[effect_fire]
priority: high
image: fire.png
atmospheric: true
life: 150
#xSpeedRelative: 0
ySpeedRelative: 6
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.5
scaleFrom: 2.0
scaleTo: 2.0
total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFramePingPong: true
animateFrameSpeed: 0.1
animateFrameSpeedRandom: 0.02

[projectile_nuke]
tags= T-projectile
life: 50
speed: 5
drawSize: 0

largeHitEffect: true

targetGround: true

areaDamage: 1500
areaRadius: 100

friendlyFire: true

deflectionPower: -1

spawnProjectilesOnExplode: nuke附

[projectile_nuke附]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife: true
invisible: true
targetGround: true
directDamage: 0
explodeEffect: CUSTOM:explodeCore

[effect_explodeCore]
priority: veryhigh
life: 60
attachedToUnit: true
stripIndex: explode_big2
scaleFrom: 3.0
scaleTo: 3.0
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.25
fadeOut: false


[effect_shockwave_large]
stripIndex: shockwave_large
scaleFrom: 0.2
scaleTo: 2
life: 45
color: #CCA3A3

[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 0.5
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

reverseSpeedPercentage: 1.0

maxTurnSpeed: 3
turnAcceleration: 0.03

moveSlidingMode : true
moveIgnoringBody: true

#[hiddenAction_1]
#autoTrigger: if self.hasFlag(id=1)
#addResources: unsetFlag=1
#playAnimation: 1


[leg_1]
x: 20
y: 0
attach_x: 15
attach_y: 0
moveSpeed: 1
moveWarmUp: 20

image_leg: 腿.png
image_foot: 脚.png

rotateSpeed: 2
heightSpeed: 0.2
resetAngle: 0.00000001

dust_effect: true
holdDisMin: 8
holdDisMax: 20
estimatingPositionMultiplier: 1.1

[leg_2]
x: -20
y: 0
attach_x: -15
attach_y: 0
copyFrom: 1