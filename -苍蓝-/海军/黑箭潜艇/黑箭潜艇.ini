
[core]
name: 黑箭潜艇
displayText: 黑箭潜艇
displayDescription:-穿透海与风之箭矢鱼雷 \n -可上浮攻击地面与空军 \n -如利箭般高速
class: CustomUnitMetadata
price: 5500
maxHp: 1000
mass: 40000
tags: units

techLevel: 2
buildSpeed: 0.0004
availableInDemo: false

radius: 25
#displayRadius: 11

transportSlotsNeeded: 3

isBio: false
#softCollisionOnAll: 3

[action_surface]
convertTo: 黑箭潜艇[水面]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
#isActive: if not self.isOverwater
displayType: action
price:  0
text: Surface
description: -Surface unit
buildSpeed: 1
whenBuilding_cannotMove: true
pos:-1
alwaysSinglePress: true
highPriorityQueue: true

[action_dive]
isVisible: false

convertTo: 黑箭潜艇
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
isActive: if self.isOverwater
displayType: action
price:  0
text: Dive
description: -Dive unit underwater
buildSpeed: 1.5s
whenBuilding_cannotMove: true
pos:-1
alwaysSinglePress: true
highPriorityQueue: true

[graphics]
total_frames: 1

image:        黑箭潜艇.png
image_wreak:  base_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:splash, CUSTOM:Airwave
#movementEffectReverse: CUSTOM:splash
#movementEffectReverseFlipEffects: true
movementEffectRate: 5

[effect_splash]

life: 70
stripIndex: effects
frameIndex: 13

scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.4
atmospheric:true

fadeInTime: 3
fadeOut:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#hSpeed:0.1

yOffsetRelative:-26

attachedToUnit: false
drawUnderUnits:true

[effect_Airwave]
stripIndex: shockwave
priority: low
life: 50
fadeOut: true
attachedToUnit: false
fadeInTime: 2
scaleFrom: 0.3
scaleTo: 1.2
alpha: 0.1
drawUnderUnits: true
yOffsetRelative: 27
ySpeedRelative: -0.2
atmospheric: true
delayedStartTimerRandom: 3


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 1.5

maxAttackRange: 230
shootDelay: 166

[turret_1]
#torpedo
invisible: true
x: 0
y: 10
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: torpedo
size: 1.1
#turnSpeed: 15

turnSpeed: 0
canAttackMaxAngle: 181

[projectile_torpedo]
tags= T-projectile
#射击鱼雷
directDamage: 350
life: 20
speed: 1.5

drawSize:1.2

color: #1E1E96
trailEffect: true
largeHitEffect: true

wobbleAmplitude: 3
wobbleFrequency: 3s

deflectionPower: -1

spawnProjectilesOnEndOfLife: arrow

[projectile_arrow]
tags= T-projectile
#黑箭
directDamage: 225
life: 300
speed: 6

drawSize:0.6

image: arrow.png

trailEffect: true
largeHitEffect: true

deflectionPower: -1

[movement]
movementType: WATER
moveSpeed: 2.1
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.04


#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45


targetHeight: -8
targetHeightDrift: 0.3

maxTurnSpeed: 2.5
turnAcceleration: 0.12

