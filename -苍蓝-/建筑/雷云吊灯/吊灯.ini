
[core]
showInEditor: false
name: 吊灯
displayText: 雷云吊灯
displayDescription: -只能攻击空中单位 \n -建造完成时回满血盾并造成大范围伤害 \n -召唤致命的雷云追击敌人 \n -至多可攻击三个目标 \n -高空层建筑：可建造在地面阻挡之上

class: CustomUnitMetadata
price: 11000
maxHp: 2300
mass: 9000
tags: units, 建筑附属

techLevel: 2
buildSpeed: 0.00015

radius: 20

effectOnDeath: CUSTOM:消散*1

[effect_消散]
drawType: displacement
image: 雷云吊灯.png
life: 120
scaleFrom: 1
scaleTo: 1.1
alpha: 0.6
fadeOut: true
drawUnderUnits:false

[hiddenAction_created]
autoTrigger: if not self.hasFlag(id=1)
addResources: setFlag=1
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 惊雷
spawnEffects: 惊雷*5
playSoundAtUnit:Thunder8.ogg:0.6

[projectile_惊雷]
tags= T-projectile
areaDamage: 300
areaRadius: 200
areaDamageNoFalloff: true

life: 30
instant: true
areaHitAirAndLandAtSameTime: true

shieldDamageMultiplier: 1
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.5

explodeEffect:NONE

spawnUnit:电H*8(offsetRandomX=100,offsetRandomY=100)

[effect_惊雷]
life: 30
lifeRandom: 3
fadeOut: true
attachedToUnit: true
image: 惊雷.png
color: #63e6e8
scaleFrom: 2.5
scaleTo: 2.3
alpha: 0.5
dirSpeedRandom: 50
drawUnderUnits:false
total_frames: 5
animateFrameStart: 0
animateFrameEnd: 4
animateFrameLooping: true
animateFrameSpeed: 1
animateFrameSpeedRandom: 0.5
dirOffsetRandom:180


[hiddenAction_雷云雾]
autoTrigger: if self.timeAlive>2
spawnEffects: 雷云雾*3

[effect_雷云雾]
priority: verylow
image: 云.png
life: 120
lifeRandom: 30
color: #7E9B99
fadeInTime: 30
scaleFrom: 0.2
scaleTo: 0.4
alpha: 0.25
attachedToUnit: false
hOffset: 35
dirOffsetRandom: 180
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20
xSpeedAbsoluteRandom: 0.4
ySpeedAbsoluteRandom: 0.4
delayedStartTimerRandom: 150
atmospheric: true

[graphics]
total_frames: 1

image:        雷云吊灯.png
image_wreak:  null.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: SHADOW:雷云.png
shadowOffsetX:0
shadowOffsetY:0

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 20

maxAttackRange: 400
shootDelay: 150

[turret_1]
invisible: true
x: 0
y: 0

#shoot_sound:
#shoot_sound_vol:
shoot_flame:CUSTOM:hitLightFlash*2, 雷云雾*10
#shoot_light:

projectile: 1

[projectile_1]
tags= T-projectile
areaDamage: 100
areaRadius: 0
life: 0
speed: 0

deflectionPower: -1

spawnProjectilesOnEndOfLife: 2*3

[projectile_2]
tags= T-projectile
areaDamage: 0
areaRadius: 0
life: 50
speed: 20

targetGround: true
targetGroundSpread: 150

deflectionPower: -1

image: null.png

explodeEffect:NONE

spawnUnit: 雷暴预警

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 0.6
scaleTo: 0.4
alpha: 1.0
drawUnderUnits:false
yOffsetAbsolute:8

[movement]
movementType: AIR
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

targetHeight: 50
targetHeightDrift: 2

maxTurnSpeed: 0
turnAcceleration: 0.1