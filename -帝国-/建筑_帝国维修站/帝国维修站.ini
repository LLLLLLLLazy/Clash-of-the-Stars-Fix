
[core]
name: 帝国维修站
displayText: 帝国维修站
displayDescription: -维修单位 \n -可以回收自己的单位 \n -能以较低效率回收敌方单位 \n -有短暂延迟

class: CustomUnitMetadata
price: 2500
maxHp: 2000
mass: 4000
tags: units

techLevel: 1

buildSpeed: 0.0007
availableInDemo: false

radius: 25
displayRadius: 25

isBuilding:true
isBio: false

footprint: -1,-1,1,1
constructionFootprint:-1,-1,1,1

canRepairBuildings: true

canRepairUnits : true
canReclaimResources:true
nanoRange: 250
nanoBuildSpeed: 1.5
autoRepair: true
nanoRepairSpeed: 0.5
resourceReclaimMultiplier: 2.5

canBuild_1_name: reclaim
canBuild_1_pos:  -1
canBuild_2_name: repair
canBuild_2_pos:  0

@memory 指定坐标:unit

[action_范围回收]
@copyFromSection: template_范围回收

[hiddenAction_回收路径]
@copyFromSection: template_回收路径

[decal_回收范围]
@copyFromSection: template_回收范围

[hiddenAction_recovery]
autoTriggerOnEvent: killedAnyUnit
requireConditional: if not eventSource.self.tags(includes="召唤物")
addResourcesWithLogic: credits=attacking.priceCredits*0.2

[action_强制回收]
isActive: false
text: 强制回收
description: -回收敌方单位 \n -获得20%的资金
pos: 1
displayType: infoOnly
buildSpeed: 0s
addResources: hp=1

[graphics]

total_frames: 1
image: 帝国维修站.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:2

repairEffect: CUSTOM:紫球, CUSTOM:紫光
repairEffectAtTarget: CUSTOM:紫光
repairEffectRate: 5

reclaimEffect: CUSTOM:红球回, CUSTOM:红光
reclaimEffectAtTarget: CUSTOM:红光
reclaimEffectRate: 4

[effect_紫球]
priority: low
image: 白球.png
life: 25
fadeOut: true
attachedToUnit: false
fadeInTime: 3
color: #9214DC

scaleFrom: 0.7
scaleTo: 1.0
ySpeedRelative: 6.0
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 1.0
drawUnderUnits:false

[effect_紫光]
priority: low

image: SHARED:light_50.png
life: 15
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #9214DC

scaleFrom: 1.2
scaleTo: 0.8
alpha: 0.5
drawUnderUnits:false

[effect_红球回]
image: 白球聚.png
life: 25
fadeOut: false
fadeInTime: 22
attachedToUnit: false
color: #ff0000

scaleFrom: 1.0
scaleTo: 0.0
alpha: 1.0
dirOffsetRandom:15
drawUnderUnits:false

[effect_红光]
priority: low

image: SHARED:light_50.png
life: 15
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #ff0000

scaleFrom: 1.2
scaleTo: 0.8
alpha: 0.5
drawUnderUnits:false

[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 20

maxAttackRange: 250
shootDelay: 4

[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 40
invisible: true
warmup: 60
warmupNoReset: true

shoot_flame: CUSTOM:红球回, CUSTOM:红光

canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canAttackMaxAngle: 181

turnSpeedAcceleration: 0.08

[projectile_1]
tags= T-projectile
directDamage: 3
life: 50
instant: true
armourIgnoreAmount: 9999
shieldDefectionMultiplier: 0
explodeEffect: CUSTOM:红光
explodeEffectOnShield: CUSTOM:红光


[animation_idle]
onActions: idle
pingPong:false

arm1_0s:{x:0, y:0, dir:0}
arm1_1s:{x:0, y:2, dir:0}
arm1_2s:{x:0, y:0, dir:0}
arm1_3s:{x:0, y:-2, dir:0}
arm1_4s:{x:0, y:0, dir:0}

[arm_1]
x: 0
y: 40

image_end: 能源紫水晶.png

moveSpeed: 1

drawOverBody: true

[arm_2]
x: 0
y: 0

image_end: 帝国维修站附.png
image_end_teamColors: true

drawOverBody: true



[movement]
movementType:BUILDING
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0
maxTurnSpeed: 0
turnAcceleration: 0

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181

[ai]
useAsBuilder: true
buildPriority: 0.055
noneInBaseExtraPriority: 0.02
maxEachBase: 2
