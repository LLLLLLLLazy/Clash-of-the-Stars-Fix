
[core]
name: 六边封锁
maxHp: 1
price: 0
mass: 0
tags: 六边封锁, 虚无
isBuilding: true

fogOfWarSightRange: 25
#隐藏单位本身
showInEditor: false
radius: 0
showOnMinimap: false
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true
isUnrepairableUnit:	true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 0.1s

[hiddenAction_beginning]
autoTriggerOnEvent: completeAndActive
spawnEffects: CUSTOM:六边形, CUSTOM:圆
fireTurretXAtGround: 0
fireTurretXAtGround_withOffset: 0, 10
fireTurretXAtGround_withProjectile: 虫足生成
alsoQueueAction: 封锁1, 封锁2, 封锁3, 封锁4, 封锁5, 封锁6, 巨大别西卜虚影
setBodyRotation: 0

[hiddenAction_封锁1]
buildSpeed: 0.83s
fireTurretXAtGround: 4
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 封锁线

[hiddenAction_封锁2]
@copyFromSection: hiddenAction_封锁1
buildSpeed: 0.66s
fireTurretXAtGround: 3

[hiddenAction_封锁3]
@copyFromSection: hiddenAction_封锁2
fireTurretXAtGround: 2

[hiddenAction_封锁4]
@copyFromSection: hiddenAction_封锁2
fireTurretXAtGround: 1

[hiddenAction_封锁5]
@copyFromSection: hiddenAction_封锁2
fireTurretXAtGround: 6

[hiddenAction_封锁6]
@copyFromSection: hiddenAction_封锁2
fireTurretXAtGround: 5

[hiddenAction_巨大别西卜虚影]
buildSpeed: 4.4s
fireTurretXAtGround: 0
fireTurretXAtGround_withOffset: 0, 10
fireTurretXAtGround_withProjectile: 虚影生成

[effect_六边形]
image: 六边形.png
life: 600
scaleFrom: 1
scaleTo: 1
alpha: 1
fadeOut: false
fadeInTime: 200
priority: critical
showInFog: true
createWhenOffscreen: true
drawUnderUnits: true

[effect_圆]
@copyFromSection: effect_六边形
image: 圆.png

[projectile_虫足生成]
directDamage: 0
invisible: true
life: 540
speed: 0
turnSpeed: 0
nukeWeapon: true
deflectionPower: -1
spawnProjectilesOnCreate: 足1(yOffsetRelative=-115, xOffsetRelative=180, offsetDir=255, offsetRandomDir=360), 足2(yOffsetRelative=115, xOffsetRelative=180, offsetDir=195, offsetRandomDir=360), 足3(yOffsetRelative=220, xOffsetRelative=0, offsetDir=135, offsetRandomDir=360), 足4(yOffsetRelative=115, xOffsetRelative=-180, offsetDir=75, offsetRandomDir=360), 足5(yOffsetRelative=-115, xOffsetRelative=-180, offsetDir=15, offsetRandomDir=360), 足6(yOffsetRelative=-220, xOffsetRelative=0, offsetDir=-45, offsetRandomDir=360)

[projectile_足1]
directDamage: 0
invisible: true
life: 0
turnSpeed: 0
effectOnCreate: CUSTOM:虫足1, CUSTOM:虫足显现1, CUSTOM:虫足显散1

[projectile_足2]
@copyFromSection: projectile_足1
effectOnCreate: CUSTOM:虫足2, CUSTOM:虫足显现2, CUSTOM:虫足显散2

[projectile_足3]
@copyFromSection: projectile_足1
effectOnCreate: CUSTOM:虫足3, CUSTOM:虫足显现3, CUSTOM:虫足显散3

[projectile_足4]
@copyFromSection: projectile_足1
effectOnCreate: CUSTOM:虫足4, CUSTOM:虫足显现4, CUSTOM:虫足显散4

[projectile_足5]
@copyFromSection: projectile_足1
effectOnCreate: CUSTOM:虫足5, CUSTOM:虫足显现5, CUSTOM:虫足显散5

[projectile_足6]
@copyFromSection: projectile_足1
effectOnCreate: CUSTOM:虫足6, CUSTOM:虫足显现6, CUSTOM:虫足显散6

[effect_虫足1]
image: 虫足.png
life: 540
scaleFrom: 5
scaleTo: 5
alpha: 1
fadeOut: false
fadeInTime: 80
priority: critical
showInFog: true
createWhenOffscreen: true
attachedToUnit: true

delayedStartTimer: 0
alsoEmitEffectsOnDeath: CUSTOM:虫足消失

[effect_虫足2]
@copyFromSection: effect_虫足1
life: 500
delayedStartTimer: 40

[effect_虫足3]
@copyFromSection: effect_虫足1
life: 460
delayedStartTimer: 80

[effect_虫足4]
@copyFromSection: effect_虫足1
life: 420
delayedStartTimer: 120

[effect_虫足5]
@copyFromSection: effect_虫足1
life: 380
delayedStartTimer: 160

[effect_虫足6]
@copyFromSection: effect_虫足1
life: 340
delayedStartTimer: 200

[effect_虫足消失]
image: 虫足.png
life: 60
scaleFrom: 5
scaleTo: 5
showInFog: true
createWhenOffscreen: true

[template_虫足显现]
image: 虫足现.png
life: 80
fadeInTime: 50
alsoEmitEffectsOnDeath: NONE

[template_虫足显散]
image: 虫足现.png
life: 30
scaleTo: 6
alpha: 0.8
fadeInTime: 0
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_虫足显现1]
@copyFromSection: effect_虫足1, template_虫足显现

[effect_虫足显散1]
@copyFromSection: effect_虫足1, template_虫足显散
delayedStartTimer: 80

[effect_虫足显现2]
@copyFromSection: effect_虫足2, template_虫足显现

[effect_虫足显散2]
@copyFromSection: effect_虫足2, template_虫足显散
delayedStartTimer: 120

[effect_虫足显现3]
@copyFromSection: effect_虫足3, template_虫足显现

[effect_虫足显散3]
@copyFromSection: effect_虫足3, template_虫足显散
delayedStartTimer: 160

[effect_虫足显现4]
@copyFromSection: effect_虫足4, template_虫足显现

[effect_虫足显散4]
@copyFromSection: effect_虫足4, template_虫足显散
delayedStartTimer: 200

[effect_虫足显现5]
@copyFromSection: effect_虫足5, template_虫足显现

[effect_虫足显散5]
@copyFromSection: effect_虫足5, template_虫足显散
delayedStartTimer: 240

[effect_虫足显现6]
@copyFromSection: effect_虫足6, template_虫足显现

[effect_虫足显散6]
@copyFromSection: effect_虫足6, template_虫足显散
delayedStartTimer: 280


[hiddenAction_爪痕]
autoTrigger: if self.hasFlag(id=1)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 爪痕
addResources: ammo=1
playSoundAtUnit: Earth5.ogg

[hiddenAction_结束]
autoTrigger: if self.ammo(greaterThan=6)
playSoundAtUnit: Crash.ogg
deleteSelf: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 破碎


[graphics]
isVisible: false
image: null.png

icon_zoomed_out_neverShow: true

[attack]
canAttack: false

turretSize: 0

[turret_0]
x: 0
y: 0
invisible: true

[turret_1]
x: -250
y: 0
idleDir: 30
invisible: true

[turret_2]
x: -125
y: 215
idleDir: 90
invisible: true

[turret_3]
x: 125
y: 215
idleDir: 150
invisible: true

[turret_4]
x: 250
y: 0
idleDir: 210
invisible: true

[turret_5]
x: 125
y: -215
idleDir: 270
invisible: true

[turret_6]
x: -125
y: -215
idleDir: 330
invisible: true

[projectile_封锁线]
directDamage: 0
invisible: true
life: 0
speed: 0
turnSpeed: 0
spawnProjectilesOnCreate: 封锁线(recursionLimit=12, yOffsetRelative=20), 封锁(recursionLimit=99)

[projectile_封锁]
areaDamage: 0
areaRadius: 20
areaExpandTime: 10
areaRadiusFromEdge: true
areaHitAirAndLandAtSameTime: true
pushVelocity: 3

image: SHARED:beam1_start.png
color: #6080FF00
explodeEffect: NONE
explodeEffectOnShield: NONE

life: 5
speed: 0
turnSpeed: 0
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnExplode: 封锁(recursionLimit=120)

[projectile_虚影生成]
@copyFromSection: projectile_虫足生成
life: 0
spawnProjectilesOnCreate: 别西卜之影置(offsetY=1000, offsetRandomX=1000, spawnChance=0.5, maxSpawnLimit=1), 别西卜之影置(offsetY=-1500, offsetRandomX=1000, maxSpawnLimit=1)

[projectile_别西卜之影置]
life: 5
invisible: true
areaDamage: 0
deflectionPower: -1
spawnProjectilesOnEndOfLife: 别西卜之影(recursionLimit=99)

[projectile_别西卜之影]
life: 1000
speed: 50
targetSpeed: 90
invisible: true
areaDamage: 3333
areaRadius: 250
areaExpandTime: 10
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
deflectionPower: -1

nukeWeapon: true
effectOnCreate: CUSTOM:别西卜虚影
explodeEffect: CUSTOM:影释, CUSTOM:暗波, CUSTOM:别西卜虚影滞
explodeEffectOnShield: CUSTOM:影释, CUSTOM:暗波, CUSTOM:别西卜虚影滞
spawnProjectilesOnExplode: flag(recursionLimit=99)

[projectile_flag]
areaDamage: 0
areaRadius: 100
life: 0
deflectionPower: -1
explodeOnEndOfLife: true
friendlyFire: only-ignoreEnemy
mutatorX_ifUnitWithTags: 六边封锁
mutatorX_areaDamageMultiplier: 0
mutatorX_addResourcesAreaHit: setFlag=1
explodeEffect: NONE

[projectile_爪痕]
life: 10
instant: true
invisible: true
areaDamage: 1000
areaRadius: 170
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
targetGround: true
targetGroundSpread: 180
explodeEffect: CUSTOM:爪痕, 爪裂*3, 爪裂碎*2, 震动
explodeEffectOnShield: CUSTOM:爪痕, 爪裂*3, 爪裂碎*2, 震动
spawnProjectilesOnCreate: 爪痕(recursionLimit=1)

[projectile_破碎]
life: 100
instant: true
invisible: true
areaDamage: 6666
areaRadius: 250
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
shieldDefectionMultiplier: 0
shieldDamageMultiplier: 0
explodeEffect: NONE
explodeEffectOnShield: NONE

[effect_别西卜虚影]
image: 别西卜.png
life: 300
scaleFrom: 14
scaleTo: 14
alpha: 0.7
fadeInTime: 3
fadeOut: false
priority: critical
showInFog: true
createWhenOffscreen: true
drawUnderUnits: false
liveAfterAttachedDies: false

yOffsetRelative: -600

total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.8
animateFrameLooping: true

[effect_别西卜虚影滞]
@copyFromSection: effect_别西卜虚影
life: 60
fadeInTime: 0
fadeOut: true
ySpeedRelative: 0.4

[effect_影释]
image: 别西卜.png
life: 15
scaleFrom: 14
scaleTo: 15
alpha: 0.8
fadeOut: true
color: #000000
total_frames: 2
ySpeedRelative: -10
yOffsetRelative: -500

[effect_暗波]
stripIndex: shockwave_large
life: 20
scaleFrom: 0
scaleTo: 8
alpha: 0.8
fadeOut: true
color: #000000
ySpeedRelative: -10

[effect_半波]
image: 半波.png
life: 20
scaleFrom: 1
scaleTo: 5
alpha: 0.4
fadeOut: true
showInFog: true
createWhenOffscreen: true
color: #80FF00
ySpeedRelative: 10

[effect_爪痕]
priority: veryhigh
image: 爪痕.png
life: 120
scaleFrom: 2
scaleTo: 2
alpha: 0.7
fadeInTime: 20
fadeOut: true
showInFog: true
createWhenOffscreen: true
color: #80FF00
dirOffsetRandom: 360

[effect_爪裂]
priority: high
image: 一线光.png
life: 40
lifeRandom: 16
fadeInTime: 6
fadeOut: true
attachedToUnit: false
color: #80FF00
scaleFrom: 2
scaleTo: 0.1
alpha: 0.6
ySpeedRelative: 6
ySpeedRelativeRandom: 2
pivotOffsetRandom: 180
spawnChance: 0.8
delayedStartTimerRandom: 10

[effect_爪裂碎]
@copyFromSection: effect_爪裂
drawType: displacement

[effect_震动]
priority: critical
drawType: displacement
image: what.png
life: 20
fadeOut: true
attachedToUnit: true
scaleFrom: 100
scaleTo: 100
alpha: 0.03
drawUnderUnits: false
alwayStartDirAtZero: true
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.4
animateFrameLooping: true


[movement]
movementType: AIR
targetHeight: 0
targetHeightDrift: 0
