[core]
name: 融合之卵
displayText: 融合之卵
maxHp: 3500
mass: 1000
price: 3000
radius: 25
isBuilding: true
footprint: -1,-1,1,1
constructionFootprint: -1,-1,1,1
placeOnlyOnResPool: false
selfRegenRate: 0.1
buildSpeed: 10s
selfBuildRate: 10s
isBug: true
isBio: true
tags: units, 虫族, 虫建筑, 虫筑系T1, 虫筑系T2
fireTurretXAtSelfOnDeath: explode
energyMax: 10
energyRegen: -0.0025
displayDescription: -孵化中…… \n -破卵后释放大量滞留毒雾 \n -产生炮弹虫与部分小型虫 \n -根据腐蚀分支解锁不同破卵效果

#--------------------
[action_沙盒-立即孵化]
isVisible: if substring(str(createMarker(x=-1000,y=-1000).nearestUnit),0,15) == "editorOrBuilder"
displayType: action
id: ${section.text}
text: 沙盒-立即孵化
description: -沙盒特供 \n -清空能量
iconImage: SHARED:cone_inverted_normal_128.png
addResources: energy=-100
buildSpeed: 0.05s
#--------------------

[hiddenAction_转换]
convertTo: 融合之卵[完成]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
autoTrigger: if self.energy(lessThan=0.1)

[hiddenAction_狂猎]
autoTrigger: if self.globalTeamTags(includes='狂猎')
convertTo: 融合之卵[狂猎]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_卵生]
autoTriggerOnEvent: created
requireConditional: if self.hasFlag(id=1)
playAnimation: build

[animation_1]
onActions: idle, attack, move
pingPong: true
scale_start: 1
scale_end: 1.01
speed: 60

[graphics]
image: 中卵.png
scaleImagesTo: 50
image_wreak: NONE

[attack]
canAttack: false

[turret_explode]
x: 0
y: 0
canShoot: false
projectile: explode

[projectile_explode]
tags= T-projectile
life: 99
instant: true
largeHitEffect: true
targetGround: true
areaDamage: 200
areaRadius: 60
spawnUnit: 滞留毒雾

[animation_build]
blendOut: 1s

body_0: {scale:0}
body_1.2s: {scale:1}

[movement]
movementType: BUILDING

[hiddenAction_1]
autoTrigger: if self.isOverLiquid
deleteSelf: true

[ai]
noneInBaseExtraPriority: 0.4