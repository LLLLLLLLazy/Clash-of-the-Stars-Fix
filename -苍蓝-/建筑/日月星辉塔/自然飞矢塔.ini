
[core]
name: 自然飞矢塔
price: 600
maxHp: 530
mass: 1000
tags: units

maxShield: 30
shieldRegen: 0
shieldDisplayOnlyDeflection: true

radius: 18
buildSpeed: 0.0017
displayDescription: -调节自然是魔法的基本 \n -未攻击时运转魔力形成防护盾 \n -释放多重魔力飞矢 \n -可穿透少量护甲 \n -攻击地面与空中 \n -可升级

isBuilding: true

footprint: 0,0,0,0
constructionFootprint: 0,0,0,0

buildingToFootprintOffsetY: -1

energyMax: 4
energyRegen: 0.003
energyRegenWhenRecharging: 0.03
energyNeedsToRechargeToFull: true

autoTriggerCooldownTime: 0.1s

[hiddenAction_shield]
autoTrigger: if not self.isAttacking and not self.shield(full=true)
addResources: shield=2

[action_upgrade_日]
convertTo: 日光灼烧塔
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 1400, 日耀=10
text: 升级 - 日光
description: -血量增加 \n -对单个目标持续提升伤害
descriptionAddUnitStats: ${section.convertTo}

displayType: Upgrade
buildSpeed: 0.0015

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[action_upgrade_月]
convertTo: 月影监察者
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 600, 月曜=10
text: 升级 - 月影
description: -护盾增加 \n -不可对空 \n -对小范围目标造成较高伤害 \n -攻击会逐渐衰弱|击杀重置 \n -死亡会扣除1200资金
descriptionAddUnitStats: ${section.convertTo}
addResources: -1000

displayType: Upgrade
buildSpeed: 0.002

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[action_upgrade_星]
convertTo: 璀璨星辉
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 1500
text: 升级 - 星辉
description: -射程增加 \n -远距离造成小范围伤害
descriptionAddUnitStats: ${section.convertTo}

displayType: Upgrade
buildSpeed: 0.001

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[graphics]
image: 自然飞矢塔.png

[attack]
canAttack:true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits:false

maxAttackRange: 180
shootDelay: 10

turretSize: 0

[turret_1]
x: 0
y: 14

turnSpeed: 9
shouldResetTurret: false

warmup: 7
warmupStartEffect: 魔力凝聚

shoot_sound:Cancel3.ogg
shoot_sound_vol:0.15
shoot_flame: 魔力迸发*3

energyUsage: 1

projectile: 1

[projectile_1]
tags= T-projectile
life: 50
speed: 10

image: 弩箭.png
drawSize: 0.7

directDamage: 45
armourIgnoreAmount: 10

trailEffect: 魔力流逝
trailEffectRate: 3

explodeEffect: hitLightFlash*3, 魔力消散*5
explodeEffectOnShield: hitLightFlash*4, 魔力消散*4


[effect_魔力凝聚]
priority:high
image: 魔力凝聚.png
life: 35
fadeOut: true
fadeInTime:7
attachedToUnit: false
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 1.0
dirSpeed: 8
drawUnderUnits:false

[effect_魔力迸发]
priority: low
image: SHARED:spark.png
life: 80
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.5
scaleTo: 1.5
hSpeed: 0.2
ySpeedRelative: 0.4
xSpeedRelativeRandom: 1.2
ySpeedRelativeRandom: 1.2

[effect_魔力流逝]
priority: verylow
image: SHARED:spark.png
life: 80
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.5
scaleTo: 1.5
hSpeed: 0.2
ySpeedRelative: -0.2
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 0.5

[effect_魔力消散]
priority: verylow
image: SHARED:spark.png
life: 80
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.5
scaleTo: 1.5
hSpeed: 0.2
ySpeedRelative: 1.8
xSpeedRelativeRandom: 0.4
ySpeedRelativeRandom: 0.4

[effect_hitLightFlash]
priority:low
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.0
scaleTo: 0.8
alpha: 0.8
drawUnderUnits:false

[movement]
movementType: LAND
targetHeight: 0
moveSpeed: 0
maxTurnSpeed: 0

[ai]
buildPriority: 0.22
noneInBaseExtraPriority: 0.17
maxEachBase: 3


[global_resource_日耀]
hidden: false
displayName: 日耀
displayColor: #A0FF9500
priority: 0.3

[global_resource_月曜]
hidden: false
displayName: 月曜
displayColor: #A04060FF
priority: 0.3

