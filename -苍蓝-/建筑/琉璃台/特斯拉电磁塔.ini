
[core]
name: 特斯拉电磁塔
class: CustomUnitMetadata
price: 9000
maxHp: 2200
mass: 30000
tags: units
maxShield: 1800
shieldRegen: 0.3
displayDescription: -电磁护盾\n -发射死亡闪电摧毁敌人\n -建造完成时回满血盾并造成大范围伤害\n -攻击地面单位\n -自我修复\n “万倾琉璃”

#footprint: 0,0,1,1
#constructionFootprint:0,0,1,1

#buildingToFootprintOffsetX:20
#buildingToFootprintOffsetY:20

selfRegenRate:0.08

techLevel: 1
buildSpeed: 66.6s

radius: 16
#displayRadius: 25
buildingSelectionOffset: -8

isBuilding: true
isBio: false

shieldDisplayOnlyDeflection: true
showOnMinimap: false
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
isUnselectable: true
showInEditor: false

[hiddenAction_created]
autoTrigger: if not self.hasFlag(id=1)
addResources: setFlag=1
fireTurretXAtGround: 2
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 惊雷
spawnEffects: 惊雷*5
playSoundAtUnit:Thunder8.ogg:0.6

[projectile_惊雷]
tags= T-projectile
areaDamage: 300
areaRadius: 200
areaDamageNoFalloff: true

life: 30
instant: true
areaHitAirAndLandAtSameTime: true

shieldDamageMultiplier: 1
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.5

explodeEffect:NONE

spawnUnit:电H*8(offsetRandomX=100,offsetRandomY=100)

[effect_惊雷]
life: 30
lifeRandom: 3
fadeOut: true
attachedToUnit: true
image: 惊雷.png
color: #63e6e8
scaleFrom: 2.5
scaleTo: 2.3
alpha: 0.5
dirSpeedRandom: 50
drawUnderUnits:false
total_frames: 5
animateFrameStart: 0
animateFrameEnd: 4
animateFrameLooping: true
animateFrameSpeed: 1
animateFrameSpeedRandom: 0.5
dirOffsetRandom:180

[graphics]
total_frames: 6

image:        特斯拉塔.png
image_wreak:  NONE
image_turret: NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1

animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 20

animation_moving_start: 0
animation_moving_end: 5
animation_moving_speed: 20

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 5

maxAttackRange: 260

shootDelay: 2s

isFixedFiring: true

disablePassiveTargeting: false

[turret_1]
x: 0
y: 0
barrelY: 29
barrelX: 0
invisible:true
projectile: 1

canShoot: true
shouldResetTurret: false
warmup: 1.5s

shoot_sound: lighting_burst
shoot_sound_vol: 0.5

chargeEffectImage: 雷电充能.png

[turret_2]
x: 0
y: 0
barrelY: 29
barrelX: 1
invisible:true
projectile: 1

attachedTo: 1
slave: true

warmup: 1.5s

shoot_sound: lighting_burst
shoot_sound_vol: 0.3

[turret_3]
x: 0
y: 0
barrelY: 29
barrelX: -1
invisible:true
projectile: 1

attachedTo: 1
slave: true

warmup: 1.5s

shoot_sound: lighting_burst
shoot_sound_vol: 0.3

[projectile_1]
tags= T-projectile
directDamage: 150
areaDamage: 50
areaRadius: 25
areaDamageNoFalloff: true
life: 200
lightingEffect: true
largeHitEffect: true
deflectionPower: -1

shieldDefectionMultiplier: 0.1
buildingDamageMultiplier: 0.5

explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash

spawnProjectilesOnExplode: 2(offsetRandomXY=50)
spawnUnit: 电H

[projectile_2]
tags= T-projectile
areaDamage: 50
areaRadius: 25
areaDamageNoFalloff: true
life: 100
lightingEffect: true
largeHitEffect: true
disableLeadTargeting: true
deflectionPower: -1
instant: true

shieldDefectionMultiplier: 0.1
buildingDamageMultiplier: 0.5

explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash

spawnProjectilesOnExplode: 3(offsetRandomXY=50)
spawnUnit: 电H

[projectile_3]
tags= T-projectile
directDamage: 75
life: 100
lightingEffect: true
largeHitEffect: true
disableLeadTargeting: true
deflectionPower: -1

shieldDefectionMultiplier: 0.1
buildingDamageMultiplier: 0.5

explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash
spawnUnit: 电H

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false


[effect_lightningShock]
life: 60


hOffset: 0
dirOffset: 0

fadeInTime: 0
fadeOut: false

attachedToUnit: true


image: SHARED:lightning_shock.png
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5



[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow

[effect_sparks2]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 0.5
hSpeed: 1
image: SHARED:spark.png
priority: verylow

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 5
turnAcceleration: 0.2



