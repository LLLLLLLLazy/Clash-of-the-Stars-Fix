
[core]
name: 贝露天束模块
displayText: 贝露天束模块
copyFrom: common_slot.ini

displayDescription: -激光射束模块 \n -以日月之射束攻击敌军 \n -日月轮换:在不同主模块领域中会切换日光灼烧塔或月影监察者的射束攻击 \n -在日月领域切换时释放大范围日&月塔喷发效果 \n -每1能源供应提供10攻击范围加成(范围上限:320/350, 基础范围:200/230) \n -附加的天束模块越多造价越高

price: 3000

energyMax: 6
energyStartingPercentage: 0

autoTriggerCooldownTime: 1
autoTriggerCooldownTime_allowDangerousHighCPU:true

tags: units, 贝露模块, 日月天束模块, 日月模块完成, 贝露中心单位

[action_日耀]
autoTrigger: if parent.resource.日耀模块>0
convertTo: 贝露天束模块[日]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

text: [ 日耀 ]
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}

isActive: false
buildSpeed: 0s
pos: 1
addResources: energy=-6

iconExtraImage: 苍影日耀切换.png
iconExtraColor: #AAFFFFFF

[action_月曜]
@copyFromSection: action_日耀
autoTrigger: if parent.resource.月曜模块>0
convertTo: 贝露天束模块[月]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
text: [ 月曜 ]

iconExtraImage: 苍影月曜切换.png

[resource_日耀模块]
displayName: 日耀模块

[resource_月曜模块]
displayName: 月曜模块

[global_resource_日耀]
displayName: 日耀
displayColor: #A0FF9500
priority: 0.3

[global_resource_月曜]
displayName: 月曜
displayColor: #A04060FF
priority: 0.3

[hiddenAction_月曜无效]
autoTrigger: true
setResourcesWithLogic: 月曜T1攻速=0.01, 月曜T2攻速=0.01


[action_reclaim]
description: -为另一种模块腾出空槽 \n -返还%{${core.price * 0.5} * parent.numberOfAttachedUnits(withTag="日月模块完成")}资金 \n -返还价值随数量变动
addResources: 0
addResourcesWithLogic: credits=${core.price * 0.5} * parent.numberOfAttachedUnits(withTag="日月模块完成")

[action_destroy]
description: -立即破坏此模块 \n -为另一种模块腾出空槽 \n -仅返还%{${core.price * 0.05} * parent.numberOfAttachedUnits(withTag="日月模块完成")}资金 \n -返还价值随数量变动
addResources: 0
addResourcesWithLogic: credits=${core.price * 0.05} * parent.numberOfAttachedUnits(withTag="日月模块完成")


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false
maxAttackRange: 350
shootDelay: 8
aimOffsetSpread: 0
turretSize: 0

[turret_0]
x: 0
y: 50
canShoot: false
turnSpeed: 3

[turret_1.0]
x: 0
y: 0
attachedTo: 0
slave: true
projectile: 1.0
resourceUsage: energy=-0.06, ammo=-1
altProjectile: 1.1
altProjectileCondition: if self.energy(greaterThan=1) and not self.energy(greaterThan=2)
canAttackCondition: false

[turret_1.2]
@copyFromSection: turret_1.0
projectile: 1.2
altProjectile: 1.3
altProjectileCondition: if self.energy(greaterThan=3) and not self.energy(greaterThan=4)

[turret_1.4]
@copyFromSection: turret_1.0
projectile: 1.4
altProjectile: 1.5
altProjectileCondition: if self.energy(greaterThan=5) and not self.energy(full=true)

[turret_1.6]
@copyFromSection: turret_1.0
projectile: 1.6

[projectile_1.0]
tags= T-projectile
life: 20
directDamage: 5
areaDamage: 10
areaRadius: 10

[projectile_1.1]
@copyFromSection:projectile_1.0
directDamage: 8
[projectile_1.2]
@copyFromSection:projectile_1.0
directDamage: 10
[projectile_1.3]
@copyFromSection:projectile_1.0
directDamage: 15
[projectile_1.4]
@copyFromSection:projectile_1.0
directDamage: 20
[projectile_1.5]
@copyFromSection:projectile_1.0
directDamage: 25
[projectile_1.6]
@copyFromSection:projectile_1.0
directDamage: 30
areaDamage: 20
areaRadius: 20


[turret_2.0]
x: 0
y: 0
attachedTo: 0
slave: true
delay: 5
limitingRange: 360
projectile: 2.0
resourceUsage: energy=-0.06, ammo=-1
altProjectile: 2.1
altProjectileCondition: if self.energy(greaterThan=1) and not self.energy(greaterThan=2)
canAttackCondition: false
[turret_2.2]
@copyFromSection: turret_2.0
projectile: 2.2
altProjectile: 2.3
altProjectileCondition: if self.energy(greaterThan=3) and not self.energy(greaterThan=4)
[turret_2.4]
@copyFromSection: turret_2.0
projectile: 2.4
altProjectile: 2.5
altProjectileCondition: if self.energy(greaterThan=5) and not self.energy(full=true)
[turret_2.6]
@copyFromSection: turret_2.0
projectile: 2.6

[projectile_2.0]
tags= T-projectile
life: 20
areaDamage: 20
areaRadius: 35
[projectile_2.1]
@copyFromSection:projectile_2.0
areaDamage: 15
[projectile_2.2]
@copyFromSection:projectile_2.0
areaDamage: 12
[projectile_2.3]
@copyFromSection:projectile_2.0
areaDamage: 10
[projectile_2.4]
@copyFromSection:projectile_2.0
areaDamage: 8
[projectile_2.5]
@copyFromSection:projectile_2.0
areaDamage: 6
[projectile_2.6]
@copyFromSection:projectile_2.0
areaDamage: 2
areaRadius: 10

[graphics]
image: 苍影日月塔.png




