
[core]
name:飓风使徒
displayDescription: 
price:0
maxHp: 0
mass: 10000
techLevel:1
buildSpeed: 8.5s
radius: 32
displayRadius: 34
isBio: false
tags:飓风使徒
showInEditor:false
canNotBeDirectlyAttacked:true
@memory alpha:float
disableAllUnitCollisions:true
disableDeathOnZeroHp:true
softCollisionOnAll: 0
showOnMinimap:false
autoTriggerCooldownTime: 0.1s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[graphics]
drawLayer:air
total_frames: 1
image:SHARED:blank.png
image_wreak:NONE
image_turret:SHARED:blank.png
image_shadow:NONE
splastEffect:true
imageScale:1.0
disableLowHpFire:true
disableLowHpSmoke:true
icon_zoomed_out_neverShow: true
icon_build:风.png
lock_body_rotation_with_main_turret:true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
turretSize: 0
turretTurnSpeed: 99
maxAttackRange: 30
shootDelay:120
aimOffsetSpread:0

[movement]
movementType:air
moveSpeed:8.45
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17
reverseSpeedPercentage: 0.5
maxTurnSpeed: 99
targetHeight:5
targetHeightDrift:1
moveSlidingMode :true
moveIgnoringBody:true

[arm_1]
x:0
y:0
image_end:SHARED:blank.png
spinRate:5.0

[decal_arm1]
order: 0.1
layer: onTop
image:风.png
basePositionFromLegEnd:arm1
isVisible:if  not self.hasFlag(id=1)
imageScale:0.5
alpha:self.readUnitMemory('alpha',type='float')

[decal_arm1+]
order: 0.1
layer: onTop
image:风_受雨.png
basePositionFromLegEnd:arm1
isVisible:if  self.hasFlag(id=1)
imageScale:0.5
alpha:self.readUnitMemory('alpha',type='float')

[arm_2]
x:0
y:0
image_end:SHARED:blank.png
spinRate:-5.0

[decal_arm2]
order: 0.2
layer: onTop
image:风.png
basePositionFromLegEnd:arm2
isVisible:if  not self.hasFlag(id=1)
hOffset:20
imageScale:0.7
alpha:self.readUnitMemory('alpha',type='float')

[decal_arm2+]
order: 0.2
layer: onTop
image:风_受雨.png
basePositionFromLegEnd:arm2
isVisible:if  self.hasFlag(id=1)
hOffset:20
imageScale:0.7
alpha:self.readUnitMemory('alpha',type='float')


[arm_3]
x:0
y:0
image_end:SHARED:blank.png
spinRate:5.0

[decal_arm3]
order: 0.3
layer: onTop
image:风.png
basePositionFromLegEnd:arm3
isVisible:if  not self.hasFlag(id=1)
hOffset:40
imageScale:1.2
alpha:self.readUnitMemory('alpha',type='float')

[decal_arm3+]
order: 0.3
layer: onTop
image:风_受雨.png
basePositionFromLegEnd:arm3
isVisible:if  self.hasFlag(id=1)
hOffset:40
imageScale:1.2
alpha:self.readUnitMemory('alpha',type='float')

[arm_4]
x:0
y:0
image_end:SHARED:blank.png
spinRate:-5.0

[decal_arm4]
order: 0.4
layer: onTop
image:风.png
basePositionFromLegEnd:arm4
isVisible:if  not self.hasFlag(id=1)
hOffset:60
imageScale:1.4
alpha:self.readUnitMemory('alpha',type='float')

[decal_arm4+]
order: 0.4
layer: onTop
image:风_受雨.png
basePositionFromLegEnd:arm4
isVisible:if  self.hasFlag(id=1)
hOffset:60
imageScale:1.4
alpha:self.readUnitMemory('alpha',type='float')

[arm_5]
x:0
y:0
image_end:SHARED:blank.png
spinRate:5.0

[decal_arm5]
order: 0.5
layer: onTop
image:风.png
basePositionFromLegEnd:arm5
isVisible:if  not self.hasFlag(id=1)
hOffset:80
imageScale:1.5
alpha:self.readUnitMemory('alpha',type='float')

[decal_arm5+]
order: 0.5
layer: onTop
image:风_受雨.png
basePositionFromLegEnd:arm5
isVisible:if  self.hasFlag(id=1)
hOffset:80
imageScale:1.5
alpha:self.readUnitMemory('alpha',type='float')

[decal_风底]
order: 0
layer: onTop
image:风底.png
basePositionFromLegEnd:arm5
isVisible:if  not self.hasFlag(id=1)
hOffset:0
imageScale:1.15
alpha:self.readUnitMemory('alpha',type='float')

[decal_风底+]
order: 0
layer: onTop
image:风底.png
basePositionFromLegEnd:arm4
isVisible:if  not self.hasFlag(id=1)
hOffset:0
imageScale:1.15
alpha:self.readUnitMemory('alpha',type='float')

[decal_风底++]
order: 0
layer: onTop
image:风底_受雨.png
basePositionFromLegEnd:arm5
isVisible:if  self.hasFlag(id=1)
hOffset:0
imageScale:1.15
alpha:self.readUnitMemory('alpha',type='float')

[decal_风底+++]
order: 0
layer: onTop
image:风底_受雨.png
basePositionFromLegEnd:arm4
isVisible:if  self.hasFlag(id=1)
hOffset:0
imageScale:1.15
alpha:self.readUnitMemory('alpha',type='float')

[hiddenAction_ad]
autoTrigger:if self.readUnitMemory('alpha',type='float')<1.0 and not self.hasFlag(id=0)
setUnitMemory:alpha=memory.alpha+0.05

[hiddenAction_lk]
autoTrigger:if self.readUnitMemory('alpha',type='float') == 1.0
addResources:setFlag=0

[hiddenAction_rd]
autoTrigger:if self.hasFlag(id=0) and self.readUnitMemory('alpha',type='float')>0.5
setUnitMemory:alpha=memory.alpha-0.05

[hiddenAction_lk2]
autoTrigger:if self.readUnitMemory('alpha',type='float') == 0.5
addResources:unsetFlag=0

[hiddenAction_start]
autoTriggerOnEvent:completeAndActive
playSoundAtUnit:飓风.ogg:0.8
addWaypoint_type:move
addWaypoint_prepend:true
addWaypoint_position_relativeOffsetFromSelf:0,400
convertTo:飓风使徒
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_delete]
autoTrigger:if self.timeAlive(laterThanSeconds=15) and not self.hasFlag(id=1)
deleteSelf:true
spawnEffects:CUSTOM:风底,CUSTOM:wind_1,CUSTOM:wind_2,CUSTOM:wind_3,CUSTOM:wind_4,CUSTOM:wind_5

[hiddenAction_delete2]
autoTrigger:if self.timeAlive(laterThanSeconds=15) and self.hasFlag(id=1)
deleteSelf:true
spawnEffects:CUSTOM:风底+,CUSTOM:wind_1+,CUSTOM:wind_2+,CUSTOM:wind_3+,CUSTOM:wind_4+,CUSTOM:wind_5+

[hiddenAction_II]
autoTrigger:if self.numberOfUnitsInTeam(withTag='强积雨云',greaterThan=0,withinRange=400) or numberOfUnitsInAllTeams(withTag="沉渊之海")>0
addResources:setFlag=1

[hiddenAction_II2]
autoTrigger:if self.numberOfUnitsInTeam(withTag='强积雨云',lessThan=1,withinRange=600) and self.hasFlag(id=1) and numberOfUnitsInAllTeams(withTag="沉渊之海")<1
addResources:unsetFlag=1

[effect_风底]
priority:critical
image:风底.png
life:60
scaleFrom: 1.15
scaleTo: 1.95
fadeOut:true
alpha:1.0
dirSpeed:5
dirOffsetRandom:180

[effect_wind_1]
priority:critical
image:风.png
life:60
scaleFrom: 0.5
scaleTo: 1.5
fadeOut:true
alpha:1.0
dirSpeed:5
dirOffsetRandom:180

[effect_wind_2]
priority:critical
image:风.png
life:60
scaleFrom: 0.7
scaleTo: 1.7
fadeOut:true
alpha:1.0
hOffset:20
dirSpeed:-5
dirOffsetRandom:180

[effect_wind_3]
priority:critical
image:风.png
life:60
scaleFrom: 0.9
scaleTo: 1.9
fadeOut:true
alpha:1.0
hOffset:40
dirSpeed:5
dirOffsetRandom:180

[effect_wind_4]
priority:critical
image:风.png
life:60
scaleFrom: 1.1
scaleTo: 2.1
fadeOut:true
alpha:1.0
hOffset:60
dirSpeed:-5
dirOffsetRandom:180

[effect_wind_5]
priority:critical
image:风.png
life:60
scaleFrom: 1.3
scaleTo: 2.3
fadeOut:true
alpha:1.0
hOffset:80
dirSpeed:5
dirOffsetRandom:180

[effect_风底+]
priority:critical
image:风底_受雨.png
life:60
scaleFrom: 1.15
scaleTo: 1.95
fadeOut:true
alpha:1.0
dirSpeed:5
dirOffsetRandom:180

[effect_wind_1+]
priority:critical
image:风_受雨.png
life:60
scaleFrom: 0.5
scaleTo: 1.5
fadeOut:true
alpha:1.0
dirSpeed:5
dirOffsetRandom:180

[effect_wind_2+]
priority:critical
image:风_受雨.png
life:60
scaleFrom: 0.7
scaleTo: 1.7
fadeOut:true
alpha:1.0
hOffset:20
dirSpeed:-5
dirOffsetRandom:180

[effect_wind_3+]
priority:critical
image:风_受雨.png
life:60
scaleFrom: 0.9
scaleTo: 1.9
fadeOut:true
alpha:1.0
hOffset:40
dirSpeed:5
dirOffsetRandom:180

[effect_wind_4+]
priority:critical
image:风_受雨.png
life:60
scaleFrom: 1.1
scaleTo: 2.1
fadeOut:true
alpha:1.0
hOffset:60
dirSpeed:-5
dirOffsetRandom:180

[effect_wind_5+]
priority:critical
image:风_受雨.png
life:60
scaleFrom: 1.3
scaleTo: 2.3
fadeOut:true
alpha:1.0
hOffset:80
dirSpeed:5
dirOffsetRandom:180

[turret_1]
x: 0
y: 0
projectile: SW
turnSpeedAcceleration: 0
canShoot: false
turnSpeed:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

[projectile_SW]
areaDamage:36
areaRadius:150
life:0
speed: 0
drawSize:0
image:SHARED:blank.png
explodeEffectOnShield:NONE
explodeEffect:NONE
largeHitEffect: false
explodeOnEndOfLife:true
areaHitAirAndLandAtSameTime:true
pushVelocity:-8.0
pushForce:-10.0

[hiddenAction_1]
autoTrigger:true
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround:1

[hiddenAction_2]
autoTrigger:if self.hasFlag(id=1)
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:水弹

[projectile_水弹]
areaDamage: 120
areaRadius: 80
areaRadiusFromEdge: true
areaHitAirAndLandAtSameTime:true
life:120
speed:7
drawSize:0.25
image:水弹.png
deflectionPower: -1
explodeEffect:CUSTOM:wave2,CUSTOM:风爆_触水
explodeEffectOnShield:CUSTOM:wave2,CUSTOM:风爆_触水
trailEffect:CUSTOM:风卷2_触水
trailEffectRate:0.3
targetGround:true
targetGroundSpread:160
areaDamageNoFalloff:true

[effect_风爆_触水]
priority:veryhigh
life: 240
alwayStartDirAtZero:false
fadeInTime: 0
fadeOut:true
attachedToUnit:false
drawUnderUnits:false
image:风爆_触水.png
scaleFrom:1.2
scaleTo: 1.2
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFramePingPong: false
animateFrameSpeed: 0.45
alpha:1.0
dirOffsetRandom:180
alsoPlaySound:水弹爆.ogg:0.05

[effect_风卷2_触水]
priority: high
life:15
image:风卷2_触水.png
scaleFrom: 0.125
scaleTo: 0.025
alpha:0.6
attachedToUnit: false
drawUnderUnits:false

[effect_wave2]
priority: high
life: 90
image:wave2.png
scaleFrom: 0.25
scaleTo: 0.5
alpha:0.25
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false
