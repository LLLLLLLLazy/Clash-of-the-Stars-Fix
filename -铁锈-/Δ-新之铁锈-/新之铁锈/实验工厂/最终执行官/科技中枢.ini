
[core]
name: 科技中枢
displayDescription: -没有攻击能力 \n -提供护盾充能 \n -建造与回收单位 \n -可以研发实验科技 \n -生产资源
copyFrom: common_slot.ini

maxShield: 10000
shieldRegen: 4
shieldDisplayOnlyDeflection: true

isBuilder: true

canRepairBuildings: true
canRepairUnits: true
autoRepair: true

canReclaimResources: true
resourceReclaimMultiplier: 20

nanoRange: 400
nanoRepairSpeed: 1
nanoReclaimSpeed: 40
nanoBuildSpeed: 40

generation_credits: 20

energyMax: 30
energyRegen: 0.0166

autoTriggerCooldownTime: 1
autoTriggerCooldownTime_allowDangerousHighCPU:true

[action_shield]
text: 备用护盾充能:
description: -当战斗蜘蛛护盾被击破时立即回复5000护盾\n -最多存储3次
displayRemainingStockpile: true
price: ammo=1
displayType: infoOnly
pos: 0
buildSpeed: 0s
isActive: false
autoTrigger: if parent.shield(lessThan=20) and self.ammo(greaterThan=0)
addResources: ammo=-1
takeResources: shield=-5000
takeResources_includeParent: true
takeResources_discardCollected: true
playSoundAtUnit: warning
spawnEffects: 护盾充能

[hiddenAction_supplement]
autoTrigger: if self.energy(full=true) and self.ammo(lessThan=3)
addResources: energy=-60, ammo=1

[action_回收]
text: 回收
buildSpeed: 0s
displayType: action
pos: 0
clearAllWaypoints: true
addWaypoint_type: reclaim
addWaypoint_prepend: true
addWaypoint_target_fromReference: thisActionTarget.nearestUnit(withTag='units', withinRange=25)
fireTurretXAtGround: nanoTurret

[hiddenAction_不可回收执行官]
autoTrigger: if self.hasActiveWaypoint(type='reclaim') and activeWaypointTarget==parent
clearAllWaypoints: true

[canBuild_1]
name: megaBuilder
pos:  1
forceNano: true
isVisible: if not self.globalTeamTags(includes='megaBuilder适水性')
[canBuild_1升级]
name: megaBuilder走水升级
pos:  1
forceNano: true
isVisible: if self.globalTeamTags(includes='megaBuilder适水性')

[canBuild_2]
name: A_combatEngineer, A_mechEngineer
pos:  1
forceNano: true

[canBuild_3]
name: A_heavyTank
pos:  1
forceNano: true

[canBuild_4]
name: A_heavyHoverTank
pos:  1
forceNano: true

[canBuild_5]
name: A_heavyArtillery, A_plasmaTank
pos:  1
forceNano: true

[canBuild_6]
name: A_scout, A_spyDrone
pos:  1
forceNano: true

[canBuild_7-T-01]
pos:  0.1
name: A_炮塔
price: 1040
[canBuild_7-T-02]
pos:  0.101
name: A_炮塔T2机枪
price: 2960
[canBuild_7-T-03]
pos:  0.102
name: A_炮塔T3机枪
price: 15200
[canBuild_7-T-04]
pos:  0.103
name: A_火炮塔
price: 3920
[canBuild_7-T-05]
pos:  0.104
name: A_火炮塔T2
price: 18320
[canBuild_7-T-06]
pos:  0.105
name: A_闪电塔
price: 4240
[canBuild_7-T-07]
pos:  0.106
name: A_闪电塔T2
price: 13040
[canBuild_7-T-08]
pos:  0.107
name: A_防空炮塔
price: 1200
[canBuild_7-T-09]
pos:  0.108
name: A_高射炮
price: 6800
[canBuild_7-T-10]
pos:  0.109
name: A_防空炮塔T2
price: 3760
[canBuild_7-T-11]
pos:  0.11
name: A_防空炮塔T3
price: 17360

[canBuild_8]
name: A_资源抽取器T1, A_extractorT3_reinforced
pos:  0.3

[canBuild_9]
name: A_landFactoryT2, A_seaFactoryT2, A_airFactoryT2
pos:  0.4
tech: 2

[canBuild_10]
name: A_激光防御塔
pos:  0.5
price: 1600

[canBuild_11]
name: A_laserDefenceT2
pos:  0.51
price: 4000

[canBuild_13]
name: A_laserDefenceT3
pos:  0.52
price: 12000

[canBuild_14]
name: MDAWallT3, A_outpostT1, A_outpostT2, A_修复湾T1, A机修复湾T2
pos:  0.6

[canBuild_15]
name: A_missileTank, A_missileAirship
pos:  1
forceNano: true

[canBuild_16]
name: A_heavySub
pos:  1
forceNano: true

[canBuild_17]
name: A_experimentalLandFactory, A_antiNukeLaucher, A_nukeLauncherC
pos:  1.1

#[canBuild_17]
#name: A_commandCenter
#pos:  1.12
#isLocked: if numberOfUnitsInTeam(withTag='铁锈指挥中心',greaterThan=0,incompleteBuildings=true)
#isLockedMessage: 只能有一个指挥中心


[action_猛犸坦克-过载]
isVisible: if not self.globalTeamTags(includes='猛犸坦克-过载')
isActive: if not self.globalTeamTags(includes='猛犸坦克-过载')
text:过载电击
description:-使猛犸坦克充能后攻速更快
pos:10
displayType: upgrade
price: 新能魔素=5
buildSpeed: 100s
highPriorityQueue: true
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags:猛犸坦克-过载
showMessageToPlayer: AI:[过载电击]升级已完成

[action_两栖喷气机升级]
isVisible: if not self.globalTeamTags(includes='两栖喷气机升级')
isActive: if not self.globalTeamTags(includes='两栖喷气机升级')
text:穿磁破坏
description:-两栖喷气机能对护盾单位造成三倍伤害
pos:10
displayType: upgrade
price: 新能魔素=10
buildSpeed: 120s
highPriorityQueue: true
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags: 两栖喷气机升级
showMessageToPlayer: AI:[穿磁破坏]升级已完成

[action_导弹舱升级]
isVisible: if not self.globalTeamTags(includes='导弹舱升级')
isActive: if not self.globalTeamTags(includes='导弹舱升级')
text:导弹舱
description:-加快导弹飞艇&防空导弹坦克的导弹装填\n-增加导弹量
pos:10
displayType: upgrade
price: 6000, 新能魔素=3
buildSpeed: 120s
highPriorityQueue: true
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags: 导弹舱升级
showMessageToPlayer: AI:[导弹舱]升级已完成

[action_雷霆蓄能器]
isVisible: if not self.globalTeamTags(includes='雷霆蓄能器')
isActive: if not self.globalTeamTags(includes='雷霆蓄能器')
text:雷霆蓄能
description:-电击塔能够积攒雷电能量
pos:10
displayType: upgrade
price: 新能魔素=12
buildSpeed: 120s
highPriorityQueue: true
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags: 雷霆蓄能器
showMessageToPlayer: AI:[雷霆蓄能]升级已完成

[action_重型拦截机升级]
isVisible: if not self.globalTeamTags(includes='重型拦截机升级')
isActive: if not self.globalTeamTags(includes='重型拦截机升级')
text:光粒空滅
description:-重型拦截机将拥有特殊攻击
pos:10
displayType: upgrade
price: 新能魔素=20
buildSpeed: 120s
highPriorityQueue: true
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags: 重型拦截机升级
showMessageToPlayer: AI:[光粒空滅]升级已完成


[attack]
canAttack: true
maxAttackRange: 400

[turret_nanoTurret]
x: 0
y: 0
barrelX: 5
canShoot: false
warmup: 30

turnSpeed: 4
size: 16

image: 科技中枢.png
isMainNanoTurret: true

[projectile_1]
tags= T-projectile
directDamage: 0
life: 0
speed: 0
invisible: true
explodeEffect: NONE

[effect_护盾充能]
image: 护盾[原].png
life: 80
fadeOut: true
attachedToUnit: true
fadeInTime: 20
scaleFrom: 1
scaleTo: 1
alpha: 0.5
dirSpeed: 2
dirOffsetRandom: 180
drawUnderUnits: false