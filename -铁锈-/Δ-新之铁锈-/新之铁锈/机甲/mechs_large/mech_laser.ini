
[core]
name: A_mechLaser
class: CustomUnitMetadata
#overrideAndReplace: mechLaser
displayLocaleKey: mechLaser

copyFrom: mech_large_common.ini



price: 22500
maxHp: 2400
mass: 6000
armour: 30

maxShield: 1500
shieldRegen: 0.15
shieldDisplayOnlyDeflection: true

techLevel: 2
buildSpeed: 0.00015
#availableInDemo: true

fogOfWarSightRange: 25


radius: 25
#displayRadius: 11
isBio: false
softCollisionOnAll: 0






energyMax: 3
energyRegen: 0.0220
energyNeedsToRechargeToFull: true


builtFrom_1_name: A_mechFactoryT2
builtFrom_1_pos: 8.1


transportSlotsNeeded: 2

disableDeathOnZeroHp: true

[action_Beunyielding]
autoTrigger: if self.hp(lessThan=1) and not self.hasFlag(id=1)
resourceAmount: hp
resourceAmount_setValue: 1
addResources: setFlag=1
spawnEffects: shockwave
text: 不屈重械
displayType: infoOnly
isActive: false
isVisible: if self.hp(lessThan=10) and self.hasFlag(id=1)
buildSpeed: 0s
isGuiBlinking: true

[hiddenAction_BodyRecover]
autoTrigger: if self.hp(full=true) and self.hasFlag(id=1)
addResources: unsetFlag=1

[hiddenAction_Death]
autoTrigger: if self.hp(lessThan=1) and self.hasFlag(id=1)
convertTo: mechLargeDeath
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[graphics]
total_frames: 1

image:        topLaser.png
image_wreak:  NONE
image_turret: NONE

image_shadow: SHADOW:topLaser.png
shadowOffsetX:2
shadowOffsetY:2


#animation_moving_start: 0
#animation_moving_end: 7
#animation_moving_speed: 6


#lock_shadow_rotation_with_main_turret: true
lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 455
shootDelay: 5

aimOffsetSpread: 0.4

turretRotateWithBody: false


[turret_1]
x: 0
y: 0
idleDir:0

turnSpeed: 2.9
turnSpeedAcceleration: 0.07

canShoot: false


recoilOffset: -1
recoilOutTime: 2
recoilReturnTime: 3


[turret_2]
#
x: 13
y: 49
attachedTo: 1
slave: true
invisible: true

projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound:plasma_fire
shoot_sound_vol:0.07
#shoot_flame:small
shoot_light:#FFccCCEE

canShoot: true

size: 0


energyUsage: 1

warmup:15

chargeEffectImage: SHARED:lighting_charge.png




[projectile_1]
tags= T-projectile
directDamage: 123
armourIgnoreAmount: 15
life: 70
speed: 15

frame: 11

drawSize: 1.2

deflectionPower: 5

lightColor: #FFccCCEE
lightSize: 1

trailEffect:CUSTOM:projectileLight
trailEffectRate: 0.3

explodeEffect: CUSTOM:sparks*3

spawnProjectilesOnExplode: 2-6(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-6]
@copyFromSection: projectile_1
directDamage: 105
life: 60
turnSpeed: 0

retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 1
turnSpeedWhenNear: 1

spawnProjectilesOnExplode: 2-5(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-5]
@copyFromSection: projectile_2-6
directDamage: 88
life: 50
spawnProjectilesOnExplode: 2-4(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-4]
@copyFromSection: projectile_2-6
directDamage: 71
life: 40
spawnProjectilesOnExplode: 2-3(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-3]
@copyFromSection: projectile_2-6
directDamage: 54
life: 30
spawnProjectilesOnExplode: 2-2(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-2]
@copyFromSection: projectile_2-6
directDamage: 36
life: 20
spawnProjectilesOnExplode: 2-1(yOffsetRelative=1,recursionLimit=6), 小爆炸效果(recursionLimit=7)

[projectile_2-1]
@copyFromSection: projectile_2-6
directDamage: 19
life: 10
spawnProjectilesOnExplode: 小爆炸效果(recursionLimit=7)

[projectile_小爆炸效果]
tags= T-projectile
directDamage: 0
life: 0
explodeOnEndOfLife: true
explodeEffectOnShield: NONE

[effect_projectileLight]
priority:high

stripIndex: projectiles
frameIndex: 11
life: 10
#fadeOut: true
attachedToUnit: false
color: #FFEECCCC
#fadeInTime:2
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_sparks]
attachedToUnit: false
life: 25
lifeRandom: 10
xSpeedRelativeRandom: 2.5
ySpeedRelativeRandom: 2.5
scaleFrom: 2
scaleTo: 2
dirSpeedRandom: 6
dirOffsetRandom: 180
image: SHARED:spark.png
priority: verylow

[movement]

moveSpeed: 0.6
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

maxTurnSpeed: 5.0
turnAcceleration: 0.5

moveSlidingMode :false
moveIgnoringBody:false


reverseSpeedPercentage:1


