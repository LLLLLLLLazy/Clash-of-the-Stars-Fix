
[core]
name: 泡泡
tags: 空栖泡
maxHp: 800
price: 0
mass: 1000
selfRegenRate: 0.1
isUnrepairableUnit: true

maxShield: 200
startShieldAtZero: true
shieldRegen: 0.5


#隐藏单位本身
showInEditor: false
radius: 20
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
canNotBeGivenOrdersByPlayer: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

showOnMinimap: true

energyMax: 1
energyRegen: 0
dieOnZeroEnergy: true

autoTriggerCooldownTime: 1
autoTriggerCooldownTime_allowDangerousHighCPU:true

[action_swallow]
isActive: false
autoTriggerOnEvent: killedAnyUnit
requireConditional: if not eventSource.self.tags(includes="召唤物")
text: 疵诟·圣洁之食
description: -击杀目标生成曲行游荡者
pos: 0.1
displayType: infoOnlyStockpile
buildSpeed: 0s
spawnUnits: 曲行游荡者


[hiddenAction_残光]
autoTriggerOnEvent: destroyed
spawnEffects: CUSTOM:hitLightFlash

[hiddenAction_曲泡]
autoTrigger: true
spawnEffects: CUSTOM:中曲波, CUSTOM:扭曲泡

[hiddenAction_浮灵清理]
autoTrigger: if self.timeAlive(laterThanSeconds=5) and not self.isAttacking
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_maxTime: 3s
addWaypoint_target_nearestUnit_tagged: 漂浮灵
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_maxRange: 800

[hiddenAction_泡]
autoTriggerOnEvent: completeAndActive
spawnEffects: CUSTOM:hitLightFlash, CUSTOM:波, CUSTOM:波2
addResources: 免疫渊海=1

[hiddenAction_清除]
autoTrigger: if self.timeAlive(laterThanSeconds=15)
deleteSelf: true

[resource_免疫渊海]
displayName: 免疫渊海

[graphics]
imageScale: 2.4
image:        bubble.png
image_shield: green_shields.png
disableLowHpSmoke: true
icon_zoomed_out_neverShow: true
showShieldBar: false

movementEffect: CUSTOM:Airwave
movementEffectRate: 3

[attack]
canAttack: true
canAttackFlyingUnits: if self.timeAlive(laterThanSeconds=0.6)
canAttackLandUnits: if self.timeAlive(laterThanSeconds=0.6)
canAttackUnderwaterUnits: if self.timeAlive(laterThanSeconds=0.6)
turretSize: 0
turretTurnSpeed: 9999

maxAttackRange: 1
isMelee: true
dieOnAttack: true
meleeEngangementDistance: 800

shootDelay: 100
showRangeUIGuide:false

[turret_1]
x: 0
y: 0
projectile: 1
shoot_light: #ff3bff00

[projectile_1]
areaDamage: 700
areaRadius: 70
areaRadiusFromEdge: true
life: 10
instant: true
color: #ff3bff00
pushVelocity: 6
areaHitAirAndLandAtSameTime: true
explodeEffect: CUSTOM:hitLightFlash, CUSTOM:魔波, CUSTOM:魔光, CUSTOM:windwave2, CUSTOM:explodeSmall
explodeEffectOnShield: CUSTOM:hitLightFlash, CUSTOM:魔波, CUSTOM:魔光, CUSTOM:windwave2, CUSTOM:explodeSmall

[effect_hitLightFlash]
priority:high
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #44F544
scaleFrom: 3
scaleTo: 3
alpha: 0.6
drawUnderUnits:false

[effect_魔光]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #ff3bff00
scaleFrom: 2.4
scaleTo: 0.1
alpha: 1.7

[effect_波]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 3
color: #ff3bff00
fadeInTime: 3
alpha: 2

[effect_波2]
@copyFromSection: effect_波
life: 25
scaleFrom: 3
scaleTo: 2
alpha: 0.8

[effect_魔波]
@copyFromSection: effect_波
life: 32
scaleFrom: 2
scaleTo: 0

[effect_windwave2]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 3.5
alpha: 0.8
dirSpeed: 10
color:#FF3BFF00

[effect_explodeSmall]
color: #ff3bff00
life: 20
attachedToUnit: true
image: 白爆.png
scaleFrom: 1.2
scaleTo: 1.2
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false
yOffsetRelative: 0
xOffsetRelative: 0
alsoPlaySound: missile_hit

[effect_中曲波]
showInFog: true
createWhenOffscreen: true
stripIndex: shockwave
life: 10
fadeOut: true
attachedToUnit: false
color: #ff3bff00
scaleFrom: 0.2
scaleTo: 0
alpha: 1.7
teamColorRatio: 1

[effect_扭曲泡]
showInFog: true
createWhenOffscreen: true
stripIndex: shockwave
life: 25
fadeOut: true
attachedToUnit: false
color: #ff3bff00
scaleFrom: 0
scaleTo: 0.4
alpha: 2
dirSpeedRandom: 2
dirOffsetRandom: 180
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20

[effect_Airwave]
stripIndex: shockwave
priority: low
life: 20
fadeOut: true
attachedToUnit: false
fadeInTime: 2
scaleFrom: 1
scaleTo: 2.5
alpha: 0.3
color: #ff3bff00
drawUnderUnits: false
yOffsetRelative: 5
ySpeedRelative: -0.5
atmospheric: true

[movement]
movementType: AIR
moveSpeed: 6
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.05

maxTurnSpeed: 10
turnAcceleration: 10

targetHeight: 20
targetHeightDrift: 1
startingHeightOffset: 25

moveIgnoringBody: true
moveSlidingMode: true


