
[core]
name: 仙女灵火
displayText: 仙女灵火
displayDescription: -范围轰炸陆军与潜艇 \n -在轰炸后生成近身攻击的极光仙灵 \n “炽热的仙女灵火”
class: CustomUnitMetadata
price: 7000
maxHp: 1800
mass: 30000

tags: units, 极光轰炸机
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 极光轰炸机

techLevel: 2
buildSpeed: 0.0004
availableInDemo: true

radius: 16
displayRadius: 19
isBio: false
softCollisionOnAll:24

selfRegenRate:0.1

energyMax: 2
energyRegen: 0.002
energyNeedsToRechargeToFull: true

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU: true

[action_painting]
isVisible: if self.globalTeamTags(includes='夜煞涂装')
convertTo: 仙女灵火[夜煞]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
text: “夜煞”
description: -个性涂装 \n(不影响战斗属性)
displayType: upgrade
buildSpeed: 3.3s
pos: 2

[hiddenAction_涂装解锁]
autoTrigger: if ( self.kills(greaterThan=2) or self.playerName=="极光" or self.playerName=="DRcolourful" or self.playerName=="相忘于江湖" ) and not self.globalTeamTags(includes='夜煞涂装')
addGlobalTeamTags: 夜煞涂装

[action_苍蓝升级]
displayType: upgrade
text: 极光辉夜
description: -光之矢 \n -缓慢生成环绕其身旁的极光矢 \n -轰炸后会生成数个极光矢 \n -附近出现敌人时发射极光矢 \n -极光矢会拦截触碰到的子弹
buildSpeed: 72.8s
pos: 5
price: 苍蓝能量=3
allowMultipleInQueue: false
canPlayerCancel: false
whenBuilding_triggerAction: 苍蓝特效
spawnEffects: custom:星
addResources=setFlag=3
iconImage: 紫全散光.png
isActive: if not self.hasFlag(id=3)
isGuiBlinking: if self.hasFlag(id=3)

[hiddenAction_苍蓝特效]
spawnEffects: 苍, 苍2

[effect_苍]
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: true
image: ROOT:/素材/hit.png
life: 4488
scaleFrom: 3
scaleTo: 3
alpha: 10
dirSpeed: 3
color: #8A298A
priority: high
alsoPlaySound: laser_deflect
[effect_苍2]
@copyFromSection:effect_苍
dirSpeed: -3
color: #E833E8
scaleFrom: 2
scaleTo: 2
[effect_星]
image: ROOT:/素材/light.png
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: false
life: 120
scaleFrom: 0.6
scaleTo: 0.6
alpha: 1
#color: #294C8A

[hiddenAction_AIproduce]
autoTrigger: if self.hasFlag(id=3) and self.customTimer(laterThanSeconds=5) and numberOfUnitsInTeam(withinRange=300, lessThan=10, withTag='极光')
produceUnits: 极光*3(spawnChance=0.5, offsetRandomX=5, offsetRandomDir=5)
resetCustomTimer: true

[action_扩散移动点开]
@copyFromSection: template_扩散移动点开

[action_扩散移动点关]
@copyFromSection: template_扩散移动点关

[hiddenAction_设置扩散移动点]
@copyFromSection: template_设置扩散移动点

[hiddenAction_清除当前非巡逻路径]
@copyFromSection: template_清除当前非巡逻路径

[hiddenAction_锁定扩散移动点]
@copyFromSection: template_锁定扩散移动点

[hiddenAction_执行扩散移动点]
@copyFromSection: template_执行扩散移动点


[hiddenAction_无延迟追击]
@copyFromSection: template_无延迟追击
[hiddenAction_无延迟追击2]
@copyFromSection: template_无延迟追击2

[graphics]
total_frames: 1

image:        仙女灵火.png
image_wreak: 仙女灵火残骸.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:影
movementEffectRate: 5

[effect_影]
createWhenZoomedOut: false
priority:low
image: 影.png
life: 30
fadeOut: true
attachedToUnit: false
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.5
drawUnderUnits: true

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 1.5

maxAttackRange: 45
shootDelay: 20

aimOffsetSpread: 0

attackMovement: bomber

[turret_1]
#bomber
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

projectile: 1
altProjectile: 3
altProjectileCondition: if self.hasFlag(id=3)
size: 1.1
turnSpeed: 20

energyUsage: 1

[projectile_1]
tags= T-projectile
#对地
life: 250
speed: 0.3
targetSpeed: 1.7
drawSize: 1
image: projectile.png
trailEffect: false
largeHitEffect: true

targetGround: true
targetGroundSpread: 15

areaDamage: 400
areaRadius: 65

deflectionPower: 3

spawnUnit: 极光仙灵

explodeEffect: CUSTOM:shockwave*2, CUSTOM:fire*7
explodeEffectOnShield: CUSTOM:shockwave*2, CUSTOM:fire*7

[projectile_3]
@copyFromSection: projectile_1
spawnUnit: 极光仙灵, 极光(offsetDir=45), 极光(offsetDir=135), 极光(offsetDir=225), 极光(offsetDir=315)

[turret_2]
#anti-sub
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: true

projectile: 2
size: 1.1
turnSpeed: 20

energyUsage: 1

[projectile_2]
tags= T-projectile
#反潜
directDamage: 150
life: 250
speed: 0.3
targetSpeed: 1.7
drawSize: 1
image: projectile.png
trailEffect: false
largeHitEffect: true

targetGround: false

deflectionPower: 3

explodeEffect: CUSTOM:shockwave*2, CUSTOM:fire*7
explodeEffectOnShield: CUSTOM:shockwave*2, CUSTOM:fire*7

[effect_shockwave]
alsoPlaySound:Fire2.ogg:0.5
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 3.5
color: #F04D9D
dirSpeed: 5

[effect_fire]
priority: low
image: fire.png
attachedToUnit: false
life: 30
xOffsetRelativeRandom:10
yOffsetRelativeRandom:10
xSpeedRelativeRandom:2.0
ySpeedRelativeRandom:2.0
dirOffsetRandom: 180
scaleFrom: 1.5
scaleTo: 1.0
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFramePingPong: true
animateFrameSpeed: 0.12
animateFrameSpeedRandom: 0.02

[movement]
movementType: AIR
moveSpeed: 2.1
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.03

landOnGround: onlyIdle


#note: joinsGroupFormations=false could case slowdowns for groups of non-flying units
joinsGroupFormations: false

maxTurnSpeed: 1.5
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  181

slowDeathFall: true



