
[core]
name: A_commandCenter
altNames: c_commandCenter
showInEditor:false
displayLocaleKey:commandCenter

class: CustomUnitMetadata
price: 12000
maxHp: 4000
mass: 9000
armour: 15
maxShield: 1000

tags: units, 指挥中心T2, 新铁指挥中心, 基地

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1

#used for placement, and placement of other buildings
constructionFootprint: -1,-1,1,2

#buildingToFootprintOffsetX:16
buildingSelectionOffset: -12


techLevel: 2
buildSpeed: 0.0002
#availableInDemo: true

radius: 30
#displayRadius: 25
isBio: false
isBuilding: true

#explodeOnDeath:false
effectOnDeath: CUSTOM:shockwaveLarge, largeExplosion, CUSTOM:explosionFlashLarge
soundOnDeath: buiding_explode:1

numBitsOnDeath:35

generation_credits: 23

fogOfWarSightRange:34



exit_x:0
exit_y:-1
exit_moveAwayAmount:90

isBuilder: true
canRepairBuildings: true
canReclaimResources: true
selfBuildRate:0.0008
canRepairUnits : true
nanoRange: 290
nanoBuildSpeed: 1.0
autoRepair: true
nanoRepairSpeed: 0.3


canBuild_1_name: setRally, reclaim
canBuild_1_pos:  0.1

canBuild_2_name: megaBuilder
canBuild_2_pos:  1

canBuild_3_name: A_scout
canBuild_3_pos:  2

[hiddenAction_破碎之星]
autoTriggerOnEvent: destroyed
requireConditional: if self.hasResources(起始基地=1)
spawnUnits: 碎星核, 基地亡语

[resource_起始基地]
displayName: 起始基地

[hiddenAction_aiBoss]
autoTrigger: if self.isControlledByAI()
requireConditional: if self.isControlledByAI()
addResources: 300

[action_upgrade]
isVisible: if self.hasResources(新能魔素=0.1) and numberOfUnitsInTeam(withTag="卫星", lessThan=1)
price: 10000, 新能魔素=15
text: “卫星”
description: -新能之中的联系... \n -获得初启群星间的造物 \n -为基地提供防卫
descriptionAddUnitStats: ${section.spawnUnits}
unitShownInUI: 卫星
displayType: Upgrade
buildSpeed: 100s
pos: 0
spawnUnits: 卫星
allowMultipleInQueue: false
ai_isHighPriority: true

[action_megaBuilder适水性]
isVisible: if not self.globalTeamTags(includes='megaBuilder适水性')
isActive: if not self.globalTeamTags(includes='megaBuilder适水性')
text:适水性
description:-让megaBuilder能够在水中行走
pos:10
displayType: upgrade
price: 1500
buildSpeed: 80s
allowMultipleInQueue:false
ai_isHighPriority: true

addGlobalTeamTags: megaBuilder适水性
showMessageToPlayer: AI:[适水性]已升级完成

[action_megaBuilder越岭步行]
@copyFromSection: action_megaBuilder适水性
isVisible: if not self.globalTeamTags(includes='megaBuilder登山')
isActive: if not self.globalTeamTags(includes='megaBuilder登山')
text:越岭步行
description:-让megaBuilder能够跨越山地
addGlobalTeamTags: megaBuilder登山
showMessageToPlayer: AI:[越岭步行]已升级完成

#[action_参数补正]
#isGuiBlinking: if self.globalTeamTags(includes='参数补正')
#isActive: if not self.globalTeamTags(includes='参数补正')
#text:群星-参数补正
#description:-指挥中心，资源抽取器，资源制造仪\n-真实资金获取+50%\n-温馨提示:在参数补正完成之前右上角显示的资金获取并不是真实资金获取量
#pos:11
#displayType: upgrade
#price: 10000
#buildSpeed: 300s
#allowMultipleInQueue:false
#ai_isHighPriority: true

#addGlobalTeamTags: 参数补正
#showMessageToPlayer: AI:[参数补正]已完成
#isLocked: if not self.globalTeamTags(includes='参数初始化')
#isLockedMessage: -正在初始调试……
#[hiddenAction_调参]
#autoTriggerOnEvent: completeAndActive
#addActionCooldownTime: 300s
#addActionCooldownApplyToActions: 参数补正

[action_生存防御巩固]
@copyFromSection: template_生存防御巩固
pos: 0.1

[effect_生存防御巩固形]
@copyFromSection: template_生存防御巩固形

[hiddenAction_新之铁AI连接]
autoTrigger: if numberOfUnitsInTeam(withTag='新之铁系统', lessThan=1)
attachments_addNewUnits: 新之铁系统
attachments_onlyOnSlots: system

[attachment_system]
x:0
y:0
isUnselectable: false
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
setDrawLayerOnTop: false
lockRotation: true
deattachIfWantingToMove: false
keepWaypointsNeedingMovement: false
onCreateSpawnUnitOf: 新之铁系统

[action_T2upgradeTips关]
text:[AI]T2升级提示
description: -on
displayType: infoOnly
pos: 12
price: 0
buildSpeed: 0.01s
allowMultipleInQueue: false
isGuiBlinking: true
ai_isDisabled: true
highPriorityQueue: true
iconImage: SHARED:icon_on.png
addGlobalTeamTags: 关闭T2升级提示
isVisible: if not self.globalTeamTags(includes="关闭T2升级提示")
showMessageToPlayer: AI:已关闭T2单位升级提示
requireConditional: if numberOfUnitsInTeam(withTag='新之铁系统', greaterThan=0)

[action_T2upgradeTips开]
@copyFromSection: action_T2upgradeTips关
description: -off
isGuiBlinking: false
iconImage: SHARED:icon_off.png
removeGlobalTeamTags: 关闭T2升级提示
isVisible: if self.globalTeamTags(includes="关闭T2升级提示")
showMessageToPlayer: AI:已开启T2单位升级提示

[action_T3upgradeTips关]
@copyFromSection: action_T2upgradeTips关
text:[AI]T3升级提示
description: -on
isGuiBlinking: true
iconImage: SHARED:icon_on.png
addGlobalTeamTags: 关闭T3升级提示
isVisible: if not self.globalTeamTags(includes="关闭T3升级提示")
showMessageToPlayer: AI:已关闭T3单位升级提示

[action_T3upgradeTips开]
@copyFromSection: action_T3upgradeTips关
description: -off
isGuiBlinking: false
iconImage: SHARED:icon_off.png
removeGlobalTeamTags: 关闭T3升级提示
isVisible: if self.globalTeamTags(includes="关闭T3升级提示")
showMessageToPlayer: AI:已开启T3单位升级提示

[action_Tips重置]
text:[AI]战场侦测重置
description: -重置已侦测过的敌方进程
displayType: infoOnly
pos: 13
price: 0
buildSpeed: 0.1s
allowMultipleInQueue: false
ai_isDisabled: true
highPriorityQueue: true
iconImage: pause.png
addGlobalTeamTags: 侦测重置
isVisible: if not self.globalTeamTags(includes="侦测重置")
requireConditional: if numberOfUnitsInTeam(withTag='新之铁系统', greaterThan=0)

[hiddenAction_初启群星]
autoTrigger: if self.hasResources(新能魔素=0.1) and not self.globalTeamTags(includes="初启群星")
showMessageToPlayer: AI:指挥中心中获得了新的信息
addGlobalTeamTags: 初启群星


[hiddenAction_顶点之处]
autoTrigger: if self.globalTeamTags(includes="顶点") and not self.tags(includes="顶点之处")
temporarilyAddTags: 顶点之处

[hiddenAction_落下顶点]
autoTrigger: if not self.globalTeamTags(includes="顶点") and self.tags(includes="顶点之处")
temporarilyRemoveTags: 顶点之处

[graphics]
total_frames: 4

image:        base.png
image_back:   base_back.png
image_wreak:  base_dead.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1

[animation_idle]
onActions : idle
body_0s: {frame:0}
body_0.3s: {frame:3}
body_0.6s: {frame:0}
body_1.8s: {frame:0}


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
maxAttackRange: 400
shootDelay:35

turretMultiTargeting: true

[turret_1]
#
x: -2
y: -3

invisible:true
limitingRange: 280

size: 0
projectile: 1

turnSpeed: 2000
turnSpeedAcceleration: 1

shoot_sound: missile_fire
shoot_sound_vol:0.3
shoot_flame: NONE
shoot_light:#FFEECCCC

canShoot: true

[projectile_1]
tags= T-projectile
#missile
directDamage: 70
areaDamage:	65
areaRadius:	40
life: 190
speed: 2
targetSpeed: 6

color: #fff7ff1d

drawSize: 1.9
largeHitEffect: true
trailEffect: true


ballistic: true
ballistic_delaymove_height:25
ballistic_height: 25

lightColor: #f7ff1d
lightSize: 0.5

[turret_2]
x: 0
y: 3
delay: 30
invisible: true
projectile: 2
limitingMinRange: 280

shoot_sound:plasma_fire
shoot_sound_vol:0.05
shoot_light:#FFccCCEE

[projectile_2]
tags= T-projectile
directDamage: 30
life: 150
speed: 8
frame: 11
color:#0000FF
lightSize:0.5
lightColor: #0000FF

[turret_nanoTurret]

x: -3
y: 27

warmup:30

turnSpeed: 4
size: 8

image: SHARED:nano_turret.png

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true


[effect_shockwaveLarge]
stripIndex: shockwave_large
scaleFrom: 0.2
scaleTo: 2
life: 45
color: #FFEECCCC

[effect_explosionFlashLarge]
image: SHARED:light_50.png
scaleFrom: 8
scaleTo: 4
life: 20
fadeOut: true
priority: critical


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
useAsBuilder: true



