[core]
dont_load:true

displayText: 幽暗图腾

mass:9000
tags: units, 资源提取器
showActionsWithMixedSelectionIfOtherUnitsHaveTag:资源提取器

#footprint used for collisions with units (left, up, right, down)
footprint:0,0,0,0

#used for placement, and placement of other buildings
constructionFootprint:0,0,0,0

buildingSelectionOffset:4

techLevel:1
buildSpeed:0.0010
selfBuildRate:0.001

selfRegenRate: 0.1

radius:18
displayRadius:20

isBuilding:true

placeOnlyOnResPool:true

numBitsOnDeath:16
hideScorchMark:true

energyMax: 100
energyRegen: 0.01667
energyStartingPercentage: 0

effectOnDeath:resourcePoolSmoke
explodeTypeOnDeath:buildingNoShockwaveOrSmoke

[action_1]
isActive: if not self.hasFlag(id=1)
isGuiBlinking: if self.hasFlag(id=1)
addResources: setFlag=1, unsetFlag=2-3
displayType: action
text: 图腾 - 暗能量强击
description: -每100s召唤 暗能量强击*2
buildSpeed: 0
pos: 0
allowMultipleInQueue: false

[hiddenAction_1+]
autoTrigger: if self.energy(greaterThan=99) and self.hasFlag(id=1)
addEnergy: -100
spawnUnits: 暗能量强击*2
spawnEffects: CUSTOM:summon*8

[action_2]
isActive: if not self.hasFlag(id=2)
isGuiBlinking: if self.hasFlag(id=2)
addResources: setFlag=2, unsetFlag=1, unsetFlag=3
displayType: action
text: 图腾 - 巨鼠
description: -每30s召唤 巨鼠
buildSpeed: 0
pos: 0
allowMultipleInQueue: false

[hiddenAction_2+]
autoTrigger: if self.energy(greaterThan=29) and self.hasFlag(id=2)
addEnergy: -30
spawnUnits: 巨鼠
spawnEffects: CUSTOM:summon*8

[effect_summon]
priority: low
stripIndex: effects
frameIndex: 0

life: 150
fadeOut: true
attachedToUnit: false
color: #360D70
fadeInTime: 5
scaleFrom: 2.5
scaleTo: 3.3
alpha: 0.5
drawUnderUnits:false

dirOffsetRandom:180

xOffsetRelativeRandom:35
yOffsetRelativeRandom:35

xSpeedAbsoluteRandom: 0.9
ySpeedAbsoluteRandom: 0.9

[hiddenAction_顶点之处]
autoTrigger: if self.globalTeamTags(includes="顶点") and not self.tags(includes="顶点之处")
temporarilyAddTags: 顶点之处

[hiddenAction_落下顶点]
autoTrigger: if not self.globalTeamTags(includes="顶点") and self.tags(includes="顶点之处")
temporarilyRemoveTags: 顶点之处

[graphics]
total_frames: 1
#image:        extractor.png
image_wreak: NONE
image_back: back.png
image_back_always_use_full_image:true

[attack]
canAttack:false
canAttackFlyingUnits:false
canAttackLandUnits:false
canAttackUnderwaterUnits:false
maxAttackRange:0

[movement]
movementType:NONE
moveSpeed:0
moveAccelerationSpeed:0.01
moveDecelerationSpeed:0.01

maxTurnSpeed:0
turnAcceleration:0.1

[ai]
#ai adds extra rules for placeOnlyOnResPool type units

buildPriority:1.5

noneInBaseExtraPriority:0.43

#noneGlobalExtraPriority: 0.3

maxEachBase:99
ai_upgradePriority:1

#for the other extractors copying this
upgradedFrom:幽暗图腾T1


