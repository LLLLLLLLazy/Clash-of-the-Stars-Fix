
[core]
name: 贝露探雾模块T3
displayText: T3 - 贝露探雾模块
copyFrom: common_slot.ini

displayDescription: -视野模块 \n -探开四周极大范围的战争迷雾(视野:80) \n -每隔[60s÷能源供应]会获取距离你最近的敌方单位视野 \n -可消耗资金指定探测一个超远方向的所有迷雾 \n -减少1能源供应 \n (当能源供应降为负数时，贝露权杖会失去护盾防御且受到攻击额外损失[150+5%]生命值)

price: 19000

fogOfWarSightRange: 80
fogOfWarSightRangeWhileNotBuilt: 15

energyMax: 60
energyRegen: 0

borrowResourcesWhileAlive: 能源供应=1

tags: units, 贝露模块, 贝露探雾模块T3

[hiddenAction_canRepair]
autoTrigger: if self.isEnergyFull()
spawnUnits: 探雾精灵
addEnergy: -60

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_setValue: 0
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: 1

[hiddenAction_探雾附属]
autoTrigger: if self.hasParent(withTag="贝露佩欧鲁权杖") and numberOfUnitsInTeam(withTag="探雾模块附属T3", lessThan=1, withinRange=50)
temporarilyAddTags: 贝露探雾模块T3
spawnUnits: 探雾模块附属T3

[action_权能升级]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)
isVisible: if not self.hasUnitInTeam(withTag='真视之眼')
buildSpeed: 300s
convertTo: 真视之眼
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 苍蓝能量=20
addGlobalTeamTags: 新之铁锈

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[hiddenAction_探针模块]
autoTrigger: if self.hasParent(withTag="贝露之眼")
temporarilyRemoveTags: 贝露探雾模块T3

[attack]
canAttack: false

[turret_fogOfWarSight]
x: 0
y: 0
canShoot: false
limitingRange: ${core.fogOfWarSightRange * 20 - 40}
showRangeUIGuide: true

[graphics]
image: 苍影瞭望塔T3.png



