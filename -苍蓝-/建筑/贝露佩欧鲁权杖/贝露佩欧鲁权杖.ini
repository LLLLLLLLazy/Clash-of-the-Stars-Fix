
[core]
name: 贝露佩欧鲁权杖
displayDescription: -苍蓝阵营 \n -贝露中心基地 \n -建造与维修贝露单位 \n -可最多附加1个主模块与5个贝露模块 \n -自我修复 \n -生产资源 \n -苍蓝能量+0.002 \n -起始基地被毁会损失资源 \n “崇高的苍蓝之神谕”
class: CustomUnitMetadata
price: 8000
maxHp: 2000
maxShield: 1000
shieldRegen: 0.15
mass: 10000
tags: units, 苍蓝, 贝露佩欧鲁权杖, 贝露中心单位, 基地

selfRegenRate: 0.08

techLevel: 1
buildSpeed: 0.0002

generation_credits: 53
generation_delay: 40
generation_resources: 苍蓝能量=0.002

energyMax: 500
energyRegen: 0
energyStartingPercentage: 0

radius: 20
shieldRenderRadius: 32


isBuilding: true
isBio: false

footprint: 0,0,0,0
constructionFootprint: 0,0,0,0

buildingToFootprintOffsetY: 0

isUnrepairableUnit: true

canReclaimResources: true

canRepairBuildings: true
canRepairUnits: true

nanoRange: 360
nanoBuildSpeed: 2
nanoRepairSpeed: 0.15
autoRepair: true

fogOfWarSightRange: 28


effectOnDeath: CUSTOM:shockwaveLarge, largeExplosion, CUSTOM:explosionFlashLarge
soundOnDeath: buiding_explode:1

fireTurretXAtSelfOnDeath: magic

@memory 指定坐标:unit

[canBuild_回收与维修]
name: reclaim, repair
pos: -1

[action_范围回收]
@copyFromSection: template_范围回收
@define turret: magic

[hiddenAction_回收路径]
@copyFromSection: template_回收路径

[decal_回收范围]
@copyFromSection: template_回收范围


[template_Build]
isVisible: if self.hasFlag(id=10)

[canBuild_1]
@copyFromSection: template_Build
name: 贝露能源站T1
pos: 2.12

[canBuild_2]
@copyFromSection: template_Build
name: 自然飞矢塔
pos: 2.13

[canBuild_5]
@copyFromSection: template_Build
name: 充能防御墙
pos: 2.16

[canBuild_6]
@copyFromSection: template_Build
name: 工厂框架
pos: 2.17

#[canBuild_7]
#@copyFromSection: template_Build
#name: 贝露陆海工厂
#pos: 2.17

#[canBuild_8]
#@copyFromSection: template_Build
#name: 贝露中空工厂
#pos: 2.18

[canBuild_9]
@copyFromSection: template_Build
name: 帷幕行者
forceNano: true
pos: 2.19

[canBuild_支援空投1]
@copyFromSection: template_Build
isVisible: if self.hasFlag(id=10) and not self.globalTeamTags(includes='空投完毕')
name: 赤血战蝎召唤
price: 2500
forceNano: true
pos: 2.191

[canBuild_支援空投2]
@copyFromSection: canBuild_支援空投1
name: 贝露资源仪召唤
price: 3000

[canBuild_恐虐传送门]
name: 亚空间水晶
pos: 2.10
isVisible: if self.hasResources(混沌元素=1)
@copyFromSection: template_Build


[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
addResources: T=1

[hiddenAction_破碎之星]
autoTriggerOnEvent: destroyed
requireConditional: if self.hasResources(起始基地=1)
spawnUnits: 碎星核, 基地亡语

[resource_起始基地]
displayName: 起始基地

[hiddenAction_阵营]
autoTrigger: if not self.globalTeamTags(includes='苍蓝')
addGlobalTeamTags: 苍蓝


[action_upgrade]
autoTrigger: if self.energy(greaterThan=99.99)
isActive: false
price: energy=1
id: 能源升级
text: 能源升级: 
description: -能量到达100时升级为贝露佩欧鲁权杖T2 \n -每1能源供应提供0.2能量/每秒 \n -资源与苍能产出增加 \n -维修效率提升 \n -解锁第四副模块 \n -解锁部分能力 \n -揭雾视野上升
displayType: infoOnly
buildSpeed: 0s
pos: -0.1
displayRemainingStockpile: true
iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
convertTo: 贝露佩欧鲁权杖T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
isAlsoViewableByAllies: true

addResources: T=1
addGlobalTeamTags: 贝露权杖T2

resourceAmount: energy
resourceAmount_setValue: 0

[action_至高权能]
autoTrigger: if numberOfUnitsInTeam(withTag="权能模块", greaterThan=0, withinRange=50)
convertTo: 贝露佩欧鲁权杖T4
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
isActive: false
isVisible: false
id: ${section.text}
text: 至高权能
description: -获取权能模块后升级为贝露佩欧鲁权杖T4
displayType: upgrade
buildSpeed: 0s
pos: -0.1
iconExtraImage: 苍.png
iconExtraColor: #AAFFFFFF
resourceAmount: T
resourceAmount_setValue: 4
addGlobalTeamTags: 贝露权杖T4



[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
addResourcesWithLogic: energy=self.resource.能源供应 * 0.2

[hiddenAction_能源匮乏]
autoTrigger: if self.resource(type="能源供应", lessThan=0)
resourceAmount: shield
resourceAmount_setValue: -10

[hiddenAction_无防护状态]
autoTrigger: if self.resource(type="能源供应", lessThan=0) and self.hasTakenDamage(withinSeconds=1)
addResourcesWithLogic: hp=-150 -self.maxHp*0.05
playSoundAtUnit: missile_hit
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: explode


[hiddenAction_白幕之光]
autoTriggerOnEvent: destroyed
requireConditional: if self.hasResources(credits=250000)
spawnUnits: 白暮
spawnEffects: CUSTOM:白光波, CUSTOM:白光

[effect_白光波]
stripIndex: shockwave_large
life: 50
scaleFrom: 0
scaleTo: 5
dirSpeed: 5

[effect_白光]
stripIndex: light_50
life: 50
scaleFrom: 5
scaleTo: 1


#————————————————————————————————————————————


[action_显示模块列表]
@define slotId: 11
buildSpeed: 0s
id: 显示贝露模块列表
text: [ 贝露模块 ]

isVisible: if not self.hasFlag(id=11)

addResources: unsetFlag=1-10, setFlag=6, setFlag=11, unsetFlag=12
isGuiBlinking: if self.hasFlag(id=11)
displayType: action

pos: 0
canPlayerCancel: false
allowMultipleInQueue: false
highPriorityQueue: true
alwaysSinglePress: true

extraLagHidingInUI: true
isAlsoViewableByAllies: true

[action_关闭模块列表]
@copyFromSection: action_显示模块列表
id: 关闭贝露模块列表
isVisible: if self.hasFlag(id=11)
addResources: unsetFlag=1-11, setFlag=10
alsoTriggerAction: NONE

[action_selectSlot1]
@define slotId: 1
buildSpeed: 0s
id: slotId${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
textPostFix: ]

isVisible: if self.hasFlag(id=11)

descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")

addResources: unsetFlag=1-10, setFlag=${slotId}
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: queueUnit
unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")


iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: icon_selected.png

pos: 1.01

canPlayerCancel: false
allowMultipleInQueue: false

highPriorityQueue: true

#No confirm needed on mobile
alwaysSinglePress: true

extraLagHidingInUI: true
isAlsoViewableByAllies: true


[action_selectSlot2]
@copyFromSection: action_selectSlot1
@define slotId: 2
[action_selectSlot3]
@copyFromSection: action_selectSlot1
@define slotId: 3

[action_selectSlot4]
@copyFromSection: action_selectSlot1
@define slotId: 4
isVisible: if self.hasFlag(id=11) and self.tags(includes="贝露权杖T2")

[action_selectSlot5]
@copyFromSection: action_selectSlot1
isVisible: if self.hasFlag(id=11) and self.tags(includes="贝露权杖T3")
@define slotId: 5

[action_主模块]
@copyFromSection: action_selectSlot1
@define slotId: 6
pos: 1.0
text: [ 主模块 ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:
unitShownInUI: 

[action_selectSlotBuild]
@copyFromSection: action_selectSlot1
@define slotId: 10
pos: 1.2
id: Build
text: [ Build ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:
unitShownInUI: 
displayType: action

[hiddenAction_onCreate]
autoTrigger: if self.resource(type="onCreate", lessThan=1)
addResources: setFlag=10, onCreate=1, energy=-5
attachments_addNewUnits: 贝露模块空*5

#————————————————————————————————————————————

[attachment_unitSlot1]
x: 0
y: 0
idleDir: 0
isVisible: false

addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false

prioritizeParentsMainTarget: true

canBeAttackedAndDamaged: false
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

lockRotation: true

createIncompleteIfParentIs: false

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

showAllActionsFrom:if self.hasFlag(id=2)


[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot2

showAllActionsFrom:if self.hasFlag(id=3)


[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot2

showAllActionsFrom:if self.hasFlag(id=4)

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot2

showAllActionsFrom:if self.hasFlag(id=5)

#————————————————————————————————————————————

[action_主模块-日耀]
isVisible: if self.hasFlag(id=6) and not self.globalTeamTags(includes='日耀T1') and not self.globalTeamTags(includes='日耀T2') and not self.globalTeamTags(includes='日耀T3')
isActive: if self.queueSize(withActionTag="主模块轮换")<1
buildSpeed: 27.8s
id: 主模块日耀
text: 日耀I
description: -日耀之领域 \n -积蓄日耀能量 \n -大范围恢复单位的生命与护盾(360:+10/s) \n -增强领域内单位20%血量和护盾 \n -首次激活时释放五个炎之精
tags=主模块, 主模块升级

iconImage: 阳.png
iconExtraImage: 橙底.png

price: 4000
addResources: hp=300, 日耀=50
setResourcesWithLogic: 日耀模块=1, 月曜模块=0
temporarilyRemoveTags: 月曜T1, 月曜T2, 月曜T3
addGlobalTeamTags: 日耀T1

spawnUnits: 炎之精(offsetY=60), 炎之精(offsetX=50, offsetY=10), 炎之精(offsetX=-50, offsetY=10), 炎之精(offsetX=20, offsetY=-40), 炎之精(offsetX=-20, offsetY=-40)

isGuiBlinking: if self.resource(type="日耀模块", greaterThan=0)
displayType: queueUnit

spawnEffects: CUSTOM:日耀现, CUSTOM:日耀现波

pos: 1.1
allowMultipleInQueue: false
isAlsoViewableByAllies: true
extraLagHidingInUI: true

[action_主模块-日耀II]
@copyFromSection: action_主模块-日耀
isVisible: if self.hasFlag(id=6) and self.resource(type="日耀模块", equalTo=1)
isActive: if self.queueSize(withActionTag="主模块轮换")<1 and self.queueSize(withActionTag="主模块升级")<1
id: 主模块日耀II
text: 升级 - 日耀II
description: -日耀之领域 \n -积蓄日耀能量 \n -可抵御炽炎领域 \n -大范围恢复单位的生命与护盾(360:+20/s) \n -增强领域内单位30%血量和护盾 \n -首次激活时释放五个炎之精

addResources: hp=600
setResourcesWithLogic: 日耀模块=2, 月曜模块=0

addGlobalTeamTags: 日耀T2
removeGlobalTeamTags: 日耀T1

spawnUnits: NONE

buildSpeed: 41.7s
price: 8000


[action_主模块-日耀轮换]
@copyFromSection: action_主模块-日耀
isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='日耀T1') and not self.resource(type="日耀模块", greaterThan=0)
isActive: if self.queueSize(withActionTag="主模块升级")<1
id: 日耀轮换
tags=主模块, 主模块轮换

buildSpeed: 6s
price: 月曜=50

spawnUnits: NONE

alsoTriggerAction: 日耀切换
canPlayerCancel: false

[action_主模块-日耀轮换II]
@copyFromSection: action_主模块-日耀II
#isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='日耀T2') and not self.resource(type="日耀模块", greaterThan=0)
isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='日耀T2')
isActive: if self.queueSize(withActionTag="主模块升级")<1 and not self.resource(type="日耀模块", equalTo=2)
id: 日耀轮换II
tags=主模块, 主模块轮换

text: 日耀II
addResources: hp=300
temporarilyRemoveTags: 月曜T1, 月曜T2, 月曜T3

buildSpeed: 6s
price: 月曜=50

canPlayerCancel: false

[hiddenAction_日耀切换]
requireConditional: if self.resource(type="月曜模块", greaterThan=0)
resourceAmount: 月曜模块
resourceAmount_setValue: 0
spawnEffects: CUSTOM:月曜现



[action_主模块-月曜]
@copyFromSection: action_主模块-日耀
isVisible: if self.hasFlag(id=6) and not self.globalTeamTags(includes='月曜T1') and not self.globalTeamTags(includes='月曜T2') and not self.globalTeamTags(includes='月曜T3')
buildSpeed: 13.9s
id: 主模块月曜
text: 月曜I
description: -月曜之领域 \n -积蓄月曜能量 \n -增强领域内单位15%攻速和移速 \n -首次激活时释放三个贝露浮游炮

iconImage: 月.png
iconExtraImage: 蓝底.png

price: 3000
addResources: shield=300, 月曜=50
setResourcesWithLogic: 月曜模块=1, 日耀模块=0
temporarilyRemoveTags: 日耀T1, 日耀T2, 赤
addGlobalTeamTags: 月曜T1

spawnUnits: 贝露浮游炮(offsetY=60), 贝露浮游炮(offsetX=50, offsetY=10), 贝露浮游炮(offsetX=-50, offsetY=10)

isGuiBlinking: if self.resource(type="月曜模块", greaterThan=0)
spawnEffects: CUSTOM:月曜现, CUSTOM:月曜现波

[action_主模块-月曜II]
@copyFromSection: action_主模块-月曜
isVisible: if self.hasFlag(id=6) and self.resource(type="月曜模块", equalTo=1)
isActive: if self.queueSize(withActionTag="主模块轮换")<1 and self.queueSize(withActionTag="主模块升级")<1
id: 主模块月曜II
text: 升级 - 月曜II
description: -月曜之领域 \n -积蓄月曜能量 \n -增强领域内单位25%攻速和移速

addResources: shield=600
setResourcesWithLogic: 月曜模块=2, 日耀模块=0

addGlobalTeamTags: 月曜T2
removeGlobalTeamTags: 月曜T1

spawnUnits: NONE

buildSpeed: 27.8s
price: 6500

#[action_主模块-月曜III]
#@copyFromSection: action_主模块-月曜
#isVisible: if self.hasFlag(id=6) and self.resource(type="月曜模块", equalTo=2)
#isActive: if self.queueSize(withActionTag="主模块轮换")<1 and self.queueSize(withActionTag="主模块升级")<1
#id: 主模块月曜III
#tags: 主模块, 主模块升级, 满月升级
#text: 转化 - 满月
#description: -月曜之领域 \n -积蓄月曜能量 \n -没有领域增强效果 \n -领域内每(50s)会定期落下[月华] \n -所有月曜能源站转化为满月能源站并增加月曜产出 \n -每一个满月能源站会减少[月华]生成时间(2s) \n -回收[月华]可获得2000资源 \n -可降级为月曜II并全额返还资源

#iconImage: 满月.png
#iconExtraImage: 满月环.png

#addResources: IGNORE
#setResourcesWithLogic: 月曜模块=3, 日耀模块=0

#addGlobalTeamTags: 月曜T3
#removeGlobalTeamTags: 月曜T2
#temporarilyRemoveTags: 月曜T2

#buildSpeed: 29.53s
#price: 8150
#pos: 1.11

#spawnEffects: CUSTOM:满月华现, CUSTOM:满月华现波

#[action_主模块-月曜II降级]
#@copyFromSection: action_主模块-月曜
#isVisible: if self.hasFlag(id=6) and self.resource(type="月曜模块", equalTo=3)
#isActive: if self.queueSize(withActionTag="主模块轮换")<1 and self.queueSize(withActionTag="主模块升级")<1
#id: 主模块月曜II降级
#text: 降级 - 月曜II
#description: -月曜之领域 \n -积蓄月曜能量 \n -增强领域内单位25%攻速和移速 \n -返还${section.addResources}资源

#addResources: 8150
#setResourcesWithLogic: 月曜模块=2

#addGlobalTeamTags: 月曜T2
#removeGlobalTeamTags: 月曜T3
#temporarilyRemoveTags: 月曜T3

#buildSpeed: 14.76s
#price: 0


[action_主模块-月曜轮换]
@copyFromSection: action_主模块-月曜
isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='月曜T1') and not self.resource(type="月曜模块", greaterThan=0)
isActive: if self.queueSize(withActionTag="主模块升级")<1
id: 月曜轮换
tags=主模块, 主模块轮换

buildSpeed: 6s
price: 日耀=50

spawnUnits: NONE

alsoTriggerAction: 月曜切换
canPlayerCancel: false

[action_主模块-月曜轮换II]
@copyFromSection: action_主模块-月曜II
isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='月曜T2')
isActive: if self.queueSize(withActionTag="主模块升级")<1 and not self.resource(type="月曜模块", equalTo=2)
id: 月曜轮换II
tags=主模块, 主模块轮换

text: 月曜II
addResources: shield=300
temporarilyRemoveTags: 日耀T1, 日耀T2, 赤

buildSpeed: 6s
price: 日耀=50

canPlayerCancel: false

#[action_主模块-月曜轮换III]
#@copyFromSection: action_主模块-月曜III
#isVisible: if self.hasFlag(id=6) and self.globalTeamTags(includes='月曜T3') and not self.resource(type="月曜模块", greaterThan=2)
#isActive: if self.queueSize(withActionTag="主模块升级")<1 and not self.resource(type="月曜模块", equalTo=3)
#id: 月曜轮换III
#tags: 主模块, 主模块轮换

#text: 满月
#temporarilyRemoveTags: 日耀T1, 日耀T2, 赤

#buildSpeed: 6s
#price: 日耀=50

#canPlayerCancel: false

[hiddenAction_月曜切换]
requireConditional: if self.resource(type="月曜模块", greaterThan=0)
resourceAmount: 日耀模块
resourceAmount_setValue: 0
spawnEffects: CUSTOM:日耀现


#————————————————————————————————————————————


[hiddenAction_日耀T1]
@define Level: 1
autoTrigger: if self.resource(type="日耀模块", equalTo=${Level})
addResources: 日耀=${Level}
temporarilyAddTags: 日耀T${Level}
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 光阳照耀T${Level}

[hiddenAction_日耀T2]
@copyFromSection: hiddenAction_日耀T1
@define Level: 2
temporarilyAddTags: 日耀T1, 日耀T${Level}, 赤

[projectile_光阳照耀T1]
tags= T-projectile
areaDamage: -10
areaRadius: 360
areaRadiusFromEdge: true
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
shieldDefectionMultiplier: 0
life: 5
instant: true
targetGround: true
friendlyFire: only-ignoreEnemy
explodeEffect: NONE
mutator1_ifUnitWithTags: 中立资源
mutator1_areaDamageMultiplier: 0
mutator2_ifUnitWithTags: 贝露浮游炮, 贝露中心单位
mutator2_areaDamageMultiplier: 0.1

[projectile_光阳照耀T2]
@copyFromSection: projectile_光阳照耀T1
areaDamage: -20


[hiddenAction_月曜T1]
@define Level: 1
autoTrigger: if self.resource(type="月曜模块", equalTo=${Level})
addResources: 月曜=${Level}
temporarilyAddTags: 月曜T${Level}

[hiddenAction_月曜T2]
@copyFromSection: hiddenAction_月曜T1
@define Level: 2
temporarilyAddTags: 月曜T1, 月曜T${Level}

#[hiddenAction_月曜T3]
#@copyFromSection: hiddenAction_月曜T1
#@define Level: 3
#addResourcesWithLogic: 月华=1
#spawnEffects: 满月光辉*10

#[hiddenAction_月华光辉]
#autoTrigger: if self.resource.月华>=50 - min(numberOfUnitsInTeam(withTag='满月能源站')*2, 48)
#setResourcesWithLogic: 月华=0
#spawnUnits: 月华(offsetRandomXY=250, offsetHeight=250)

#[resource_月华]
#displayName: ☾月华☽

#[effect_满月光辉]
#priority: verylow
#image: SHARED:blank.png
#life: 0
#dirOffsetRandom: 180
#alsoEmitEffectsOnDeath: 满月光辉粒子
#delayedStartTimerRandom: 50

#[effect_满月光辉粒子]
#priority: verylow
#image: 白粒.png
#life: 500
#lifeRandom: 100
#fadeInTime: 100
#fadeOut: true
#attachedToUnit: false
#color: #FFFFCC
#scaleFrom: 2.5
#scaleTo: 1.5
#alpha: 0.5

#dirSpeedRandom: 2

#yOffsetRelative: 140
#yOffsetRelativeRandom: 140

#ySpeedRelative: 0.6
#ySpeedRelativeRandom: 0.3
#xSpeedRelativeRandom: 0.2


#————————————————————————————————————————————


[action_日耀铭刻]
isVisible: if (self.hasFlag(id=6) or self.hasFlag(id=10)) and self.resource.日耀模块>0
isActive: if self.queueSize(withActionTag="主模块轮换")<1
buildSpeed: 3s
id: 日耀铭刻
text: 日耀铭刻
description: -日月之铭刻 \n -消耗日耀能量使领域内单位获得[日耀铭刻|60s] \n -拥有日耀铭刻离开领域也可保留增强效果 \n -拥有的铭刻时间最多为60s

iconImage: 炽星阵.png
iconExtraImage: 橙底.png

price: 日耀=200

displayType: action

spawnEffects: CUSTOM:日耀现, CUSTOM:日耀缩, CUSTOM:日耀光

pos: 1.15
allowMultipleInQueue: false
isAlsoViewableByAllies: true

takeResources_includeUnitsWithinRange: 360
takeResources_includeUnitsWithinRange_team: ally
takeResources_excludeUnitsWithoutTags: units
takeResources_triggerActionForEach: 日耀铭刻给予
takeResources_searchOnly: true
takeResources_maxUnits: 9999
alsoTriggerAction: 日耀铭刻激活


[action_月曜铭刻]
@copyFromSection: action_日耀铭刻
isVisible: if (self.hasFlag(id=6) or self.hasFlag(id=10)) and self.resource.月曜模块>0 and self.resource.月曜模块<3
isActive: if self.queueSize(withActionTag="主模块轮换")<1 and self.queueSize(withActionTag="满月升级")<1
buildSpeed: 3s
id: 月曜铭刻
text: 月曜铭刻
description: -日月之铭刻 \n -消耗月曜能量使领域内单位获得[月曜铭刻|60s] \n -拥有月曜铭刻离开领域也可保留增强效果 \n -拥有的铭刻时间最多为60s

iconImage: 苍星阵.png
iconExtraImage: 蓝底.png

price: 月曜=200

spawnEffects: CUSTOM:月曜现, CUSTOM:月曜缩, CUSTOM:月曜光

takeResources_triggerActionForEach: 月曜铭刻给予
alsoTriggerAction: 月曜铭刻激活

[hiddenAction_日耀铭刻给予]
requireConditional: if not thisActionTarget.self.tags(includes='贝露中心单位')
takeResources_includeReference: thisActionTarget
takeResources: 日耀铭刻=-60
alsoTriggerAction: 日耀铭刻特效

[hiddenAction_月曜铭刻给予]
@copyFromSection: hiddenAction_日耀铭刻给予
takeResources: 月曜铭刻=-60
alsoTriggerAction: 月曜铭刻特效


[hiddenAction_日耀铭刻特效]
fireTurretXAtGround: magic
fireTurretXAtGround_withProjectile: 日耀铭刻光
fireTurretXAtGround_withTarget: thisActionTarget.getOffsetAbsolute(y=-thisActionTarget.height)

[hiddenAction_月曜铭刻特效]
@copyFromSection: hiddenAction_日耀铭刻特效
fireTurretXAtGround_withProjectile: 月曜铭刻光


[hiddenAction_日耀铭刻激活]
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: ally
takeResources_excludeUnitsWithoutTags: 单位系统
takeResources_triggerActionForEach: 日耀铭刻系统
takeResources_searchOnly: true
takeResources_maxUnits: 99

[hiddenAction_月曜铭刻激活]
@copyFromSection: hiddenAction_日耀铭刻激活
takeResources_triggerActionForEach: 月曜铭刻系统

[hiddenAction_日耀铭刻系统]
sendMessageTo: thisActionTarget
sendMessageWithTags: 日耀铭刻

[hiddenAction_月曜铭刻系统]
@copyFromSection: hiddenAction_日耀铭刻系统
sendMessageWithTags: 月曜铭刻


[hiddenAction_日耀铭刻领域状态]
@copyFromSection: template_提取目标
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="日耀铭刻存在中", greaterThan=0) or numberOfUnitsInTeam(withTag="日耀铭刻存在中", greaterThan=0)) and (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.resource.日耀模块>0
takeResources_searchOnly: true
takeResources_triggerActionForEach: 日耀铭刻补充

[hiddenAction_日耀铭刻补充]
requireConditional: if thisActionTarget.resource.日耀铭刻>0
takeResources: 日耀铭刻=-1
takeResources_includeReference: thisActionTarget

[hiddenAction_月曜铭刻领域状态]
@copyFromSection: hiddenAction_日耀铭刻领域状态
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="月曜铭刻存在中", greaterThan=0) or numberOfUnitsInTeam(withTag="月曜铭刻存在中", greaterThan=0)) and (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.resource.月曜模块>0
takeResources_triggerActionForEach: 月曜铭刻补充

[hiddenAction_月曜铭刻补充]
@copyFromSection: hiddenAction_日耀铭刻补充
requireConditional: if thisActionTarget.resource.月曜铭刻>0
takeResources: 月曜铭刻=-1


[projectile_日耀铭刻光]
directDamage: 0
invisible: true
life: 100
speed: 15
speedSpread: 5
deflectionPower: -1
targetGround_includeTargetHeight: true
explodeEffect: 日耀铭刻标, 日耀铭刻光, 日耀聚合

[projectile_月曜铭刻光]
@copyFromSection: projectile_日耀铭刻光
explodeEffect: 月曜铭刻标, 月曜铭刻光, 月曜聚合


[effect_日耀铭刻标]
priority: low
life: 20
scaleFrom: 0.2
scaleTo: 0.25
alpha: 0.8
image: 阳.png
attachedToUnit: true
alwayStartDirAtZero: true

[effect_日耀铭刻光]
priority: low
life: 25
scaleFrom: 1
scaleTo: 1.7
alpha: 1.2
image: SHARED:light_50.png
color: #FFB54C
attachedToUnit: true
dirSpeedRandom: 3
dirOffsetRandom: 180

[effect_日耀聚合]
priority: low
life: 20
fadeOut: false
fadeInTime: 5
scaleFrom: 1
scaleTo: 0
alpha: 0.6
image: 聚合.png
color: #FFB54C
attachedToUnit: true
dirSpeed: 10
dirOffsetRandom: 180

[effect_月曜铭刻标]
@copyFromSection: effect_日耀铭刻标
image: 月.png

[effect_月曜铭刻光]
@copyFromSection: effect_日耀铭刻光
color: #4CDEFF

[effect_月曜聚合]
@copyFromSection: effect_日耀聚合
color: #4CDEFF


#————————————————————————————————————————————


[template_提取目标]
takeResources_includeUnitsWithinRange: 360
takeResources_includeUnitsWithinRange_team: ally
takeResources_excludeUnitsWithoutTags: units
takeResources_maxUnits: 99999

[hiddenAction_日耀T1状态时间]
@copyFromSection: template_提取目标
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.tags(includes="日耀T1")
takeResources: 日耀T1血盾=-1
takeResources_excludeUnitsWithTheseResources: 日耀T1血盾=2

[resource_日耀T1血盾]
displayName: 日耀T1血盾
hidden: true


[hiddenAction_日耀T2状态时间]
@copyFromSection: template_提取目标
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.tags(includes="日耀T2")
takeResources: 日耀T2血盾=-1
takeResources_excludeUnitsWithTheseResources: 日耀T2血盾=2

[resource_日耀T2血盾]
displayName: 日耀T2血盾
hidden: true


[hiddenAction_月曜T1状态时间]
@copyFromSection: template_提取目标
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.tags(includes="月曜T1")
takeResources: 月曜T1速度=-1
takeResources_excludeUnitsWithTheseResources: 月曜T1速度=2

[resource_月曜T1速度]
displayName: 月曜T1速度
hidden: true


[hiddenAction_月曜T2状态时间]
@copyFromSection: template_提取目标
autoTrigger: if (numberOfUnitsInAllyTeam(withTag="units", greaterThan=0, withinRange=360) or numberOfUnitsInTeam(withTag="units", greaterThan=0, withinRange=360)) and self.tags(includes="月曜T2")
takeResources: 月曜T2速度=-1
takeResources_excludeUnitsWithTheseResources: 月曜T2速度=2

[resource_月曜T2速度]
displayName: 月曜T2速度
hidden: true


#————————————————————————————————————————————


[action_1]
@copyFromSection: template_Build
displayType: action
id: 转换探针
tags=转换探针
text: 转换 - 探针
description: -基地转移 \n -防御力低 \n -部分模块效果不可用
descriptionAddUnitStats: ${section.convertTo}
convertTo: 贝露前哨探针
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
buildSpeed: 10s
price: 2000
pos: 2.5
addResources: unsetFlag=1-12
setUnitMemory: 属性[14]=0 + (self.resource.血量强化*0.25), 属性[15]=200*(self.resource.T-1)
spawnEffects: CUSTOM:curewave
isAlsoViewableByAllies: true
ai_isDisabled: true


[effect_curewave]
image: ROOT:/素材/hit.png
life: 30
scaleFrom: 20
scaleTo: 0
alpha: 1.0
color: #33E8E8
priority: veryhigh
alsoPlaySound: laser_deflect

[effect_护盾波]
image: ROOT:/素材/shield_mid.png
life: 50
scaleFrom: 1
scaleTo: 9
alpha: 2
alsoPlaySound: large_gun_fire2:0.2



#————————————————————————————————————————————

[resource_T]
displayName: T

[resource_onCreate]
displayName: onCreate

[resource_装甲冲击]
displayName: 装甲冲击

[resource_血量强化]
displayName: 血量强化

[resource_魔力]
displayName: 魔力

[resource_日耀模块]
displayName: 日耀模块

[resource_月曜模块]
displayName: 月曜模块

[resource_日耀铭刻]
displayName: 日耀铭刻

[resource_月曜铭刻]
displayName: 月曜铭刻

[global_resource_日耀]
displayName: 日耀
displayColor: #A0FF9500
priority: 0.3

[global_resource_月曜]
displayName: 月曜
displayColor: #A04060FF
priority: 0.3

[global_resource_能源供应]
hidden: false
displayName: 能源供应
displayColor: #33FFF1
priority: 0.9

[global_resource_混沌元素]
hidden: false
displayName: 混沌元素
displayColor: #FF1A00
priority: 1

#————————————————————————————————————————————


[arm_1]
x: 0
y: 0
image_end: 蓝底.png
drawUnderAllUnits: true
spinRate: 5
hidden: if self.resource.月曜模块<1 or self.resource.月曜模块==3

[arm_2]
@copyFromSection: arm_1
image_end: 橙底.png
hidden: if self.resource.日耀模块<1

[arm_3]
x: 0
y: 0
image_end: 阳.png
drawUnderAllUnits: true
hidden: if self.resource.日耀模块<1

[arm_4]
@copyFromSection: arm_3
image_end: 月.png
hidden: if self.resource.月曜模块<1 or self.resource.月曜模块==3

[arm_5]
@copyFromSection: arm_4
image_end: 月环.png
spinRate: 0.2

[arm_6]
@copyFromSection: arm_3
image_end: 日环.png
spinRate: 0.2

[arm_8]
x: 0
y: 0
spinRate: 3

[arm_9]
x: 0
y: 0
spinRate: -3

[arm_10]
@copyFromSection: arm_1
image_end: 满月底.png
hidden: if self.resource.月曜模块!=3

[arm_11]
@copyFromSection: arm_3
image_end: 满月.png
hidden: if self.resource.月曜模块!=3

[arm_12]
@copyFromSection: arm_11
image_end: 满月盾.png
spinRate: 0.2

[decal_满月光]
isVisible: if self.resource.月曜模块==3
layer: onTop
imageScale: 1.2
image: 满月光.png
@define timer_8s: ((self.timeAlive() % 8) / 8)
alpha: 0.6+cos( ${timer_8s} * 360) * 0.2
basePositionFromLegEnd: arm_12

[decal_满月环]
isVisible: if self.resource.月曜模块==3
layer: shadow
imageScale: 2
image: 满月环.png
alpha: 0.2
color: #FFFFCC
basePositionFromLegEnd: arm_12

[decal_日耀天束范围]
isVisible: if self.numberOfAttachedUnits(withTag="日月天束模块", greaterThan=0) and self.resource.日耀模块>0
onlyWhenSelectedByAnyPlayer: true
alwaysStartDirAtZero: true
alwaysStartHeightAtZero: true
layer: beforeUI
image: 范围圈600.png
imageScale: min(230 + self.resource.能源供应*10, 350) / 300
alpha: 0.6
color: #FF9500

[decal_月曜天束范围]
@copyFromSection: decal_日耀天束范围
isVisible: if self.numberOfAttachedUnits(withTag="日月天束模块", greaterThan=0) and self.resource.月曜模块>0
imageScale: min(200 + self.resource.能源供应*10, 320) / 300
color: #40BFFF

#————————————————————————————————————————————

[effect_日耀现]
image: 阳.png
life: 30
scaleFrom: 1
scaleTo: 1.2
alpha: 1

[effect_日耀现波]
stripIndex: shockwave_large
life: 50
scaleFrom: 1
scaleTo: 7
alpha: 1
dirSpeed: 5
color: #FFB54C

[effect_日耀光]
stripIndex: light_50
life: 30
fadeInTime: 5
scaleFrom: 15
scaleTo: 20
alpha: 0.6
dirSpeed: 5
color: #FFB54C

[effect_日耀缩]
image: 阳.png
life: 30
scaleFrom: 1.1
scaleTo: 1
alpha: 0.8

[effect_月曜现]
@copyFromSection: effect_日耀现
image: 月.png

[effect_月曜现波]
@copyFromSection: effect_日耀现波
color: #4CDEFF

[effect_月曜缩]
@copyFromSection: effect_日耀缩
image: 月.png

[effect_月曜光]
@copyFromSection: effect_日耀光
color: #4CDEFF

[effect_满月华现]
@copyFromSection: effect_日耀现
image: 满月.png

[effect_满月华现波]
@copyFromSection: effect_日耀现波
color: #FFFFCC

#————————————————————————————————————————————

[decal_权杖]
layer: afterBody
order: 0.1
image: 贝露佩欧鲁权杖T1.png
yOffsetAbsolute: ${HeightDrift}
@global HeightDrift: 0

[decal_权杖水晶]
layer: afterBody
order: 0.2
image: 权杖水晶.png
yOffsetAbsolute: (-${ShuiJingY} + ${HeightDrift}) - ${timerCos_5s}
@global ShuiJingY: 50

@define timerCos_5s: cos( ((self.timeAlive % 5) / 5) * 360) * 1

[decal_权杖水晶烁光]
layer: afterBody
order: 0.6
image: 蓝烁星光.png
imageScale: 0.4
alpha: 0.4 + ${timerCos_8s}
yOffsetAbsolute: (-${ShuiJingY} + ${HeightDrift}) - ${timerCos_5s} 

@define timerCos_5s: cos( ((self.timeAlive % 5) / 5) * 360) * 1

@define timerCos_8s: cos( ((self.timeAlive % 8) / 8) * 360) * 0.1

[graphics]
total_frames: 1
image: 大空.png
image_shield: experimental_shield.png
image_back: 苍蓝底座.png
image_back_always_use_full_image: true
drawLayer: experimentals

showEnergyBar: false

repairEffectAtTarget: CUSTOM:苍方旋, CUSTOM:苍方临
repairEffectRate: 180

[effect_苍方旋]
priority: high
attachedToUnit: true
drawUnderUnits: true
image: 方形.png
life: 36
scaleFrom: 1
scaleTo: 1
alpha: 1
fadeOut: false
dirSpeed: 2
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋2, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方浮]
@copyFromSection: effect_苍方旋
drawUnderUnits: false
life: 120
alpha: 2.5
dirSpeed: 2
dirSpeedRandom: 1
hSpeed: 1
#fadeInTime: 25
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_苍方旋2]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋3, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋3]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋4, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋4]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋5, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋5]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方影]
@copyFromSection: effect_苍方旋
alpha: 0.8
life: 100
dirSpeed: 1.75
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_苍方波]
@copyFromSection: effect_苍方旋
life: 50
scaleFrom: 0
scaleTo: 1
alpha: 1
alsoEmitEffectsOnDeath: NONE

[effect_苍方临]
@copyFromSection: effect_苍方旋
life: 36
scaleFrom: 2
scaleTo: 1
alpha: 1
fadeOut: true
fadeInTime: 36
alsoEmitEffectsOnDeath: NONE


#————————————————————————————————————————————


[hiddenAction_装甲冷却]
autoTrigger: if self.hasResources(装甲冲击=1)
addResources: 装甲冲击=-1

[hiddenAction_装甲冲击]
autoTriggerOnEvent: tookDamage
autoTrigger: if self.numberOfAttachedUnits(withTag="贝露装甲模块T3", greaterThan=0) and not self.hasResources(装甲冲击=1) and self.shield(lessThan=300) and self.resource(type="能源供应", greaterThan=0)
requireConditional: ${section.autoTrigger}
addResources: 装甲冲击=100
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: shockwave

[hiddenAction_装甲血量强化]
autoTriggerOnEvent: newMessage(withTag='血量强化')
addResourcesWithLogic: 血量强化=eventData(name='变值', type='float')
setUnitMemory: 属性[14]=self.resource.血量强化 + eventData(name='变值', type='float')
alsoTriggerAction: 属性变化

[hiddenAction_回流之盾]
autoTriggerOnEvent: tookDamage
requireConditional: if self.numberOfAttachedUnits(withTag="贝露装甲模块β", greaterThan=0) and self.resource.装甲血量>self.hp and self.shield(greaterThan=300) and not self.hp(full=true)
setResourcesWithLogic: shield=self.shield-(self.resource.装甲血量-self.hp), hp=self.hp+min((self.resource.装甲血量-self.hp), self.maxShield), 装甲血量=self.hp

[hiddenAction_装甲β血量]
autoTriggerOnEvent: tookDamage
autoTrigger: if self.numberOfAttachedUnits(withTag="贝露装甲模块β", greaterThan=0) and self.resource.装甲血量!=self.hp
requireConditional: ${section.autoTrigger}
setResourcesWithLogic: 装甲血量=self.hp

[resource_装甲血量]
hidden: true


[action_砂时之风]
isVisible: if numberOfUnitsInTeam(withTag="贝露维修模块T3", greaterThan=0, withinRange=50)
price: 0
id: ${section.text}
text: [砂时之风]
description: -来自贝露维修模块T3 \n -范围生命与护盾恢复 \n -不对盟友单位生效 \n “祛散风尘”
displayType: action
buildSpeed: 0.1
pos: 3
addActionCooldownTime: 50s
allowMultipleInQueue: false
alwaysSinglePress: true
highPriorityQueue: true
onlyOneUnitAtATime: true
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 50
fireTurretXAtGround_withProjectile: 砂时之风
isAlsoViewableByAllies: true

[projectile_砂时之风]
tags= T-projectile
directDamage: 0
invisible: true
life: 1
spawnProjectilesOnCreate: 治愈领域, 治愈风

[projectile_治愈领域]
tags= T-projectile
areaDamage: -100
areaRadius: 360
areaRadiusFromEdge: true
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
shieldDefectionMultiplier: 0
friendlyFire: only-ignoreEnemy
invisible: true
life: 60
speed: 0
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnExplode: 治愈领域(recursionLimit=5)
explodeEffect: CUSTOM:愈光圈
explodeEffectOnShield: CUSTOM:愈光圈
mutator1_ifUnitWithTags: 中立资源
mutator1_areaDamageMultiplier: 0

[projectile_治愈风]
@copyFromSection: projectile_治愈领域
areaDamage: -20
life: 10
spawnProjectilesOnExplode: 治愈风(recursionLimit=30)
explodeEffect: CUSTOM:愈波
explodeEffectOnShield: CUSTOM:愈波

[effect_愈光圈]
image: ROOT:/素材/白色光圈.png
life: 80
fadeOut: true
fadeInTime: 10
scaleFrom: 0
scaleTo: 7
alpha: 0.4
color: #4CFFFF
dirSpeed: 10

[effect_愈波]
stripIndex: shockwave_large
life: 70
fadeOut: true
fadeInTime: 10
scaleFrom: 0
scaleTo: 7.2
alpha: 0.15
color: #1EFD2F
delayedStartTimerRandom: 5


[action_权心之明]
isVisible: if numberOfUnitsInTeam(withTag="贝露探雾模块T3", greaterThan=0, withinRange=50)
price: 1500
id: ${section.text}
text: [权心之明]
description: -来自贝露探雾模块T3 \n -定向视野侦察 \n “通向天明”
displayType: action
buildSpeed: 0.1
pos: 3.1
addActionCooldownTime: 1s
highPriorityQueue: true
onlyOneUnitAtATime: true
fireTurretXAtGround: magic2
fireTurretXAtGround_withProjectile: 定向侦察
isAlsoViewableByAllies: true

[projectile_定向侦察]
tags= T-projectile
directDamage: 0
invisible: true
life: 1
speed: 10
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnExplode: 灯明(yOffsetRelative=60, recursionLimit=48)
explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_灯明]
tags= T-projectile
directDamage: 0
invisible: true
life: 5
speed: 0
turnSpeed: 0
turnSpeedWhenNear: 0
deflectionPower: -1
shouldRevealFog: true
explodeOnEndOfLife: true
explodeEffect: CUSTOM:smog, CUSTOM:雷达圈
explodeEffectOnShield: CUSTOM:smog, CUSTOM:雷达圈
spawnProjectilesOnExplode: 灯明(yOffsetRelative=100, recursionLimit=48)

[effect_smog]
#烟雾
stripIndex: effects
frameIndex: 0
life: 100
fadeOut: true
attachedToUnit: false
color: #82FFFF
fadeInTime: 0
scaleFrom: 28
scaleTo: 35
alpha: 0.25
drawUnderUnits:false
atmospheric:true

createWhenOffscreen: true

dirOffsetRandom:180
shadow:true
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5

[effect_雷达圈]
image: 苍影雷达圈.png
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 10
scaleFrom: 4
scaleTo: 4.2
alpha: 0.7
drawUnderUnits: false
createWhenOffscreen: true
dirSpeed: 10


[hiddenAction_永恒虚星]
autoTrigger: if self.numberOfAttachedUnits(withTag="永恒虚星")>0
convertTo: 贝露佩欧鲁权杖T4[永恒虚星]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setResourcesWithLogic: 免疫渊海=1

[resource_免疫渊海]
displayName: 免疫渊海





[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: true

turretMultiTargeting: true

turretSize: 0
turretTurnSpeed: 20

maxAttackRange: 360
shootDelay: 0


[turret_nanoTurret]
x: 0
y: 50
canShoot: false
isMainNanoTurret: true
turnSpeed: 20
size: 1

[turret_field]
x: 0
y: 0
canShoot: false
limitingRange: 360
showRangeUIGuide: true


[turret_magic]
x: 0
y: 0
canShoot: false
projectile: explode
limitingRange: 1500

[turret_magic2]
x: 0
y: 0
canShoot: false
limitingRange: 9999

[projectile_explode]
tags= T-projectile
life: 99
instant: true

largeHitEffect: true

targetGround: true
areaDamage: 0
areaRadius: 70
areaExpandTime: 35

deflectionPower: -1

lightColor: #82FFFF
lightSize: 1

[projectile_shockwave]
tags= T-projectile
areaDamage: 0
areaRadius: 360
areaExpandTime: 40
life: 40
instant: true
areaHitAirAndLandAtSameTime: true
drawUnderUnits: true
pushForce: 2
pushVelocity: 20

explodeEffect: CUSTOM:shockwave*3

[effect_shockwave]
image: 五芒星.png
life: 45
scaleFrom: 0
scaleTo: 15
alpha: 1
dirSpeedRandom: 5
dirOffsetRandom: 180
alsoPlaySound: large_gun_fire2

[projectile_天气雷暴]
tags= T-projectile
directDamage: 0
life: 60
instant: true
invisible: true
spawnUnit: 雷暴区(alwayStartDirAtZero=true)
explodeOnEndOfLife: true
explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_天气地震]
@copyFromSection: projectile_天气雷暴
spawnUnit: 地震

[projectile_天气大雾]
@copyFromSection: projectile_天气雷暴
spawnUnit: 大雾

[projectile_天气骤雨]
@copyFromSection: projectile_天气雷暴
spawnUnit: 骤雨

[projectile_天气狂风]
@copyFromSection: projectile_天气雷暴
spawnUnit: 狂风
instant: false
life: 5

[effect_星]
image: ROOT:/素材/light.png
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: false
life: 150
scaleFrom: 1.5
scaleTo: 1.5
alpha: 1


[effect_shockwaveLarge]
stripIndex: shockwave_large
scaleFrom: 0.2
scaleTo: 2
life: 45
alpha: 0.6
color: #FFBFFFFF

[effect_explosionFlashLarge]
image: SHARED:light_50.png
scaleFrom: 8
scaleTo: 4
life: 20
color: #FFBFFFFF
fadeOut: true
priority: critical


[movement]
movementType:BUILDING
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

maxTurnSpeed: 0
turnAcceleration: 0

[ai]
buildPriority: 0.2

recommendedInEachBasePriorityIfUnmet: 0.4
recommendedInEachBaseNum: 1

noneInBaseExtraPriority: 0.35

maxEachBase: 1

useAsBuilder: true





