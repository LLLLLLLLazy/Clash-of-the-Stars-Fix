
[core]
name: 遗迹导弹堡垒
displayDescription: -攻击地面与空中 \n -回收仅获得20%资金 \n “或许咱可以躲在里面” \n (未实装单位)

class: CustomUnitMetadata
price: 25000
reclaimPrice: 5000
maxHp: 5000
mass: 9000
tags: units, 遗迹导弹堡垒

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint:-1,-1,1,1

generation_credits: 7
generation_delay: 40
borrowResourcesWhileAlive: 经济=-${core.generation_credits}

techLevel: 1
buildSpeed: 0.0001
#availableInDemo: true

radius: 32
#displayRadius: 25

isBuilding: true
isBio: false

maxTransportingUnits: 2
transportUnitsKillOnDeath: false
transportUnitsBlockOtherTransports: false

fireTurretXAtSelfOnDeath: 6

autoTriggerCheckWhileNotBuilt: true

[global_resource_经济]
hidden: true

[hiddenAction_created]
autoTriggerOnEvent: created
requireConditional: if self.hasFlag(id=1)
setBuilt: 0

[hiddenAction_已构建]
autoTrigger: if not customTarget1.hasFlag(id=0)
sendMessageWithTags: 构建完成
sendMessageTo: customTarget1


[attachment_1]
x: 0
y: 0
isVisible: false
canAttack: false
addTransportedUnits: true
keepAliveWhenParentDies: true
canBeAttackedAndDamaged: false
isUnselectable: true

[attachment_2]
@copyFromSection: attachment_1

[graphics]
total_frames: 1

image:        中心底座.png
image_wreak:  中心残骸.png
image_turret: 中心导弹.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

teamColorsOnTurret: true

#AUTO
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:3

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 32
turretTurnSpeed: 4

maxAttackRange: 400
shootDelay: 240

[turret_1]
#主体
canShoot: false
x: 0
y: 11

turnSpeed: 4.0
turnSpeedAcceleration: 0.4

shouldResetTurret: false

idleSpin: 0.8

recoilOffset: -3
recoilOutTime: 6
recoilReturnTime: 12

[turret_2]
#导弹
image: 导弹.png
attachedTo: 1
slave: true
x: -16
y: 16

idleDir:0

shoot_sound:missile_fire
shoot_sound_vol:0.3
shoot_flame:CUSTOM:greatsmoke*3
shoot_light:#FFEECCCC

recoilOffset:-20
recoilOutTime:0
recoilReturnTime:80

projectile: 1

[turret_3]
#导弹
x: -8
y: 16
copyFrom: 2
linkDelayWithTurret: 2
warmup: 15

[turret_4]
#导弹
x: 8
y: 16
copyFrom: 2
linkDelayWithTurret: 2
warmup: 30

[turret_5]
#导弹
x: 16
y: 16
copyFrom: 2
linkDelayWithTurret: 2
warmup: 45

[turret_6]
#覆盖
canShoot: false
x: 0
y: 0
image: 中心导弹.png
attachedTo: 1
slave: true

projectile: shockwave

[projectile_1]
tags= T-projectile
life: 240
speed: 0.3
targetSpeed: 6
trailEffect: CUSTOM:smog
trailEffectRate: 2
largeHitEffect: true
#ballistic: true
#ballistic_delaymove_height:0
#ballistic_height: 4
image: 导弹.png
areaDamage: 150
areaRadius: 50

autoTargetingOnDeadTarget: true

spawnProjectilesOnExplode: 1附

[projectile_1附]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife: true
invisible: true
targetGround: true
directDamage: 0
explodeEffect: CUSTOM:explodeCore


[projectile_shockwave]
tags= T-projectile
areaDamage: 30
areaRadius: 300
areaExpandTime: 50
life: 50
instant: true
areaHitAirAndLandAtSameTime: true
pushForce: 1
pushVelocity: 10

explodeEffect: CUSTOM:shockwave

[effect_shockwave]
stripIndex: shockwave_large
life: 50
scaleFrom: 0
scaleTo: 6
alpha: 1
alsoPlaySound: large_gun_fire2


[effect_explodeCore]
priority: veryhigh
life: 36
attachedToUnit: true
stripIndex: explode_big2
scaleFrom: 1.6
scaleTo: 1.6
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.4
fadeOut: false

[effect_greatsmoke]
stripIndex: effects
frameIndex: 0

life: 70
fadeOut: true
attachedToUnit: false
#color: #AEFF00
fadeInTime:2
hSpeed: 0.3
scaleFrom: 0.6
scaleTo: 1.9
alpha: 0.6
drawUnderUnits:false
yOffsetRelative:-12
xOffsetRelativeRandom:1
xSpeedRelativeRandom:0.2
ySpeedRelative:-0.4
ySpeedRelativeRandom:0.2

shadow: true
atmospheric: true

[effect_smog]
stripIndex: effects
frameIndex: 0
priority:low

life: 40
fadeOut: true
attachedToUnit: false
#color: #AEFF00
fadeInTime:2
hSpeed: 0.3
scaleFrom: 0.4
scaleTo: 1.6
alpha: 0.4
drawUnderUnits:false
yOffsetRelative:-10
xOffsetRelativeRandom:1
xSpeedRelativeRandom:0.1
ySpeedRelative:0.3
ySpeedRelativeRandom:0.1

shadow: true
atmospheric: true

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1