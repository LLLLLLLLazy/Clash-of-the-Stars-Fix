
[core]
name: 地幔涌动
displayText: 地幔涌动
displayDescription: -窃取地心能源 \n -使用高能热线摧毁抛射体 \n -攻击地面与空中
class: CustomUnitMetadata

price: 5300
maxHp: 2000
mass: 9000

tags: units, 资源提取器
showActionsWithMixedSelectionIfOtherUnitsHaveTag:资源提取器

#footprint used for collisions with units (left, up, right, down)
footprint:0,0,0,0

#used for placement, and placement of other buildings
constructionFootprint:0,0,0,0

generation_credits: 28
generation_delay: 40
borrowResourcesWhileAlive: 经济=-${core.generation_credits}

buildingSelectionOffset:4

techLevel: 1
buildSpeed: 0.0006

radius: 18
displayRadius: 20

energyMax: 3
energyRegen: 0.01

isBuilding:true

placeOnlyOnResPool:true

numBitsOnDeath:16
hideScorchMark:true

effectOnDeath: resourcePoolSmoke, blastLight, shockwave
explodeTypeOnDeath: buildingNoShockwaveOrSmoke

[global_resource_经济]
hidden: true

[action_reclaim]
text: 自毁
description: -自我回收 \n -只退还20%资金(${core.price * 0.20})
displayType: action
ai_isDisabled: true
allowMultipleInQueue: false
buildSpeed: 10s
addResources: credits=${core.price * 0.20}
setResourcesWithLogic: hp=-99999

[hiddenAction_顶点之处]
autoTrigger: if self.globalTeamTags(includes="顶点") and not self.tags(includes="顶点之处")
temporarilyAddTags: 顶点之处

[hiddenAction_落下顶点]
autoTrigger: if not self.globalTeamTags(includes="顶点") and self.tags(includes="顶点之处")
temporarilyRemoveTags: 顶点之处

[animation_idle]
onActions : idle
pingPong: true

arm1_0s:{x:0, y:0, alpha:0.6}
arm1_1.5s:{x:0, y:-1, alpha:0.7}
arm1_2.6s:{x:0, y:0, alpha:0.6}
arm1_3.9s:{x:0, y:1, alpha:0.5}

KeyframeTimeScale: 0.5

[arm_1]
x: 0
y: 5

image_end:  glow_red.png

drawOverBody: true

[graphics]
total_frames: 1

image:      mantle.png    
image_wreak: NONE
image_back:back.png
image_back_always_use_full_image:true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 20

maxAttackRange: 290
shootDelay: 40

[turret_laser]
x: 0
y: 5
canShoot: false

laserDefenceEnergyUse: 1.1
limitingRange: 290

[turret_1]
x: 0
y: 5

shoot_sound: plasma_fire
shoot_sound_vol: 0.07

warmup:20
warmupNoReset: true
warmupCallDownRate:0.05

chargeEffectImage: glow_red.png

projectile: 1

[projectile_1]
tags= T-projectile
directDamage: 100
life: 80
speed: 0
targetSpeed: 16
targetSpeedAcceleration: 0.7

drawType:2
frame:4
color: #EE2C51
drawSize: 1

wobbleAmplitude: 2
wobbleFrequency: 100

trailEffect: CUSTOM:projectileTrail
trailEffectRate:1

explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash
effectOnCreate: CUSTOM:projectileLight


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #EE2C51
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true


[effect_projectileTrail]
priority:low

image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #EE2C51

fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #EE2C51
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #EE2C51

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #EE2C51
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true


[effect_blastLight]
image: SHARED:light_50.png
life: 60
fadeOut: true
attachedToUnit: true
color: #EE2C51
fadeInTime:2
scaleFrom: 1.4
scaleTo: 1.4
alpha: 1.7
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_shockwave]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 3
alpha: 1
color: #EE2C51

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

