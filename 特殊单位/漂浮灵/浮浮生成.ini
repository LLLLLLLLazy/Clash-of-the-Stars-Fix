
[core]
name: 漂浮灵生成
tags: 漂浮灵出生, 中立资源
maxHp: 5
price: 0
mass: 0

onNewMapSpawn: emptyOrOccupiedResourcePools_asNeutral
createOnAggressiveTeam:	false
createNeutral: true
stayNeutral: true

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
showOnMinimap: false
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

isUnrepairableUnit:	true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

[hiddenAction_初生~]
autoTrigger: if numberOfUnitsInAllTeams(withTag="无漂浮灵", lessThan=1) and not self.hasFlag(id=1)
spawnUnits: 漂浮灵[黄](spawnChance=0.5, maxSpawnLimit=2, offsetRandomX=150, offsetRandomY=150, offsetRandomDir=360, offsetHeight=8), 漂浮灵[红](spawnChance=0.5, maxSpawnLimit=2, offsetRandomX=150, offsetRandomY=150, offsetRandomDir=360, offsetHeight=8, skipIfOverlapping=true)
setResourcesWithLogic: credits=0
addResources: setFlag=1

[hiddenAction_灵]
autoTrigger: if self.timeAlive(laterThanSeconds=5) and numberOfUnitsInAllTeams(withTag="漂浮灵", lessThan=1, withinRange=600)
addResources: hp=-1

[hiddenAction_无漂浮灵]
autoTrigger: if numberOfUnitsInAllTeams(withTag="无漂浮灵")>0
deleteSelf: true

[graphics]
isVisible: false
image:        SHARED:blank.png
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true
showHealthBar: false

[attack]
canAttack: false

[movement]
movementType: AIR
targetHeight: 0
targetHeightDrift: 0
