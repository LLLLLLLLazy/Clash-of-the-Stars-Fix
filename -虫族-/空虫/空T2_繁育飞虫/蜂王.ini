
[core]
name:蜂王
displayText: 繁育飞虫
tags: units, 虫族, 中型虫, 蜂王, 转向攻击
maxHp:730
mass:5200
price:3200
radius:15
techLevel:2
isBug:true
isBio:true
selfRegenRate:0.1
buildSpeed:19.8s
softCollisionOnAll: 12
displayDescription:-对地对空\n-战斗时生成飞虫幼体援助
energyMax:3
energyRegen:0.0012
[action_Upgrade]
convertTo:溃烂
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:腐蚀=1200
text:腐蚀 - 溃质
displayType:upgrade
buildSpeed:55.6s
pos:1
description:-不能再召唤飞虫幼体了\n-被溃烂攻击的单位在死亡后生成新的溃烂
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0
isLocked: if self.globalTeamTags(includes='AI系统') and numberOfUnitsInTeam(withTag="溃烂", greaterThan=0) or self.globalTeamTags(includes='中刻{I}')
isLockedMessage: AI:停用低级腐蚀/只需拥有一个溃烂

[hiddenAction_腐蚀中]
autoTrigger: if self.queueSize(withActionTag="腐蚀")>0 and not self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=-${movement.moveSpeed}*0.6
alsoTriggerAction: 属性变化
temporarilyAddTags: 腐蚀中

[hiddenAction_腐蚀停止]
autoTrigger: if self.queueSize(withActionTag="腐蚀")<1 and self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=0
alsoTriggerAction: 属性变化
temporarilyRemoveTags: 腐蚀中

[hiddenAction_自动腐蚀]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-溃烂") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade
addResourcesWithLogic: ${action_Upgrade.price}*-1

[graphics]
image:死大马玩意儿耶j.png
scaleImagesTo:32
image_turret:NONE
splastEffect:true
image_shadow: AUTO_ANIMATED
shadowOffsetX:1
shadowOffsetY:1
total_frames:2
animation_idle_start:0
animation_idle_end:1
animation_idle_speed:1.8
animation_moving_start:0
animation_moving_end:1
animation_moving_speed:1.8
lock_body_rotation_with_main_turret:true
movementEffect: CUSTOM:projectileTrail
movementEffectRate: 4
[effect_projectileTrail]
createWhenZoomedOut:false
priority:low
image:SHARED:light_50.png
life:28
fadeOut:true
attachedToUnit:false
color:#FF3BFF00
fadeInTime:2
scaleFrom:1.0
scaleTo:0.8
alpha:0.3
drawUnderUnits:true
ySpeedRelative:-0.4
atmospheric:true
[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
maxAttackRange:170
shootDelay:1s

[turret_1]
x:0
y:0
invisible:true
projectile:1
turnSpeed:9.1
shoot_sound:NONE
shoot_sound_vol:0.5
shoot_flame:NONE
shoot_light:#FFEECCCC
barrelY:10
recoilOffset:-3
recoilOutTime:5
recoilReturnTime:20
[projectile_1]
tags= T-projectile
directDamage:30
life:60
speed:5
image:未命名_jjjjjjjjjj1.png
frame:6
drawSize:1
[turret_2]
x:0
y:0
energyUsage:1
invisible:true
projectile:2
turnSpeed:9.1
shoot_sound:NONE
shoot_sound_vol:0.5
shoot_flame:NONE
shoot_light:#FFEECCCC
barrelY:10
recoilOffset:-3
recoilOutTime:5
recoilReturnTime:20
[projectile_2]
tags= T-projectile
directDamage:0
explodeOnEndOfLife:true
life:0
speed:5
spawnUnit:兵蜂(offsetHeight=20, addResources=setFlag:0)
image:未命名_jjjjjjjjjj1.png
frame:6
drawSize:0
[movement]
movementType:air
moveSpeed:1.4
moveAccelerationSpeed:0.5
moveDecelerationSpeed:0.1
maxTurnSpeed:9
turnAcceleration:0.5
targetHeight:20
targetHeightDrift:1

[hiddenAction_AIattack]
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 资源提取器
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_mapMustBeReachable: false
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.isAttacking() and numberOfUnitsInEnemyTeam(greaterThan=0, withTag='资源提取器') and not self.hasActiveWaypoint(type='attack') and self.globalTeamTags(includes='开端{I}')