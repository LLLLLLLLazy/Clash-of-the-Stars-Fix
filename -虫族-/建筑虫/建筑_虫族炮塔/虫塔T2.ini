[core]

copyFrom: turret_common_land.ini

name:虫塔T2
displayText:虫塔T2

price:1600
maxHp:900

techLevel:2
buildSpeed:0.002

tags: units, 虫族, 虫建筑, 虫筑系T2, 炮塔, 炮塔T2
selfRegenRate:0.1

displayDescription:-对地对空 \n -祂在蔓延……

[action_1]
isVisible: if self.resource(type="生长", lessThan=${action_1.price/10})
convertTo:虫塔T3
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: Upgrade
price:14000
id: 进化T3
text:进化 - T3
description:-祂睁眼观望……\n-对地对空\n-凝视那烦人的除草机
descriptionAddUnitStats: ${section.convertTo}
buildSpeed:60s
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[action_2]
isVisible: if self.resource(type="生长", lessThan=${action_2.price/10})
convertTo:虫高塔T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: Upgrade
price:1700
id: 进化高塔
text:进化 - 高塔
description:-祂想仰望群星……\n-仅对空\n-射程远
descriptionAddUnitStats: ${section.convertTo}
buildSpeed:23s
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
isLockedAlt: if self.hasResources(中位=1)
isLockedAltMessage: AI:占中塔不升级高塔


[action_衍1]
@copyFromSection: action_1, template_衍黎进化
isVisible: if self.resource(type="生长", greaterThan=${action_1.price/10-1})
addResources: 生长=-${action_1.price/10}
id: 生长${action_1.id}
textPostFix: (生长: ${action_1.price/10})
buildSpeed: 6s
[action_衍2]
@copyFromSection: action_2, template_衍黎进化
isVisible: if self.resource(type="生长", greaterThan=${action_2.price/10-1})
addResources: 生长=-${action_2.price/10}
id: 生长${action_2.id}
textPostFix: (生长: ${action_2.price/10})
buildSpeed: 2.3s

[hiddenAction_自生长1]
autoTrigger: if (self.globalTeamTags(includes='AI系统') or self.hasUnitInTeam(withTag="生长-虫塔T3")) and self.hasResources(生长=${action_1.price/10}) and self.queueSize(empty=true)
alsoQueueAction: 衍1

[hiddenAction_自生长2]
autoTrigger: if self.hasUnitInTeam(withTag="生长-虫高塔T2") and self.hasResources(生长=${action_2.price/10}) and self.queueSize(empty=true)
alsoQueueAction: 衍2

[graphics]
image:cc2.png
scaleImagesTo:30

[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false

maxAttackRange:210
shootDelay:30
[turret_1]
x:0
y:8
shoot_light:#FF00CCCC
[projectile_1]
tags= T-projectile
directDamage:50
life:70
speed:7
frame:6

explodeEffect: CUSTOM:explodeSmall

[effect_explodeSmall]
life: 25
fadeOut: false
attachedToUnit: false
image: explode_big2.png
scaleFrom: 0.5
scaleTo: 0.5
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.6

[hiddenAction_AIreclaim]
autoTrigger: if self.isControlledByAI and self.hp(lessThan=110) and self.queueSize(empty=true)
alsoQueueAction: reclaim

[hiddenAction_AIupgrade]
autoTrigger:if self.isControlledByAI() and self.hasResources(14000) and self.queueSize(empty=true) and numberOfUnitsInEnemyTeam(withTag='炮塔', greaterThan=0, withinRange=400)
alsoQueueAction: 1
addResources: credits=-14000

[hiddenAction_AICenterupgrade]
autoTrigger:if self.isControlledByAI() and self.hasResources(14000) and self.queueSize(empty=true) and self.hasResources(中位=1)
alsoQueueAction: 1
addResources: credits=-14000

[resource_中位]
displayName: AI中位