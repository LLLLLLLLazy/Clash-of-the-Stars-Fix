[core]
name: 幻影两栖舰[海]
displayText: 幻影两栖舰
displayDescription: -本体较弱 \n -特制幻影护盾 \n -以护盾能源发射强大的幻影光束 \n -攻击地面与空中 \n -可登陆 \n “高维艺术”
class: CustomUnitMetadata
price: 8500
maxHp: 1200
maxShield: 2000
shieldRegen: 0.35
mass: 20000
tags: units, 能量冷却3

autoTriggerCooldownTime: 30

techLevel: 2
buildSpeed: 41.7s

radius: 37
isBio: false
softCollisionOnAll: 6

transportSlotsNeeded: 2

[action_trigger_Land]
autoTrigger: if not self.overWater()
isVisible: false
convertTo: 幻影两栖舰[陆]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_幻影]
id: ${section.text}
isActive: false
text: 幻影能量
description: -形成幻影防护\n -发射能量光束
displayType: infoOnlyStockpile
buildSpeed: 0s
pos: 0.1
isVisible: true
price: shield=65
displayRemainingStockpile: true

[action_虚影]
id: ${section.text}
isActive: false
text: 虚影
description: -受击后一秒内免受攻击
displayType: infoOnly
spawnEffects: CUSTOM:幻影波, CUSTOM:幻影雾*5
convertTo: 幻影两栖舰[幻]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
autoTrigger: if self.hasTakenDamage(withinSeconds=0.5) and self.shield(greaterThan=65) and (not self.shield(full=true) or not self.hp(full=true)) and numberOfUnitsInEnemyTeam(withTag='真视之眼', lessThan=1)
isVisible: false
pos: 0.2

[graphics]
total_frames: 1
image:        幻影两栖舰[海].png
image_wreak:  NONE
image_turret: 幻影光炮.png
image_shield: experimental_hovertank_shield.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

splastEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 30
turretTurnSpeed: 3

maxAttackRange: 260
shootDelay: 0.01

aimOffsetSpread: 0

[turret_1]
x: 0
y: 8

projectile: 1
turnSpeed: 3
turnSpeedAcceleration: 1.0

shoot_sound: plasma_fire
shoot_sound_vol: 0.5
shoot_flame:CUSTOM:lightSlowFade
shoot_light: #ff0000

canShoot: true
warmup: 2s
warmupCallDownRate: 0.3

chargeEffectImage: 蓄力特效.png

recoilOffset: -0.5
recoilOutTime: 2
recoilReturnTime: 18

resourceUsage: shield=65

[turret_2]
#显示额外伤害数据
x: 0
y: 0
canAttackCondition:	false
invisible: true
warmup: 2s

projectile: 1-2

[turret_1-3]
@copyFromSection: turret_2

[turret_1-4]
@copyFromSection: turret_2

[turret_1-5]
@copyFromSection: turret_2
projectile: 1-5

[projectile_1]
tags= T-projectile
directDamage: 80
life: 4
instant: true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true

laserEffect: true
largeHitEffect: true

color: #7FAEFF00
spawnProjectilesOnCreate: 1-2, 1-3, 1-4, 1-5

explodeEffect: CUSTOM:lightSlowFade
explodeEffectOnShield: CUSTOM:lightSlowFade

[projectile_1-2]
@copyFromSection: projectile_1
spawnProjectilesOnCreate: NONE
color: #BFAEFF00

directDamage: 40

delayedStartTimer: 3
explodeEffect: CUSTOM:中光
explodeEffectOnShield: CUSTOM:中光

[projectile_1-3]
@copyFromSection: projectile_1-2
color: #FFAEFF00

delayedStartTimer: 6

[projectile_1-4]
@copyFromSection: projectile_1-2

delayedStartTimer: 9

[projectile_1-5]
@copyFromSection: projectile_1-2
color: #7FAEFF00

directDamage: 200

delayedStartTimer: 12
explodeEffect: CUSTOM:终光
explodeEffectOnShield: CUSTOM:终光


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #AEFF00
scaleFrom: 1.6
scaleTo: 0.8
alpha: 1
drawUnderUnits:false
dirSpeedRandom: 5

[effect_中光]
@copyFromSection: effect_lightSlowFade
life: 30
color: #AA70F8F6
scaleFrom: 1.8
scaleTo: 0.3
alpha: 0.6

[effect_终光]
@copyFromSection: effect_lightSlowFade
life: 20
color: #ffffff
scaleFrom: 2
scaleTo: 0
alpha: 2


[effect_幻影波]
image: airwave.png
priority: critical
color: #70F8F6
life: 60
alpha: 0.8
scaleFrom: 0.3
scaleTo: 1.7
dirSpeed: 10

[effect_幻影雾]
stripIndex: light_50
priority: low

life: 60
attachedToUnit: true
color: #70F8F6
fadeInTime: 10
hSpeed: 0.5
scaleFrom: 0.5
scaleTo: 3.0
alpha: 0.5
drawUnderUnits:false
atmospheric: true
xOffsetRelativeRandom: 15
yOffsetRelativeRandom: 15
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2

[effect_虚幻舰影]
createWhenZoomedOut: false
priority: low
image: 幻影两栖舰[海].png
life: 100
fadeOut: true
attachedToUnit: false
scaleFrom: 1.1
scaleTo: 0.95
alpha: 0.2
drawUnderUnits: true
atmospheric: true

[effect_虚幻舰影陆]
@copyFromSection: effect_虚幻舰影
image: 幻影两栖舰[陆].png
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.2
animateFrameLooping: true

[movement]
movementType: HOVER
moveSpeed: 1
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.05

reverseSpeedPercentage: 1.0

maxTurnSpeed: 1.2
turnAcceleration: 0.2

