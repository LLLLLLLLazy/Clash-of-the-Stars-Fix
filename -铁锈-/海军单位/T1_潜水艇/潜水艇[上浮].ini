
[core]
name: attackSubmarine2
class: CustomUnitMetadata
price: 550
maxHp: 260
mass: 10000
displayText: 潜水艇
copyFrom: 潜水艇.ini

techLevel: 1
buildSpeed: 0.0017
availableInDemo: false
showInEditor: false

radius: 14
#displayRadius: 11

#transportSlotsNeeded: 3

isBio: false
#softCollisionOnAll: 3

builtFrom_1_name: NONE

overrideAndReplace:NONE

[action_fly]
displayType: none

price:  0
text: Surface
buildSpeed: 0s
alwaysSinglePress:true
alsoQueueAction:fly2


isActive:false
#if self.queueSize<1

[hiddenAction_fly2]
convertTo: attackSubmarine2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
whenBuilding_temporarilyConvertTo:attackSubmarine_t
buildSpeed: 1.3s
spawnEffects:custom:水花*6,custom:shockwave



[action_dive]
displayType: none

price:  0
text: Dive
#whenBuilding_cannotMove: true
alwaysSinglePress:true
isActive:if self.queueSize<1

alsoQueueAction:dive2
buildSpeed:0s

[hiddenAction_dive2]
convertTo: attackSubmarine
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

buildSpeed: 0s

spawnEffects:custom:水花*6,custom:shockwave

[graphics]
total_frames: 1

image:        attack_submarine.png
image_wreak:  attack_submarine_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

showEnergyBar:false

movementEffect:        CUSTOM:splash
movementEffectReverse: CUSTOM:splash
movementEffectReverseFlipEffects: true
movementEffectRate: 8

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canAttackNotTouchingWaterUnits:true

turretSize: 0
turretTurnSpeed: 9

maxAttackRange: 180
shootDelay: 110

[turret_2]
x: 0
y: 0
shoot_sound:missile_fire
projectile: 1
warmup:30

[projectile_1]
tags= T-projectile
directDamage: 80
life: 210
speed: 1.6
targetSpeed: 3
targetSpeedAcceleration: 0.03
ballistic:true
ballistic_height:35
ballistic_delaymove_height:25
autoTargetingOnDeadTarget:true
color:#FFD700
drawSize: 2
trailEffect: true

[movement]
movementType: WATER
moveSpeed: 1
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.04

targetHeight: 1

maxTurnSpeed: 1.8
turnAcceleration: 0.2

[effect_splash]

life: 70
stripIndex: effects
frameIndex: 13

scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.8
atmospheric:true

fadeInTime: 3
fadeOut:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#hSpeed:0.1

yOffsetRelative:-18

attachedToUnit: false
drawUnderUnits:true





