
[core]
name: 星际维序者[远程]
displayText: 基因炮手
displayDescription: -基因战士的特别职位 \n-肩扛能量加农炮 \n-远距离剿灭敌人
class: CustomUnitMetadata
price: 2000, 基因种子=2
maxHp: 800
mass: 6000

maxShield: 200
shieldRegen: -0.5
startShieldAtZero: true

tags: units, 星际步兵, 星际战士, 星际维序者, 转向攻击, 火炮

armour: 20
armourMinDamageToKeep: 20

fogOfWarSightRange: 22

techLevel: 2
buildSpeed: 21.7s

radius: 14
displayRadius: 16

isBio: true

#softCollisionOnAll: 3

selfRegenRate:0.08

transportSlotsNeeded:1

energyMax: 7
energyRegen: 0.002

#generation_resources: 基因种子=0.003

showActionsWithMixedSelectionIfOtherUnitsHaveTag: 星际步兵

[hiddenAction_created]
autoTriggerOnEvent: created
setResourcesWithLogic: 近战护盾=200

[action_1]
id: 切换近战武器
text: 切换武器 - 拳
description: -重拳出击 \n -展开防护盾
convertTo: 星际维序者[近战]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
buildSpeed: 0.5s
pos: 0

setUnitStats: shield=self.resource.近战护盾
alwaysSinglePress: true

#[hiddenAction_死亡返还]
#autoTriggerOnEvent: destroyed
#addResources: 基因种子=1

[effect_黑光]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 1.7
scaleTo: 1.7
alpha: 1.7
drawUnderUnits:false

[effect_displacement]
drawType: displacement
image: SHARED:shockwave_normal_128.png
life: 25
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #ffffff
scaleFrom: 0.1
scaleTo: 0.7
alpha: 0.3
drawUnderUnits:false

[action_locating]
isActive: false
isVisible: false
id: 帝皇之征信息
text: 帝皇之征
description: -为了帝皇！\n-超远距离打击\n-杀死敌军获得其50%资源
displayType: infoOnly
iconExtraImage: ROOT:/素材/帝国.png
convertTo: 星际维序者[火炮定位]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
autoTrigger: if self.hasFlag(id=1)
buildSpeed: 0s
pos: -1


[hiddenAction_近战护盾]
autoTrigger: if self.resource.近战护盾<200
setResourcesWithLogic: 近战护盾=min(self.resource.近战护盾+${0.25*60}, 200)

[resource_近战护盾]
displayName: 近战护盾
displayRoundedDown: true

[graphics]
total_frames: 1
image:       等离子星际战士.png
image_wreak: NONE
image_turret: NONE

teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

showShieldBar: false

lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3.0

maxAttackRange: 320
shootDelay: 150

aimOffsetSpread: 0

[turret_1]
#主体
x: 0
y: 0
idleDir:0

turnSpeed: 4.1
turnSpeedAcceleration: 0.3

canShoot: false
canAttackCondition: if attacking == activeWaypointTarget or not self.hasActiveWaypoint(type='attack') or distanceBetween(attacking, activeWaypointTarget)>460

recoilOffset: -2
recoilOutTime: 9
recoilReturnTime: 18

[turret_2]
#炮
x: 1.5
y: 0
attachedTo: 1
slave: true
invisible: true

projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound:plasma_fire
shoot_sound_vol:0.2
shoot_flame:CUSTOM:scoutTrail*4
shoot_light:#000000

canShoot: true
canAttackCondition: if attacking == activeWaypointTarget or not self.hasActiveWaypoint(type='attack') or distanceBetween(attacking, activeWaypointTarget)>460

barrelX: 7
barrelY: 27

energyUsage: 1


[turret_3]
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true
canShoot: false
delay: 22

[projectile_1]
tags= T-projectile
life:400

directDamage:200

deflectionPower: 2

largeHitEffect:true
#targetGround:true

speed:4
targetSpeed:12
image: 子弹.png

lightColor: #DED22F
lightSize: 0.6
trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.3

lightCastOnGround: true

spawnProjectilesOnExplode:2*4(offsetRandomXY=30)

[projectile_2]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife:true
image: null.png

largeHitEffect:true
targetGround:true

areaDamage: 25
areaRadius: 25
areaHitAirAndLandAtSameTime:true

[effect_projectileTrail]
image: SHARED:light_50.png
life: 19
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 0.4
scaleTo: 0.2
alpha: 0.8
drawUnderUnits:true

[effect_scoutTrail]
stripIndex: effects
frameIndex: 0
priority:low

life: 30
fadeOut: true
attachedToUnit: false
color: #000000
fadeInTime:5
hSpeed: 0.3
scaleFrom: 0.4
scaleTo: 1.6
alpha: 0.2
drawUnderUnits:false
#yOffsetRelative:-7
xOffsetRelativeRandom: 4

xSpeedRelativeRandom: 0.8
ySpeedRelative: 1.6
ySpeedRelativeRandom: 0.8

shadow: true
atmospheric: true

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.7
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

reverseSpeedPercentage: 1.0

maxTurnSpeed: 4.1
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:true

[resource_exp]
displayName: EXP
displayColor: #ff6c00