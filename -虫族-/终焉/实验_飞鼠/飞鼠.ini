
[core]
name: 飞鼠

displayText: 飞鼠
displayDescription: -灾祸之母 \n -诞下受精卵 \n -喷吐毒液弹 \n -可搭载少量单位
class: CustomUnitMetadata
price: 25000
maxHp: 6500
mass: 40000

tags: units, 虫族, 大型虫, 飞鼠
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 飞鼠

fogOfWarSightRange: 18

techLevel: 1
buildSpeed: 0.0002

experimental: true

radius: 30
#displayRadius: 11

isBio: true
isBug:true

#softCollisionOnAll: 3
softCollisionOnAll: 20

selfRegenRate:0.2

transportSlotsNeeded: 8
maxTransportingUnits: 8
transportUnitsBlockOtherTransports: false

@memory 指定坐标:unit

[action_范围运输]
@copyFromSection: template_范围运输

[hiddenAction_运输路径]
@copyFromSection: template_运输路径

[decal_运输范围]
@copyFromSection: template_运输范围

[action_painting]
isVisible: if self.globalTeamTags(includes='烈焰使者涂装')
convertTo: 飞鼠[烈焰使者]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
id: ${section.text}
text: “烈焰使者”
description: -个性涂装 \n(不影响战斗属性)
displayType: upgrade
buildSpeed: 3.3s
pos: 2

[hiddenAction_涂装解锁]
autoTrigger: if ( self.kills(greaterThan=2) or self.playerName=="3571168859" or self.playerName=="kgfx" or self.playerName=="最帅小学生" or self.playerName=="大学高材生" ) and not self.globalTeamTags(includes='烈焰使者涂装')
addGlobalTeamTags: 烈焰使者涂装

[action_产卵]
id: ${section.text}
text: 产卵
description: -生产一个稳定的融合之卵 \n -快速孵化为可靠的地面力量
displayType: action
price: 2500
pos: 1
buildSpeed: 1s
addActionCooldownTime: 4s
allowMultipleInQueue: false
spawnUnits: 融合之卵(addResources=energy:-5)

isLocked: if not self.isOverPassableTile(type="LAND")
isLockedMessage: 只能生产在陆地上


[hiddenAction_自爆空运]
autoTrigger: if self.transportingUnitWithTags(includes='自爆虫') and self.isFlying
takeResources: setFlag=2
takeResources_includeUnitsInTransport: true
takeResources_excludeUnitsWithoutTags: 自爆虫
takeResources_discardCollected: true
takeResources_maxUnits: 99


[graphics]
drawLayer: experimentals

imageScale: 1

image:        飞鼠.png
image_wreak:  NONE
image_turret: NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 35
turretTurnSpeed: 1

maxAttackRange: 240
shootDelay: 70

[turret_1]
invisible:true
x:0
y:0
idleDir:0

projectile:1

turnSpeed: 2.9
turnSpeedAcceleration: 0.3

shoot_sound:large_gun_fire2
shoot_sound_vol:0.6
shoot_flame:CUSTOM:毒雾*4
shoot_light:#FFFFFF

recoilOffset:-3
recoilOutTime:10
recoilReturnTime:40

#recoilOffset: -2
#recoilOutTime: 10
#recoilReturnTime: 14


[projectile_1]
tags= T-projectile
areaDamage:155
areaRadius:45
life:0
@define life:200

speed:0.5
targetSpeed:5

largeHitEffect:true

trailEffect:CUSTOM:毒雾
trailEffectRate:3

color:#00FF00

lightColor: #AEFF00
lightSize: 0.5

drawUnderUnits:true

image:老坛酸菜.png

spawnProjectilesOnCreate: 1B(recursionLimit=1)
[projectile_1B]
@copyFromSection: projectile_1, template_对盾修正B
spawnProjectilesOnExplode: 1D
[projectile_1D]
@copyFromSection: projectile_1, template_对盾修正D
[template_对盾修正B]
areaDamage: 0
life: ${life}
[template_对盾修正D]
life: ${life}
speed: 999
targetGround: true
targetGround_includeTargetHeight: true
explodeEffect: NONE
explodeEffectOnShield: NONE

[turret_skill]
x: 0
y: 0
invisible: true
canShoot: false
limitingRange: 9999

[movement]
movementType: AIR
moveSpeed: 1.1
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

targetHeightDrift: 2
landOnGround: false

maxTurnSpeed: 3
turnAcceleration: 0.03

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


slowDeathFall: true




[effect_毒雾]
#烈性酸液
stripIndex: effects
frameIndex: 0
priority:low

life: 100
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime:5
hSpeed: 0.3
scaleFrom: 0.25
scaleTo: 1.0
alpha: 0.3
drawUnderUnits:false
#yOffsetRelative:-7
xOffsetRelativeRandom:3
xSpeedRelativeRandom:0.2
ySpeedRelative:1.5
ySpeedRelativeRandom:0.2

shadow: true
atmospheric: true
