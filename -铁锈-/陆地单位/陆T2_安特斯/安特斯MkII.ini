
[core]
name: 安特斯MkII
displayText: Antes MkII
displayText_zh: 安特斯MkII
displayDescription: -Oneiric Enchantment \n -Ground & Air Attack \n -Temporary Invincibility \n -Naval Mobility \n -Can be fused from Antes and Sleep Pillow when entering a dream at the same time \n \n -2025.1.30 Victor's Tailoring-
displayDescription_zh: -梦境的魅力 \n -攻击地面与空中 \n -可短暂开启无敌屏障 \n -可在水面上移动 \n -可由安特斯+眠梦枕入梦融合而来 \n \n -2025.1.30 冠军限定-

class: CustomUnitMetadata
price: 6000
maxHp: 1260
mass: 12000
tags: units, 坦克, 安特斯MkII

techLevel: 2
buildSpeed: 0.0007
availableInDemo: true

radius: 19
displayRadius: 21

isBio: false
softCollisionOnAll: 6

energyMax: 10
energyRegen: 0.006

showActionsWithMixedSelectionIfOtherUnitsHaveTag: 安特斯MkII

[action_冠军签名]
iconImage: 佳木-签名.png
isVisible: if self.timeAlive < 10
isActive: false
id: 冠军签名
description: -冠军签名- \n (10s后隐藏)
pos: 99
displayType: infoOnlyStockpile
buildSpeed: 0s

[hiddenAction_调停CD计算]
autoTrigger: if self.resource.调停CD<5
addResources: 调停CD=1

[resource_调停CD]
displayName: 调停CD
hidden: true

[hiddenAction_自动触发调停]
autoTrigger: if not self.hp(full=true) and self.resource.调停CD>4 and not numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
spawnEffects: 命中光*3, 梦幻光, 梦幻盾
addResources: 调停CD=-5
alsoQueueAction: mediation

[hiddenAction_自动触发入梦]
autoTrigger: if self.hp < self.maxHp * 0.5 and self.energy(greaterThan=3) and not numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
alsoQueueAction: dreaming

[action_dreaming]
isLocked: if not self.energy(greaterThan=5)
isLockedMessage: Charging
isLockedMessage_zh: 充能中...
isLockedAlt: if numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
isLockedAltMessage: 无法避实入虚境之中 \n -真视之眼-
id: ${section.text}
text: [Dreamstate]
text_zh: [入梦]
description: -Prolonged Invulnerability
description_zh: -根据剩余能量进入较长的梦幻时间 \n \n "梦幻" \n [免疫任何伤害] \n [更快的移动] \n [耐久正在治愈]
buildSpeed: 1s
pos: 1

convertTo: 安特斯MkII[梦幻]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_mediation]
isLocked: true
isLockedMessage: System-Controlled
isLockedMessage_zh: 不可主动触发
isLockedAlt: if numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
isLockedAltMessage: 无法避实入虚境之中 \n -真视之眼-
id: ${section.text}
text: [Breather]
text_zh: [调停]
description: -Brief Invulnerability
description_zh: -立即进入非常短暂的梦幻时间

whenBuilding_temporarilyConvertTo: 安特斯MkII[梦幻]
whenBuilding_triggerAction: 延时属性更新
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

buildSpeed: 1s
pos: 2

allowMultipleInQueue: false

canPlayerCancel: false
alwaysSinglePress: true
highPriorityQueue: true

[action_fly]
convertTo: 安特斯MkII[飞行]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
id: ${section.text}
text: Fly
description: -Vertical Lift
description_zh: -上升至空中 \n -移动速度提升 \n -不可攻击地面
buildSpeed: 0.01
pos: 3
allowMultipleInQueue: false
alwaysSinglePress: true

[action_自动化]
isVisible: true
isActive: false
text: Auto-mode
text_zh: 自动化
description: <50% HP: Auto [Dreamstate] \n <99% HP: Auto [Breather]
description_zh: -血量不足50%时自动使用入梦 \n -血量未满时自动使用调停(CD:4s)
pos: 4
displayType: infoOnly
buildSpeed: 0s

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[effect_梦幻光]
priority:veryhigh
image: hit.png
life: 100
scaleFrom: 2.1
scaleTo: 2.1
alpha: 0.7
alsoPlaySound: laser_deflect

[effect_梦幻盾]
priority:veryhigh
image: C.png
life: 100
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.7

[graphics]
total_frames: 1

image:       安特斯++.png
image_wreak: 安特斯T2_死亡.png
image_turret: 安特斯++炮台.png
image_shield: C.png

teamColorsOnTurret: true

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

splastEffect: true

movementEffect: 尾气
movementEffectRate: 10

[effect_尾气]
priority:verylow

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #ffffff
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.5
alpha: 0.8
drawUnderUnits:true
xSpeedRelativeRandom:0.2
ySpeedRelative:-0.4
ySpeedRelativeRandom:0.1
atmospheric: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3

maxAttackRange: 200
shootDelay: 95

[turret_1]
x: 0
y: 0

shoot_sound:SilvaActivation.ogg
shoot_sound_vol:0.15
shoot_flame:开火光
shoot_light:#FFFFFF


recoilOffset: -2
recoilOutTime: 7
recoilReturnTime: 25

warmup: 15
warmupStartEffect: 聚能光*5

chargeEffectImage:白球.png

[projectile_1]
tags= T-projectile
directDamage: 60
areaDamage: 120
areaRadius: 0
life: 100
speed: 5.5

drawType:2
frame:4
drawSize: 1
trailEffect: 小尾焰
trailEffectRate:6

explodeEffect: 命中光*3, 长闪光
explodeEffectOnShield: 命中光, 长闪光

effectOnCreate: 附带光

spawnProjectilesOnCreate: 2

[projectile_2]
tags= T-projectile
directDamage: 120
life: 100
speed: 7

image: 安特斯MkII子弹.png
drawSize: 1.0
trailEffect: 左排气, 右排气
trailEffectRate:6

explodeEffect: 击散光*4, 长闪光
explodeEffectOnShield: 击散光, 长闪光

[effect_开火光]
image: SHARED:light_50.png
life: 60
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 0.6
scaleTo: 0.3
alpha: 0.7
drawUnderUnits:true

[effect_小尾焰]
priority:verylow
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.3
alpha: 0.8
drawUnderUnits:true

[effect_附带光]
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 0.6
scaleTo: 0.8
alpha: 0.5
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_命中光]
priority:high

image: SHARED:light_50.png
life: 80
fadeOut: true
attachedToUnit: false
color: #FFFFFF

scaleFrom: 0.6
scaleTo: 1.2
alpha: 0.6
drawUnderUnits:false

atmospheric:true
xSpeedRelativeRandom:1.0
ySpeedRelativeRandom:1.0

[effect_聚能光]
priority:low
life: 10
fadeOut: false
fadeInTime: 4
attachedToUnit: true
image: 远光.png
color: #ffffff
scaleFrom: 1.0
scaleTo: 0.0
alpha: 0.5
dirOffsetRandom: 180
delayedStartTimerRandom: 5

[effect_击散光]
priority:high

image: SHARED:light_50.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FFFFFF

scaleFrom: 0.6
scaleTo: 1.0
alpha: 0.4
drawUnderUnits:false

atmospheric:true
xSpeedRelativeRandom:0.3
ySpeedRelative:1.5
ySpeedRelativeRandom:0.3

[effect_左排气]
priority:low

image: SHARED:light_50.png
life: 70
fadeOut: true
attachedToUnit: false
color: #FFFFFF

scaleFrom: 0.7
scaleTo: 0.9
alpha: 0.4
drawUnderUnits:false

atmospheric:true
xSpeedRelative:-0.7

[effect_右排气]
@copyFromSection: effect_左排气
xSpeedRelative:0.7

[effect_长闪光]
priority:high

image: SHARED:light_50.png
life: 80
fadeOut: true
attachedToUnit: true
color: #FFFFFF

scaleFrom: 0.8
scaleTo: 1.0
alpha: 0.8
drawUnderUnits:false

[movement]
movementType: HOVER
moveSpeed: 0.7
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

targetHeight: 3
targetHeightDrift: 0.5

maxTurnSpeed: 2.4
turnAcceleration: 0.2

moveSlidingMode :true
moveIgnoringBody:true

reverseSpeedPercentage:0
