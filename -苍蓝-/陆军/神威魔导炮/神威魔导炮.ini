
[core]
name: 神威魔导炮
displayDescription: -需部署后攻击 \n -攻击地面与空中 \n -部署后防御力提升 \n -攻击准备时间较长 \n -可能会误伤己方单位 \n “一击破龙的闪光”

class: CustomUnitMetadata

price: 23000, 苍蓝能量=1

maxHp: 3000

mass: 80000

tags: units, 神威魔导炮

experimental: true

techLevel: 2
buildSpeed: 0.0002
#availableInDemo: true

radius: 22
displayRadius: 23

transportSlotsNeeded: 2

isBio: false
softCollisionOnAll: 0

[action_deploy]

isVisible: true
text: Deploy
convertTo: 神威魔导炮[部署]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
price:  0
buildSpeed: 2s
whenBuilding_cannotMove: true
whenBuilding_playAnimation: 1
whenBuilding_temporarilyConvertTo: 神威魔导炮[部署]
whenBuilding_triggerAction: 延时属性更新

canPlayerCancel: false
allowMultipleInQueue: false
#No confirm needed on mobile
alwaysSinglePress: true

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[hiddenAction_冷却中]
resetCustomTimer: true

[graphics]
total_frames: 2

image:        神威魔导炮车体.png
image_wreak:  神威魔导炮残骸.png
image_turret: 神威魔导炮.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2.85

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 14
turretTurnSpeed: 4

maxAttackRange: 350

#shootDelay:140 #original
shootDelay: 240

aimOffsetSpread: 0

[turret_1]
#turret
x: 0
y: 0
canAttackCondition: false

turnSpeed: 2.5
turnSpeedAcceleration: 0.18
turnSpeedDeceleration: 0.35

shoot_sound: 龙吼.ogg
shoot_sound_vol: 2.0
shoot_flame:CUSTOM:sparks*8,CUSTOM:hitLightFlash*2
#shoot_light:#FFcceeee

warmup: 660
onShoot_triggerActions: 冷却中

chargeEffectImage: SHARED:lighting_charge.png

projectile: 1

recoilOffset: -0.75
recoilOutTime: 3
recoilReturnTime: 17

[turret_2]
x: 0
y: 0
attachedTo: 1
slave: true

canShoot: false
canAttackCondition: if self.customTimer>=4
invisible: true

projectile: 2
delay: 60

turnSpeed: 0
turnSpeedAcceleration: 0

[projectile_1]
areaDamage: 6000
areaRadius: 0
areaHitAirAndLandAtSameTime: true
life: 10

mutatorX_ifUnitWithTags: 神威魔导炮
mutatorX_areaDamageMultiplier: 0.5

targetGround: true

color: #90AAFFFF

instant: true
beamImage: 激光1.png
beamImageEnd: SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
beamImageOffsetRate: 1

friendlyFire: true

shouldRevealFog: true
nukeWeapon: true

spawnProjectilesOnCreate: 1-2, 1-3, 1-4, 1-5, 1-B

[projectile_1-2]
@copyFromSection: projectile_1
areaDamage: 1000
areaRadius: 250

beamImage: 激光2.png

delayedStartTimer: 8

nukeWeapon: false

explodeEffect: CUSTOM:阵

spawnProjectilesOnCreate: NONE

[projectile_1-3]
@copyFromSection: projectile_1-2
areaDamage: 1000
areaRadius: 150

beamImage: 激光3.png

delayedStartTimer: 16

explodeEffect: NONE

[projectile_1-4]
@copyFromSection: projectile_1-3
areaDamage: 1500
areaRadius: 100

beamImage: 激光4.png

delayedStartTimer: 24

[projectile_1-5]
@copyFromSection: projectile_1-3
areaDamage: 2000
areaRadius: 50

beamImage: 激光5.png

delayedStartTimer: 32

[projectile_1-B]
areaDamage: 500
areaRadius: 300
areaExpandTime: 190
areaHitAirAndLandAtSameTime: true
life: 10

mutatorX_ifUnitWithTags: 神威魔导炮
mutatorX_areaDamageMultiplier: 0.5

targetGround: true

instant: true
friendlyFire: true

explodeEffect: NONE

[projectile_2]
directDamage: 0
life: 65
instant: true
instantReuseLast: true
moveWithParent: true
beamImage: 细光束.png
beamImageEnd: SHARED:beam1_end.png
beamImageOffsetRate: 1
color: #6063e6e8
shouldRevealFog: true
explodeEffect: CUSTOM:小阵
explodeEffectOnShield: CUSTOM:小阵

[arm_1]
x: 9
y: 0
moveSpeed: 0.1
image_end: 支架.png
drawDirOffset: 90
drawOverBody: false

[arm_2]
x: -9
y: 0
moveSpeed: 0.1
image_end: 支架.png
drawDirOffset: -90
drawOverBody: false

[arm_3]
x: 0
y: 0
moveSpeed: 0.1
image_end: 前履带.png
drawOverBody: false

[arm_4]
x: 0
y: 0
moveSpeed: 0.1
image_end: 后履带.png
drawOverBody: false

[animation_1]
blendIn: 0s
arm1_2s: {x:10, y:0}
arm2_2s: {x:-10, y:0}

arm3_2s: {x:0, y:-5}
arm4_2s: {x:0, y:5}

[animation_2]
blendIn: 0s
arm1_1s: {x:-10, y:0}
arm2_1s: {x:10, y:0}

arm3_1s: {x:0, y:5}
arm4_1s: {x:0, y:-5}

[movement]
movementType: LAND
moveSpeed: 0.5
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.06

reverseSpeedPercentage:1.0

maxTurnSpeed: 1.4
turnAcceleration: 0.15

moveSlidingMode :false
moveIgnoringBody:false





[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 0.6
scaleTo: 0.3
drawUnderUnits:false

[effect_sparks]
priority: verylow
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 2.0
ySpeedRelativeRandom: 2.0
hSpeed: 3
image: SHARED:spark.png

[effect_阵]
priority:critical
image: 五芒星.png
life: 200
fadeInTime: 5
attachedToUnit: false
scaleFrom: 9
scaleTo: 12
hSpeed: -0.2
dirSpeed: 4

drawUnderUnits:true

[effect_小阵]
image: 五芒星.png
life: 100
fadeInTime: 20
attachedToUnit: true
scaleFrom: 1
scaleTo: 2
dirSpeed: 2

drawUnderUnits:false