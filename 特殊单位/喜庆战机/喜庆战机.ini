
[core]
#dont_load: true

name: 喜庆战机
displayText: 喜庆战机
displayDescription: -仅攻击空中单位 \n -大范围爆爆爆! \n -自我修复 \n -移动速度快 \n \n 这都飞到蛇年啦~

class: CustomUnitMetadata
price: 3000
maxHp: 900
mass: 10000
tags: units

techLevel: 2
buildSpeed: 25.6s
availableInDemo: true

radius: 16
displayRadius: 17
#softCollisionOnAll: 3

selfRegenRate:0.08

builtFrom_1_name: airFactory
builtFrom_1_pos:  2.1

effectOnDeath:死亡烟雾*3, 金粉*10, 红粉*8

[graphics]
total_frames: 1

image:        喜庆战机.png
image_wreak:  喜庆战机残骸.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

lock_body_rotation_with_main_turret: true
lock_leg_rotation_with_main_turret: true

movementEffect: CUSTOM:龙飞
movementEffectRate: 1

[effect_龙飞]
priority:low
image: 凤舞.png
life: 30
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 1
scaleTo: 1
alpha: 0.8
drawUnderUnits: true

[attack]
turretRotateWithBody: false

canAttack: true
canAttackFlyingUnits: if self.flying
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 4

maxAttackRange: 220
shootDelay: 10

[turret_1]
invisible: true
x: 0
y: 0
idleDir:0

turnSpeed: 5.0
turnSpeedAcceleration: 0.5

canShoot: false

[turret_2]
x: 9
y: 7
projectile: 1
size: 1
attachedTo: 1
slave: true

turnSpeed: 0
turnSpeedAcceleration: 1

shoot_sound:gun_fire
shoot_sound_vol:0.2
shoot_flame: small
shoot_light:#ffffcc

[turret_3]
x: -9
y: 7
copyFrom:2
linkDelayWithTurret:2
warmup: 5

[turret_4]
x: 0
y: 1
projectile: 2
size: 1
attachedTo: 1
slave: true

turnSpeed: 0
turnSpeedAcceleration: 1

shoot_sound:missile_fire
shoot_sound_vol:0.4
shoot_flame: small
shoot_light:#ffffcc

delay: 100

[projectile_1]
tags= T-projectile
life: 160
speed: 11

directDamage: 25

deflectionPower: 1

image: 金弹.png
drawSize: 0.8

lightColor: #ffffcc
lightSize: 0.4

explodeEffect: CUSTOM:explodeSmall, 金粉, 红粉

[projectile_2]
tags= T-projectile
life: 300
speed: 0.5
targetSpeed: 10

areaDamage: 200
areaRadius: 100

autoTargetingOnDeadTarget: true

image: 烟花.png
drawSize: 1

lightColor: #ffffcc
lightSize: 0.6

trailEffect: CUSTOM:fog
trailEffectRate: 2

explodeEffect: CUSTOM:hitLightFlash*2, CUSTOM:爆*8, 金粉*8, 红粉*7
explodeEffectOnShield: CUSTOM:hitLightFlash*3, CUSTOM:爆*6, 金粉*6, 红粉*5

spawnProjectilesOnExplode: 2A

[projectile_2A]
tags= T-projectile
explodeOnEndOfLife: true
life: 0
speed: 0
areaDamage: 0
areaRadius: 90
largeHitEffect: true
drawSize: 0
explodeEffectOnShield: NONE

[effect_fog]
stripIndex: effects
frameIndex: 0
priority:low

life: 50
fadeOut: true
attachedToUnit: false
color: #ffeecc
fadeInTime:3
hSpeed: 0.3
scaleFrom: 0.4
scaleTo: 1.6
alpha: 0.4
drawUnderUnits:false
xOffsetRelativeRandom:5
xSpeedRelativeRandom:0.1
ySpeedRelative:0.5
ySpeedRelativeRandom:0.1

shadow: true
atmospheric: true

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #ffeecc

scaleFrom: 3.0
scaleTo: 2.5
alpha: 0.7
drawUnderUnits:false

[effect_爆]
life: 30
fadeOut: false
attachedToUnit: true

image: explode_big2.png
color: #ffee00
scaleFrom: 1.3
scaleTo: 1.3

xOffsetRelativeRandom:30
yOffsetRelativeRandom:30
pivotOffsetRandom: 180

total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5

[effect_explodeSmall]
life: 30
fadeOut: false
attachedToUnit: true

image: explode_big2.png
scaleFrom: 0.7
scaleTo: 0.7

total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5

[effect_死亡烟雾]
priority:low
stripIndex: effects
frameIndex: 0

life: 100
fadeOut: true
attachedToUnit: false
#color: #666666
fadeInTime: 10
scaleFrom: 1.1
scaleTo: 2.5
alpha: 0.4
hSpeed: 0.3
drawUnderUnits:false

dirOffsetRandom:180

xOffsetRelativeRandom:12
yOffsetRelativeRandom:12

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

[effect_金粉]
priority: verylow
life: 75
attachedToUnit: false
image: SHARED:spark.png
color: #E7DA23
scaleFrom: 1.2
scaleTo: 1.2
xSpeedRelativeRandom: 1.8
ySpeedRelativeRandom: 1.8
hSpeed: 3
physics: true

[effect_红粉]
priority: verylow
life: 75
attachedToUnit: false
image: SHARED:spark.png
color: #FF0000
scaleFrom: 1.2
scaleTo: 1.2
xSpeedRelativeRandom: 1.8
ySpeedRelativeRandom: 1.8
hSpeed: 3
physics: true

[movement]
movementType: AIR
moveSpeed: 2.7
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.03

targetHeight: 20

landOnGround: onlyIdle

maxTurnSpeed: 3.9
turnAcceleration: 0.3

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181

slowDeathFall: true