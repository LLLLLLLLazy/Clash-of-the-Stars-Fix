
[core]
name: bugRangedLarge
altNames: 重型战斗虫
displayText: 重型战斗虫
displayDescription: -攻击地面单位

copyFrom: bug_ranged.ini

price: credits=550, 腐蚀=${corrode}
maxHp: 670
mass: 3000

radius: 13
displayRadius: 14

overrideAndReplace: NONE

unitsSpawnedOnDeath: 资源返还(addResources=ammo:150|energy:21)

[hiddenAction_亡灵生成]
autoTriggerOnEvent: destroyed
requireConditional: if self.globalTeamTags(includes='狂猎') and self.globalTeamTags(includes='皎红')
spawnUnits: 重型战斗虫[亡灵]

[hiddenAction_腐蚀价格]
@global corrode: 85
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}

[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[action_整装待发]
isVisible: true
isActive: false
id: ${section.text}
text: 整装待发
description: -血量为满时触发 \n -获得30护甲且移速+0.2
pos: 2
displayType: infoOnly
buildSpeed: 0s

[action_painting]
convertTo: bugRangedLarge[风信子]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield

[hiddenAction_ready]
autoTrigger: if self.hp(full=true)
convertTo: bugRangedLarge[Ready]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield

[action_且战且退]
@copyFrom_skipThisSection:true

[hiddenAction_retreat]
@copyFrom_skipThisSection:true

[action_Upgrade]
isVisible: false

[hiddenAction_自动腐蚀]
@copyFrom_skipThisSection:true

[graphics]
image: bug_ranged_large.png

[attack]
#maxAttackRange: 165
shootDelay: 42


[projectile_1]
tags= T-projectile
directDamage: 42
life: 80
speed: 7
#frame: 0

largeHitEffect:true
explodeEffect: CUSTOM:explodeSmall

drawSize:1.1

lightColor: #00ff00
lightSize: 0.4

[effect_explodeSmall]
scaleFrom: 0.8
scaleTo: 0.8
alpha: 1
animateFrameSpeed: 0.5
alsoPlaySound: missile_hit:0.3

[effect_shockwave]
stripIndex: shockwave
life: 20
scaleFrom: 0
color: #AEFF00
dirSpeed: 5
drawUnderUnits: true

[movement]
movementType: LAND
moveSpeed: 0.8

[ai]
upgradedFrom: bugRanged