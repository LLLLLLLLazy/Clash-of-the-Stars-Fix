
[core]
name: 雾霾
displayDescription: -使目标移速与攻速下降50%
class: CustomUnitMetadata
price: 0
maxHp: 1
mass: 3000

tags: magic, 雾霾

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 1
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true
showOnMinimap: false

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

energyMax: 5
energyRegen: -0.0166
dieOnZeroEnergy: true

autoTriggerCooldownTime: 10


[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
requireConditional: if numberOfUnitsInTeam(withTag="雾霾", greaterThan=1, withinRange=40)
deleteSelf: true

[hiddenAction_雾]
autoTrigger: true
spawnEffects: CUSTOM:fog2*2


[template_提取目标]
takeResources_excludeUnitsWithoutTags: units
takeResources_includeUnitsWithinRange: 50
takeResources_includeUnitsWithinRange_team: enemy
takeResources_maxUnits: 99

[hiddenAction_状态时间]
@copyFromSection: template_提取目标
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", greaterThan=0, withinRange=50)
takeResources: 雾霾减速=-1
takeResources_excludeUnitsWithTheseResources: 雾霾减速=2

[resource_雾霾减速]
hidden: true

[graphics]
image: SHARED:blank.png
showEnergyBar: false

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretTurnSpeed: 1000
maxAttackRange: 5
shootDelay: 1

aimOffsetSpread: 0

[turret_1]
x: 0
y: 0
projectile: 1

[turret_2]
x: 0
y: 0
delay: 20
projectile: 2
aimOffsetSpread: 0.6

[projectile_1]
mutatorX_ifUnitWithoutTags: ʚ♡⃛ɞ(ू•ᴗ•ू❁)
mutatorX_directDamageMultiplier: 0.0000001
directDamage: -1
life: 5
instant: true
teleportSource: true
explodeEffect: NONE
explodeEffectOnShield: NONE
targetGround: true
targetGround_includeTargetHeight: true
disableLeadTargeting: true

[projectile_2]
mutatorX_ifUnitWithoutTags: ʚ♡⃛ɞ(ू•ᴗ•ू❁)
mutatorX_directDamageMultiplier: 0.0000001
directDamage: -1
life: 5
instant: true
explodeEffect: CUSTOM:fog2
explodeEffectOnShield: CUSTOM:fog2
targetGround: true
targetGround_includeTargetHeight: true
disableLeadTargeting: true

[effect_fog2]
priority: low
life: 60
lifeRandom: 25
image:fog2.png
scaleFrom: 2.2
scaleTo: 2.6
alpha: 0.1
fadeInTime:10
hSpeed: 0.5
hSpeedRandom: 0.8
ySpeedRelativeRandom: 0.4
xSpeedRelativeRandom: 0.4
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 60
delayedStartTimerRandom: 10
imageShadow: SHADOW:spray.png
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false
trailEffect:CUSTOM:fog2-2
trailEffectRate:7.0

[effect_fog2-2]
priority: verylow
life:40
lifeRandom: 25
image:fog2.png
scaleFrom: 2.2
scaleTo: 2.6
fadeInTime:10
physics: true
physicsGravity: 0.4
alpha: 0.1
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false
spawnChance:0.3


[movement]
movementType: AIR
moveSpeed: 0
moveAccelerationSpeed: 0.0
moveDecelerationSpeed: 0.0
