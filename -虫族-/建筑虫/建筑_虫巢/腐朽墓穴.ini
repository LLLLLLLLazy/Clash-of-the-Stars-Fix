
[core]
name: 腐朽墓穴
displayDescription: -养育虫族特殊单位 \n -降低腐蚀 \n -神圣腐朽
class: CustomUnitMetadata
price: 29000, 腐蚀=${corrode}
maxHp: 3000
mass: 90000
tags: units
maxShield: 4000
shieldRegen: 0.15
shieldDisplayOnlyDeflection: true

generation_resources: 腐蚀=-5

footprint: 0,0,1,1
constructionFootprint: 0,0,1,1
buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 3
buildSpeed: 0.0002

energyMax: 100
energyRegen: 0.0166
energyStartingPercentage: 0.5

radius: 20
shieldRenderRadius: 25

isBio: true
isBug: true
isBuilding: true

selfRegenRate:0.2
selfBuildRate:0.0002

nanoFactorySpeed:1

softCollisionOnAll: 3

exit_x:0
exit_y:-1

#canBuild_1_name:setRally
#canBuild_1_pos:1

unitsSpawnedOnDeath: 资源返还(addResources=ammo:7250|energy:1250)

[hiddenAction_腐蚀价格]
@global corrode: 5000
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}

[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[action_explode]
displayType: action

price:  0
text: 重置
buildSpeed: 1s
addResources:energy=-100

[hiddenAction_produce]
autoTrigger: if self.energy(full=true)
addEnergy: -100
produceUnits: 圣甲虫
spawnEffects: CUSTOM:圣加

[hiddenAction_autophagy]
autoTrigger: if self.shield(greaterThan=20) and self.hasTakenDamage(withinSeconds=0.1)
addEnergy: 1

[graphics]
total_frames: 1

image:        腐朽墓穴.png
image_wreak:  NONE
image_shield: rotten_shields.png

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 150
animation_idle_scale_start:1
animation_idle_scale_end:1.05
animation_idle_pingPong: true

[attack]
canAttack: false

[effect_圣加]
image: 圣加.png
life: 60
fadeInTime: 2
fadeOut: true
alpha: 1
scaleFrom: 1.0
scaleTo: 1.0
color: #FF3BFF00

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
buildPriority: 0.3