
[core]
name: 流能风暴
maxHp: 1
price: 0
mass: 0
displayDescription: -

tags=magic
techLevel: 1
buildSpeed: 3.33s

isBuilding: true
footprint: 1,1,-1,-1
constructionFootprint: 1,1,-1,-1

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 6

[hiddenAction_开始]
autoTrigger: if not self.hasFlag(id=1)
playSoundAtUnit: 地震.ogg:1.0
spawnEffects: 初地裂, 初能波, 屏幕抖动, 土尘*2
addResources: setFlag=1

[hiddenAction_生成]
autoTrigger: if self.timeAlive(laterThanSeconds=1.9) and not self.hasFlag(id=2)
playSoundAtUnit: RageActivate.ogg:1.0
spawnEffects: 红地裂, 红能波, 屏幕抖动
addResources: setFlag=2

[hiddenAction_持续]
autoTrigger: if self.timeAlive(laterThanSeconds=2) 
spawnEffects: 上升地裂, 滞留地裂, 上升能波, 滞留能波, 上升旋风
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0

[hiddenAction_结束]
autoTrigger: if self.timeAlive(laterThanSeconds=6)
playSoundAtUnit: 气浪.ogg:0.8
spawnEffects: 快旋风*3, 慢旋风*3
deleteSelf: true

[graphics]

image:        SHARED:blank.png
image_wreak: NONE
image_turret:NONE
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[turret_1]
x: 0
y: 0
barrelHeight: 200
projectile: 1

[projectile_1]
areaDamage: 100
areaRadius: 320
areaHitAirAndLandAtSameTime: true

life: 10

instant:true
instantReuseLast: true

beamImage:      SHARED:beam3.png
beamImageEnd:   SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png

beamImageOffsetRate: -6

buildingDamageMultiplier: 0.5

friendlyFire: true

mutatorX_ifUnitWithTags: 魔王
mutatorX_areaDamageMultiplier: 0.5

pushForce: -8
pushVelocity: -2

color: #ff0000

explodeEffect: NONE

[effect_初地裂]
priority:veryhigh
image: Fissure.png
life: 115
fadeOut: false
fadeInTime: 2
attachedToUnit: false
scaleFrom: 2.0
scaleTo: 2.0
alpha: 1.0
drawUnderUnits:true

[effect_初能波]
priority:veryhigh
image: MG_ShockWave.png
life: 40
fadeOut: true
fadeInTime: 2
attachedToUnit: false
color: #897140
scaleFrom: 0.0
scaleTo: 3.8
alpha: 0.4
drawUnderUnits:true

[effect_红地裂]
priority:veryhigh
image: Fissure.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 2.0
scaleTo: 2.0
alpha: 1.0
drawUnderUnits:true

[effect_红能波]
priority:veryhigh
image: MG_ShockWave.png
life: 35
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 0.0
scaleTo: 3.8
alpha: 0.5
drawUnderUnits:true

[effect_上升地裂]
priority:high
image: Fissure.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 2.0
scaleTo: 2.0
alpha: 0.5
drawUnderUnits:false
hSpeed: 3.5

[effect_滞留地裂]
priority:low
image: Fissure.png
life: 20
fadeOut: true
fadeInTime: 10
attachedToUnit: false
color: #FF0000
scaleFrom: 2.0
scaleTo: 2.0
alpha: 0.3
drawUnderUnits:true

[effect_上升能波]
priority:high
image: MG_ShockWave.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 3.5
scaleTo: 3.5
alpha: 0.4
drawUnderUnits:false
hSpeed: 3.5

[effect_滞留能波]
priority:low
image: MG_ShockWave.png
life: 20
fadeOut: true
fadeInTime: 10
attachedToUnit: false
color: #FF0000
scaleFrom: 3.5
scaleTo: 3.5
alpha: 0.3
drawUnderUnits:true

[effect_上升旋风]
priority:high
image: 雾.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.4
drawUnderUnits:false
hSpeed: 3.5
dirSpeed:4

[effect_快旋风]
priority:high
image: 雾.png
life: 35
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 1.0
scaleTo: 2.0
alpha: 0.3
drawUnderUnits:false
hSpeed: 3.5
dirSpeed: 4
dirSpeedRandom:2

[effect_慢旋风]
priority:high
image: 雾.png
life: 80
fadeOut: true
attachedToUnit: false
color: #FF0000
scaleFrom: 1.0
scaleTo: 2.0
alpha: 0.3
drawUnderUnits:false
hSpeed: 3.5
dirSpeed: 1.5
dirSpeedRandom:1

[effect_土尘]
priority:high
image: dust.png
life: 90
fadeOut: true
fadeInTime: 20
attachedToUnit: false
color: #897140
scaleFrom: 2.0
scaleTo: 3.5
alpha: 0.4
drawUnderUnits:true
dirOffsetRandom: 180
dirSpeedRandom: 0.2

[effect_屏幕抖动]
drawType: displacement
image: what.png
life: 20
fadeOut: true
attachedToUnit: true
scaleFrom: 100
scaleTo: 100
alpha: 0.05
drawUnderUnits: false
alwayStartDirAtZero: true
total_frames: 2
animateFrameStart: 0
animateFrameEnd: 1
animateFrameSpeed: 0.4

[movement]
movementType: NONE
moveSpeed: 0