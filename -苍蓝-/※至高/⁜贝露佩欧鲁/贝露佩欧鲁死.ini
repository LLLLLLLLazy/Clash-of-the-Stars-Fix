
[core]
name:贝露佩欧鲁-死
displayText:贝露佩欧鲁
displayDescription:
class: CustomUnitMetadat
price:0
maxHp: 28000
mass:${core.maxHp*core.radius}
radius: 50
buildSpeed: 57.5s
isBio:true
isBug:true
showInEditor: false
selfRegenRate:1.25
autoTriggerCooldownTime: 0.1s
autoTriggerCooldownTime_allowDangerousHighCPU:true
isUnselectable:true
canOnlyBeAttackedByUnitsWithTags:alk
disableDeathOnZeroHp:true
disableAllUnitCollisions:true
@memory height:float
@memory 透明度:float
fogOfWarSightRange:15

[graphics]
total_frames: 8
image:贝露佩欧露-生命体征消失.png
image_wreak:  NONE
image_turret: NONE
image_shadow:AUTO_ANIMATED
imageScale:  1.0
lock_body_rotation_with_main_turret: true
lock_leg_rotation_with_main_turret: true
showShotDelayBar:false
showQueueBar:false
showHealthBar:false

[attack]
canAttack:false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
maxAttackRange:600
aimOffsetSpread: 0.6
isFixedFiring:true

[movement]
moveSpeed:0.4
movementType: AIR
moveAccelerationSpeed:0.1
moveDecelerationSpeed:0.025
targetHeight: 80
targetHeightDrift: 2
reverseSpeedPercentage:0
maxTurnSpeed: 999
turnAcceleration: 0.6
moveSlidingMode:true
moveIgnoringBody:false

[effect_explosion]
priority:veryhigh
life: 60
hOffset: 0
dirOffset: 0
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
image:explosion2.png
scaleFrom:1.9
scaleTo: 2.5
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 8
animateFramePingPong: false
animateFrameSpeed: 0.35
dirOffsetRandom: 180
alpha:1.0

[effect_wave]
priority: high
life: 30
image:wave.png
scaleFrom: 0.1
scaleTo: 0.5
alpha:0.5
color:#1dffff
fadeOut: true
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false

[effect_贝露]
priority:veryhigh
image:贝露佩欧露图标.png
life:20
drawUnderUnits:false
attachedToUnit:true
scaleFrom: 1.0
scaleTo:1.6
alpha:1.0

[effect_水粒子]
priority: high
life:80
image:水粒子.png
scaleFrom: 0.65
scaleTo: 0.5
alpha:0.7
dirSpeed:15.5
hSpeed: 0.05
ySpeedRelativeRandom: 0.25
xSpeedRelativeRandom: 0.25
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false

[effect_贝露爆炸]
priority:veryhigh
life: 60
hOffset: 0
dirOffset: 0
alwayStartDirAtZero: true
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits:false
image:贝露爆炸.png
scaleFrom:1.4
scaleTo: 2.0
total_frames: 6
animateFrameStart: 0
animateFrameEnd: 5
animateFramePingPong: false
animateFrameSpeed: 0.25
dirOffsetRandom: 180
alpha:1.0

[effect_spawnEffects]
life: 0
scaleFrom: 0
scaleTo: 0
alpha:0
xOffsetRelativeRandom:70
yOffsetRelativeRandom:30
image:SHARED:blank.png
alsoEmitEffectsOnDeath:CUSTOM:wave,CUSTOM:水粒子,CUSTOM:explosion
alsoPlaySound:小爆炸.ogg:0.1

[hiddenAction_exp]
autoTrigger:true
spawnEffects:CUSTOM:spawnEffects
addWaypoint_type:move
addWaypoint_prepend:true
addWaypoint_position_relativeOffsetFromSelf:0,20
setUnitMemory:height=memory.height-1,透明度=memory.透明度+0.05
setUnitStats:targetHeight=memory.height

[hiddenAction_start]
autoTrigger:if not self.hasFlag(id=31)
spawnEffects:CUSTOM:贝露,CUSTOM:贝露爆炸
addResources:setFlag=31
alsoQueueAction:III
playSoundAtUnit:龙悲鸣.ogg:0.8
setUnitMemory:height=${movement.targetHeight},透明度=0

[hiddenAction_III]
buildSpeed:5s
playAnimation:1
playSoundAtUnit:消散.ogg:0.8
alsoQueueAction:die
setUnitMemory:透明度=-100

[hiddenAction_die]
buildSpeed:0.24s
deleteSelf:true

[animation_1]
body_0s:{frame:0}
body_0.25s:{frame:7}

[decal_蓝光]
layer:onTop
order: 0.1
image:蓝光.png
alpha:self.readUnitMemory('透明度',type='float')
alwayStartDirAtZero:false
imageScale: 1.0

