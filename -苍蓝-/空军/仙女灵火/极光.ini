
[core]
name: 极光
displayDescription: -极光矢
class: CustomUnitMetadata
price: 0
maxHp: 1
armour: 99999
mass: 500
tags=极光

techLevel: 1
buildSpeed: 0.001

showInEditor:false

disableAllUnitCollisions: true
isUnselectable:true
ignoreInUnitCapCalculation: true
canNotBeDirectlyAttacked: true

radius: 8
displayRadius: 8
softCollisionOnAll: 8

explodeOnDeath: false
numBitsOnDeath: 0
hideScorchMark: true

energyMax: 10
energyRegen: 10

fogOfWarSightRange: 5

autoTriggerCooldownTime: 0.11s

[hiddenAction_创建时]
autoTriggerOnEvent: completeAndActive
addWaypoint_type: move
addWaypoint_maxTime: 1s
addWaypoint_position_relativeOffsetFromSelf: 0, 150
addWaypoint_prepend: true

[hiddenAction_move]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 5s
addWaypoint_target_nearestUnit_tagged: 极光轰炸机
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_maxRange: 1000
autoTrigger: if not self.hasActiveWaypoint(type='guard') and not self.hasActiveWaypoint(type='attackMove') and not self.hasActiveWaypoint(type='move')

[hiddenAction_attack]
addWaypoint_type: attackMove
addWaypoint_prepend: true
addWaypoint_maxTime: 1s
addWaypoint_position_relativeOffsetFromSelf: 0, 50
autoTrigger: if numberOfUnitsInEnemyTeam(withinRange=100, greaterThan=0) and self.isAttacking and numberOfUnitsInTeam(withinRange=1000, greaterThan=0, withTag='极光轰炸机') and not self.hasActiveWaypoint(type='move')

[hiddenAction_wander]
autoTrigger: if self.customTimer(laterThanSeconds=10) and numberOfUnitsInTeam(withinRange=1000, lessThan=1, withTag='极光轰炸机')
resetCustomTimer: true
addWaypoint_type: move
addWaypoint_position_randomOffsetFromSelf: 200, 200
addWaypoint_target_mapMustBeReachable:true
addWaypoint_maxTime: 3s

[action_极光]
isVisible: true
isActive: false
autoTrigger: true
spawnEffects: CUSTOM:极光
text: 极光矢
description: -攻击周围目标
displayType: infoOnly
pos: 0.1
buildSpeed: 0s

[effect_极光]
#fadeInTime:300
life: 60
fadeInTime: 5
attachedToUnit: false
scaleFrom: 0.05
scaleTo: 0.04
alpha: 1
image: 一线闪光.png
color: #FF64FF
priority: veryhigh
drawUnderUnits: false
ySpeedRelative: 1

[effect_极光尾]
createWhenZoomedOut: false
priority:low

image: 一线闪光.png
life: 60
fadeOut: true
attachedToUnit: false
color: #FF40FF
fadeInTime:5
scaleFrom: 0.075
scaleTo: 0.025
alpha: 2
drawUnderUnits:true
ySpeedRelative:-0.4
atmospheric: true

[graphics]
total_frames: 1

image:        ROOT:/-效果单位-/null.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:0
shadowOffsetY:0

movementEffect: CUSTOM:极光尾
movementEffectRate: 8


[attack]
isMelee: true

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithoutTags: 墙

#isFixedFiring: true
meleeEngangementDistance: 400

turretSize: 0
turretTurnSpeed: 9999

maxAttackRange: 10
shootDelay: 0

dieOnAttack:true

[turret_1]
x: 0
y: 0
canAttackCondition: if self.timeAlive>1

[turret_laserDefence]
x: 0
y: 0
canShoot: false
limitingRange: 20
laserDefenceEnergyUse: 1

[turret_laserDefence2]
@copyFromSection: turret_laserDefence

[turret_laserDefence3]
@copyFromSection: turret_laserDefence

[projectile_1]
directDamage: 200
life: 50
instant: true
#shieldDefectionMultiplier: 0
#shieldDamageMultiplier: 0

explodeEffect: CUSTOM:projectilePassThough, 爆炸, CUSTOM:hitLightFlash

explodeEffectOnShield: CUSTOM:projectilePassThough, CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight, CUSTOM:极光

[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #FFCEFE
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #FFCEFE

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFCEFE
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true

[effect_爆炸]
priority: veryhigh
life: 25
fadeOut: false
attachedToUnit: true
image: 白爆.png
color: #FF64FF
scaleFrom: 1
scaleTo: 1
alpha: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5

[movement]
movementType: AIR
moveSpeed: 3.5
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.0

maxTurnSpeed: 6
turnAcceleration: 0.1

targetHeight: 10

moveSlidingMode :false
moveIgnoringBody:false

reverseSpeedPercentage:0

