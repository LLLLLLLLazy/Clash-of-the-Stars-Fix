
[core]
name: 鱼雷塔
class: CustomUnitMetadata
price: 4000
maxHp: 1000
maxShield: 500
shieldRegen: 0.08
mass: 10000
tags: units, 能量冷却

displayDescription: -发射鱼雷 \n -攻击水面与水下单位

#footprint used for collisions with units (left, up, right, down
footprint: 0,0,1,1
#used for placement, and placement of other buildings
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:18

techLevel: 1
buildSpeed: 30s
#availableInDemo: true

radius: 15
#displayRadius: 12
buildingSelectionOffset: -8

isBuilding: true
isBio: false

energyMax:3
energyRegen:0.01
energyNeedsToRechargeToFull:true

[action_upgrade]
displayType: upgrade
convertTo: 鱼雷塔
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 1200
text: 升级
description: -可发射导弹攻击空中单位
buildSpeed: 14s
pos: 1
addResources=setFlag=1
iconImage: SHARED:icon_upgrade.png
isVisible: if not self.hasFlag(id=1)

[graphics]
total_frames: 1
image: turret_base.png
image_wreak:  turret_base_dead.png
image_turret: NONE
imageScale: 1.2
#turretImageScale: 1.0
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

turretSize: 20
turretTurnSpeed: 10

maxAttackRange: 320
shootDelay: 40

turretMultiTargeting: true

[turret_1]
#torpedo
invisible: true
x: 0
y: 0
canAttackFlyingUnits: false
delay: 120

[projectile_torpedo]
tags= T-projectile
#torpedo
directDamage: 100
areaDamage: 100
areaRadius: 50
life: 300
speed: 1.0
targetSpeed: 2.0
targetSpeedAcceleration: 0.05

drawSize: 1.65
color: #1E1E96
trailEffect: true
largeHitEffect: true
autoTargetingOnDeadTarget: true

deflectionPower: -1

wobbleAmplitude: 0.25
wobbleFrequency: 0.5s

turnSpeed:2

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.4

[turret_2]
#missile
invisible: true
x: 0
y: 0
canAttackFlyingUnits: if self.hasFlag(id=1)
canAttackUnderwaterUnits: false
canAttackLandUnits: false
limitingRange: 280

projectile: 2
size: 1

energyUsage:1

shoot_sound:missile_fire
shoot_sound_vol:0.2


[projectile_2]
tags= T-projectile
#missile
directDamage: 84
life: 360

speed: 0.3
targetSpeed: 4.5
targetSpeedAcceleration: 0.01
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height: 35
ballistic_height: 50

drawSize: 1.9
color: #FFFF00
lightColor: #ffe92b
lightSize: 0.5

autoTargetingOnDeadTarget: true

[movement]
movementType: WATER
moveSpeed: 0
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1

maxTurnSpeed: 0
turnAcceleration: 0.1

targetHeight: -8
targetHeightDrift: 0.1

[ai]

buildPriority: 0.22
noneInBaseExtraPriority: 0.17


maxEachBase: 4
