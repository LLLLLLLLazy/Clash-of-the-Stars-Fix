
[core]
name: 帝国蜂火兵
displayText: 烽火空骑兵
displayDescription:-中型装甲\n-中程炽弹枪\n-攻击地面单位\n-飞行时可攻击空中单位\n-飞行时对地投掷燃烧榴弹\n-装备外骨骼时无法飞行但可投掷榴弹且移速提升

copyFrom: 帝国步兵模板.ini

price: 700
maxHp: 230
mass: 1000

tags: ${tags}, 烽火空骑兵

techLevel: 2
buildSpeed: 7.9s

energyMax: 6
energyRegen: 0.0167
energyNeedsToRechargeToFull: true

[action_✟升天✟​]
pos:0.1
id: 升天
text: Fly
description: -飞行至空中\n-对地火力压制\n-移速与射程上升\n-广阔视野
descriptionAddUnitStats: ${section.convertTo}
buildSpeed: 0.5s
convertTo: 帝国蜂火兵[飞行]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
canPlayerCancel: false
alwaysSinglePress: true
allowMultipleInQueue: false
disconnectFromParent: true
isLocked: if not self.energy(greaterThan=3)
isLockedMessage: 冷却中…
setUnitMemory: 属性[20]=0

[action_熔化]
isActive:false
isVisible: if self.isOverLiquid and not self.isOverwater
autoTrigger: if self.isOverLiquid and not self.isOverwater
isGuiBlinking: if self.isOverLiquid and not self.isOverwater
addResources: hp=-30
pos: 1
id: ${section.text}
text: 熔化
description: -在岩浆上持续损毁生命值
buildSpeed:0.1s

[graphics]
image: 帝国蜂火兵.png

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 160
shootDelay: 70

#aimOffsetSpread: 0

[turret_1]
#蜂火枪
x: 0
y: 0
idleDir:0

barrelX: 0
barrelY: 13

turnSpeed: 4.1
turnSpeedAcceleration: 0.3

shoot_sound:missile_fire
shoot_sound_vol:0.1
shoot_light:#99ff0000
shoot_flame: CUSTOM:SmallFlame

canAttackFlyingUnits: false

projectile: 1

canAttackCondition: if not self.hasParent(withTag="步兵载体")

[turret_2]
#missile
copyFrom: 1
warmup: 30
x: 0
y: 0

[turret_1载]
@copyFromSection: turret_1
canAttackCondition: if self.hasParent(withTag="步兵载体")
barrelX: 0
barrelY: 0

[turret_2载]
@copyFromSection: turret_2
canAttackCondition: if self.hasParent(withTag="步兵载体")
barrelX: 0
barrelY: 0

[turret_6]
#榴弹
x: 0
y: 0
idleDir:0
barrelX: 0
barrelY: 4
attachedTo:	1

turnSpeed: 4.1
turnSpeedAcceleration: 0.3
shoot_light: #99ff0000

canAttackFlyingUnits: false
canAttackCondition: if self.isFlying or self.hasParent(withTag="外骨骼装甲")

projectile: 5

delay: 90

[projectile_1]
tags= T-projectile
#missile
flameWeapon: true
areaDamage: 45
areaRadius: 30
drawSize: 0.8
targetGround: true
targetGroundSpread: 0
targetGround_includeTargetHeight: true
life: 240
speed: 4
targetSpeed: 6
trailEffect: true
largeHitEffect: true
lightColor: #ff0000
lightSize: 0.4

frame: 7

wobbleAmplitude: 0.5
wobbleFrequency: 0.4s

spawnProjectilesOnExplode:2*4(offsetRandomXY=30,spawnChance=0.75)

[projectile_2]
tags= T-projectile
areaDamage:3
flameWeapon:true
areaRadius:10
life:0
invisible:true
explodeOnEndOfLife:true

[projectile_5]
tags= T-projectile
#榴弹
life: 150
speed: 3
targetSpeed: 6
targetSpeedAcceleration: 0.05

frame: 7
drawSize: 0.9

areaDamage: 50
areaRadius: 40

lightColor: #ffe92b
lightSize: 0.5

largeHitEffect: true
trailEffect: CUSTOM:projectileSmoke

targetGroundSpread: 20
targetGround: true

initialUnguidedSpeedHeight: 1.2
gravity: 0.1

[effect_projectileSmoke]
stripIndex: effects
frameIndex: 0
life: 60
fadeOut: true
attachedToUnit: false
color: #ffe92b
fadeInTime: 5
scaleFrom: 0.5
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
atmospheric: true
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2
ySpeedRelative: 0.2
hSpeed: 0.5
hSpeedRandom: 0.1

[effect_SmallFlame]
life: 20

attachedToUnit: true
atmospheric: true

stripIndex: 3

animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.5


alpha:1
scaleFrom: 0.8
scaleTo: 0.8