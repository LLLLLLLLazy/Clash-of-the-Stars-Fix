[core]


name:毒爆巨蜂
displayText: 毒爆灾星
maxHp:6000
mass:60000
price:45000
radius:35
isBug:true
isBio:true
tags: units, 虫族, 大型虫
selfRegenRate:0.25
nanoBuildSpeed:10
experimental:true
buildSpeed:83.3s
displayDescription:-对地对空\n-喷吐飞弹生成毒雾\n-释放自爆虫为母体献身\n-毒素附加: 250
energyMax:4
energyRegen:0.0042
fogOfWarSightRange:20
transportSlotsNeeded:5

[action_Upgrade]
convertTo:瘟疫巨蜂
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:腐蚀=5000
text:腐蚀 - 瘟疫
displayType:upgrade
buildSpeed:83.3s
pos:1
description:-对于毒雾的掌控更加熟练\n-不再能释放自爆飞虫
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0

[action_Upgrade2]
convertTo:熔毁巨蜂
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:腐蚀=4000
text:腐蚀 - 蜂群
displayType:upgrade
buildSpeed:83.3s
pos:2
description:-唾液拥有猛烈的威力并熔化目标\n-能释放更强的自爆飞虫\n仙人模式(?)
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0

[hiddenAction_腐蚀中]
autoTrigger: if self.queueSize(withActionTag="腐蚀")>0 and not self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=-${movement.moveSpeed}*0.6
alsoTriggerAction: 属性变化
temporarilyAddTags: 腐蚀中

[hiddenAction_腐蚀停止]
autoTrigger: if self.queueSize(withActionTag="腐蚀")<1 and self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=0
alsoTriggerAction: 属性变化
temporarilyRemoveTags: 腐蚀中

[hiddenAction_自动腐蚀]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-瘟疫巨蜂") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade
addResourcesWithLogic: ${action_Upgrade.price}*-1

[hiddenAction_自动腐蚀2]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-熔毁巨蜂") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade2.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade2
addResourcesWithLogic: ${action_Upgrade2.price}*-1

[graphics]
image:读报.png
imageScale:1.1
image_turret:NONE
splastEffect:true
image_shadow:AUTO_ANIMATED
shadowOffsetX:1
shadowOffsetY:1
total_frames:2
animation_idle_start:0
animation_idle_end:1
animation_idle_speed:1.8
animation_moving_start:0
animation_moving_end:1
animation_moving_speed:1.8
lock_body_rotation_with_main_turret:true

[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
maxAttackRange:240
shootDelay:1.3s
aimOffsetSpread:0

[turret_1]
x:0
y:0
invisible:true
projectile:1
turnSpeed:4
shoot_sound:NONE
shoot_sound_vol:0.5
shoot_flame:NONE
shoot_light:#FFEECCCC
barrelY:10
recoilOffset:-3
recoilOutTime:5
recoilReturnTime:20

[projectile_1]
tags= T-projectile
areaDamage:30
areaRadius:45
areaHitAirAndLandAtSameTime:true

life:150
lightColor:#00ff00
lightSize:0.6
speed:5

frame:6
drawSize:1.3
spawnUnit:有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesDirectHit: 毒素=250

effectOnCreate:CUSTOM:毒雾*3

[resource_毒素]
displayName: 毒素

[effect_毒雾]
priority:low
attachedToUnit:true
life:100
alpha:0.8
scaleFrom:1.0
scaleTo:1.5
image:毒雾.png
drawUnderUnits:false
atmospheric:true
xSpeedRelativeRandom:0.2
ySpeedRelativeRandom:0.2

[turret_2]
x:0
y:0
energyUsage:1
invisible:true
projectile:2
turnSpeed:4
shoot_sound:NONE
shoot_sound_vol:0.5
shoot_flame:NONE
shoot_light:#FFEECCCC
barrelY:-10
recoilOffset:0
recoilOutTime:5
recoilReturnTime:20
delay:0.25s

[projectile_2]
tags= T-projectile
directDamage:0
explodeOnEndOfLife:true
life:0
speed:5
spawnUnit:bugBee(addResources=setFlag:0)
frame:6
drawSize:0

[movement]
movementType:air
moveSpeed:1.3
moveAccelerationSpeed:0.05
moveDecelerationSpeed:0.1
maxTurnSpeed:4
turnAcceleration:0.02
targetHeight:20
targetHeightDrift:1