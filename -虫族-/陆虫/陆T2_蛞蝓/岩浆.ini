
[core]
name: 岩浆
displayDescription: -造成范围伤害
class: CustomUnitMetadata
price: 0
maxHp: 1
mass: 999999

tags=magic, 岩浆, 小岩浆

fogOfWarSightRange: 0

disableAllUnitCollisions: true
isUnselectable:true

showInEditor:false
showOnMinimap:false

canNotBeDirectlyAttacked:true

techLevel: 1
buildSpeed: 3.33s
#availableInDemo: true

radius: 0
displayRadius: 0

isBio: false
isBuilding: true
footprint: 1,1,-1,-1
constructionFootprint: 1,1,-1,-1

softCollisionOnAll: 0

numBitsOnDeath: 0
explodeOnDeath: false
hideScorchMark: false

energyMax: 8
energyRegen: -${1/60}
dieOnZeroEnergy: true

autoTriggerCooldownTime: 0.5s

[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
requireConditional: if not self.hasFlag(id=2)

[hiddenAction_created2]
autoTriggerOnEvent: completeAndActive
requireConditional: if self.hasFlag(id=2)
temporarilyAddTags: 大岩浆
temporarilyRemoveTags: 小岩浆
setUnitStats: maxEnergy=9, energy=9

[graphics]
drawLayer: bottom
image: 大空.png
image_wreak: NONE
image_turret: NONE

showEnergyBar: false

disableLowHpSmoke: true

[decal_岩浆]
layer: shadow
alpha: 0.5 * min(self.timeAlive, 1) * min(self.energy, 1)
image: 岩浆.png
imageScale: (0.166 * min(self.timeAlive, 1)) * select(self.hasFlag(id=2), 4, 1)

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretTurnSpeed: 999
maxAttackRange: 160
shootDelay: 0.5s

[turret_1]
x: 0
y: 0
limitingRange: 40
canAttackCondition: if not self.hasFlag(id=2)
projectile: 1

[turret_2]
x: 0
y: 0
canAttackCondition: if self.hasFlag(id=2)
projectile: 2

[projectile_1]
areaDamage: 50
areaRadius: 40
areaDamageNoFalloff: true
buildingDamageMultiplier: 0.5
life: 0
speed: 0
invisible: true
explodeOnEndOfLife: true
explodeEffect: 岩浆粒子*7
explodeEffectOnShield: 岩浆粒子*7

[projectile_2]
@copyFromSection: projectile_1
areaRadius: 160

explodeEffect: 岩浆粒子2*3

[effect_岩浆粒子]
priority: verylow
attachedToUnit: false
life: 120
lifeRandom: 30
fadeInTime: 10
image: 白粒.png
color: #B02C00
scaleFrom: 1.8
scaleTo: 1.8
alpha: 1.0
hSpeed: 1.0
hSpeedRandom: 0.3
dirSpeedRandom: 1
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
xOffsetRelativeRandom: 40
yOffsetRelativeRandom: 40
delayedStartTimerRandom: 30

[effect_岩浆粒子2]
@copyFromSection: effect_岩浆粒子
life: 160
fadeInTime: 25
xOffsetRelativeRandom: 160
yOffsetRelativeRandom: 160

[movement]
movementType: LAND
moveSpeed: 0
targetHeight: -1


[ai]
disableUse:true