
[core]
name: 地震
maxHp:1
price: 0
mass: 0
displayDescription: -突发性大范围地面撕裂 \n -使其影响范围内的单位受地块波动而左摇右晃

tags=magic
techLevel: 1
buildSpeed: 3.33s
isBuilding: true

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true


[hiddenAction_1]
autoTriggerOnEvent: completeAndActive
fireTurretXAtGround: 1
fireTurretXAtGround_withProjectile: r1
fireTurretXAtGround_withOffset: 0, 0
spawnEffects: 音频地壳颤动, 音频海啸
[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=1.5, withinSeconds=2.5)
fireTurretXAtGround: 2
fireTurretXAtGround_withProjectile: 2
fireTurretXAtGround_withOffset: 0, 0
spawnEffects: 音频海啸
[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=3, withinSeconds=4)
@copyFromSection: hiddenAction_2
fireTurretXAtGround_withProjectile: r2
[hiddenAction_4]
autoTrigger: if self.timeAlive(laterThanSeconds=4.5, withinSeconds=5.5)
@copyFromSection: hiddenAction_3
[hiddenAction_5]
autoTrigger: if self.timeAlive(laterThanSeconds=6, withinSeconds=7)
@copyFromSection: hiddenAction_2
fireTurretXAtGround_withProjectile: r3
spawnEffects: 地坑, 音频地壳颤动, 音频地裂
[hiddenAction_6]
autoTrigger: if self.timeAlive(laterThanSeconds=9, withinSeconds=10)
@copyFromSection: hiddenAction_5
spawnEffects: NONE
[hiddenAction_7]
autoTrigger: if self.timeAlive(laterThanSeconds=12, withinSeconds=13)
@copyFromSection: hiddenAction_6
[hiddenAction_8]
autoTrigger: if self.timeAlive(laterThanSeconds=15, withinSeconds=16)
@copyFromSection: hiddenAction_6
deleteSelf: true
[hiddenAction_9]
autoTrigger: if self.timeAlive(laterThanSeconds=18, withinSeconds=19)
@copyFromSection: hiddenAction_6
deleteSelf: true
[hiddenAction_10]
autoTrigger: if self.timeAlive(laterThanSeconds=21)
@copyFromSection: hiddenAction_6
deleteSelf: true

[graphics]
image: null.png
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[turret_1]
x: 0
y: 0
barrelHeight: 200

[turret_2]
x: 0
y: 0

[projectile_r1]
areaDamage: 0
speed: 99
life: 10
invisible: true
deflectionPower: -1
explodeEffect: NONE
explodeEffectOnShield: NONE
spawnProjectilesOnCreate: 2*2
spawnProjectilesOnExplode: 裂震*2(offsetRandomDir=360, offsetRandomXY=30)

[projectile_r2]
areaDamage: 0
invisible: true
life: 0
explodeEffect: NONE
spawnProjectilesOnCreate: 2, 3

[projectile_r3]
@copyFromSection: projectile_r2
spawnProjectilesOnCreate: 3, 4

[projectile_2]
life: 1000
speed: 3
speedSpread: 2
areaDamage: 200
areaRadius: 120
areaExpandTime: 30
areaHitUnderwaterAlways: true
shieldDamageMultiplier: 0.5
friendlyFire: true
pushVelocity: 4
deflectionPower: -1
invisible: true
explodeEffect: CUSTOM:shockwave1, CUSTOM:土粒飞溅, CUSTOM:土粒飞溅2, 土溅2, 裂痕, spray2, ripples, 小水波纹, 震荡波
spawnProjectilesOnExplode: 裂震*3(offsetRandomDir=360, offsetRandomXY=30), 碎震*10(offsetRandomXY=100)

[projectile_3]
life: 0
invisible: true
explodeOnEndOfLife: true
areaDamage: 200
areaRadius: 200
areaHitUnderwaterAlways: true
shieldDamageMultiplier: 0.5
friendlyFire: true
explodeEffect: CUSTOM:shockwave2, 土溅, 裂痕, 颤动, 震荡波, spray, ripples, 水波纹
spawnProjectilesOnExplode: 裂震2*2(offsetRandomDir=360, offsetRandomXY=30), 碎震*20(offsetRandomXY=170)

[projectile_4]
life: 0
invisible: true
explodeOnEndOfLife: true
areaDamage: 100
areaRadius: 500
areaHitUnderwaterAlways: true
shieldDamageMultiplier: 0.5
friendlyFire: true
explodeEffect: CUSTOM:shockwave3, 土溅*2, 裂痕, 地裂光, 震荡波, 巨震, 颤动, 震动, spray*2, ripples*2, ripples2, largeRipples, 水痕, 海啸光, 水波纹, 海啸
spawnProjectilesOnExplode: 裂震3*5(offsetRandomDir=360, offsetRandomXY=30), 碎震*100(offsetRandomXY=375)

[projectile_裂震]
areaDamage:	20
areaRadius:	35
areaHitUnderwaterAlways: true
shieldDamageMultiplier: 0.5
friendlyFire: true
life: 4
speed: 2
turnSpeed: 0.8

lightColor: #9E8178
invisible: true

explodeEffect: CUSTOM:scoutTrail2, spray3
explodeEffectOnShield: CUSTOM:scoutTrail2, spray3

pushVelocity: -3
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnExplode: 裂震(recursionLimit=4, offsetRandomDir=15, yOffsetRelative=20)
spawnProjectilesOnEndOfLife: 土粒飞溅1(recursionLimit=99, spawnChance=0.5, maxSpawnLimit=1), 土粒飞溅2(recursionLimit=99, maxSpawnLimit=1)

[projectile_碎震]
life: 0
speed: 0
invisible: true
explodeOnEndOfLife: true
targetGround: true
areaDamage: 100
areaRadius: 30
areaHitUnderwaterAlways: true
shieldDamageMultiplier: 0.5
friendlyFire: true
pushVelocity: -4
explodeEffect: CUSTOM:scoutTrail, spray3
spawnProjectilesOnExplode: 土粒飞溅1(recursionLimit=99, spawnChance=0.5, maxSpawnLimit=1), 土粒飞溅2(recursionLimit=99, maxSpawnLimit=1)

[projectile_裂震2]
@copyFromSection: projectile_裂震
spawnProjectilesOnExplode: 裂震2(recursionLimit=7, offsetRandomDir=15, yOffsetRelative=22)

[projectile_裂震3]
@copyFromSection: projectile_裂震
spawnProjectilesOnExplode: 裂震3(recursionLimit=16, offsetRandomDir=15, yOffsetRelative=25)

[projectile_土粒飞溅1]
areaDamage: 0
life: 0
speed: 0
invisible: true
explodeOnEndOfLife: true
explodeEffect: CUSTOM:土粒飞溅

[projectile_土粒飞溅2]
@copyFromSection: projectile_土粒飞溅1
explodeEffect: CUSTOM:土粒飞溅2

[effect_shockwave]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 5.0
alpha: 0.5
drawUnderUnits: true

[effect_shockwave1]
@copyFromSection: effect_shockwave
alsoPlaySound: large_gun_fire2

[effect_shockwave2]
@copyFromSection: effect_shockwave
alsoPlaySound: cannon_firing:0.2
life: 20
scaleTo: 8.0

[effect_shockwave3]
@copyFromSection: effect_shockwave2
stripIndex: shockwave_large
alsoPlaySound: cannon_firing:0.6
life: 20
scaleTo: 12.0

[effect_scoutTrail]
createWhenZoomedOut: false
priority: verylow
life: 50
fadeOut: true
attachedToUnit: false
fadeInTime: 5
scaleFrom: 0.7
scaleTo: 3.2
alpha: 0.9
drawUnderUnits: true
ySpeedRelative: -0.1
xSpeedRelativeRandom: 0.2
atmospheric: true
stripIndex: dust
createWhenOverLiquid: false

[effect_scoutTrail2]
@copyFromSection: effect_scoutTrail
priority: critical

[effect_土粒飞溅]
attachedToUnit: false
priority: low
life: 80
alpha: 4
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 3
scaleFrom: 2.5
scaleTo: 2.5
image: particle.png
color: #9D7565
createWhenOverLand: true
createWhenOverLiquid: false
[effect_土粒飞溅2]
@copyFromSection: effect_土粒飞溅
color: #906857



[effect_土溅]
priority: high
life: 90
lifeRandom: 25
image:dust.png
scaleFrom: 1
scaleTo: 2
alpha: 0.7
hSpeed: 0.5
hSpeedRandom: 0.8
ySpeedRelativeRandom: 0.4
xSpeedRelativeRandom: 0.4
xOffsetRelativeRandom: 200
yOffsetRelativeRandom: 200
createWhenOverLand: true
createWhenOverLiquid: false
imageShadow: SHADOW:spray.png
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false
trailEffect: CUSTOM:土溅2
trailEffectRate: 2.5

[effect_土溅2]
priority: high
life: 30
lifeRandom:15
image:dust.png
scaleFrom: 1
scaleTo: 2
physics: true
physicsGravity: 0.4
alpha: 0.7
createWhenOverLand: true
createWhenOverLiquid:false
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false

[effect_裂痕]
priority: veryhigh
alwayStartDirAtZero: true
life: 2000
fadeOut: true
attachedToUnit: false
image: Fissure.png
scaleFrom: 3.3
scaleTo: 3.3
alpha: 0.1
drawUnderUnits: true
createWhenOverLiquid: false
alsoPlaySound: 地震.ogg

[effect_地坑]
priority: veryhigh
alwayStartDirAtZero: true
life: 800
fadeOut: true
fadeInTime: 10
attachedToUnit: false
image: Scorchmark.png
scaleFrom: 3.8
scaleTo: 3.8
alpha: 0.6
drawUnderUnits: true
createWhenOverLiquid: false

[effect_地裂光]
priority: high
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #9D7565
scaleFrom: 20
scaleTo: 20
alpha: 0.6
drawUnderUnits: false
createWhenOverLand: true
createWhenOverLiquid: false


[effect_水痕]
priority: veryhigh
alwayStartDirAtZero: true
life: 2000
fadeOut: true
attachedToUnit: false
image: 白裂痕.png
scaleFrom: 3.3
scaleTo: 3.3
alpha: 0.08
color: #3CCAC1
drawUnderUnits: true
createWhenOverLand: false
alsoPlaySound: 地震.ogg:0.5

[effect_海啸光]
priority: high
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #3CCAC1
scaleFrom: 20
scaleTo: 20
alpha: 0.6
drawUnderUnits: false
createWhenOverLand: false
createWhenOverLiquid: true

[effect_ripples]
priority: veryhigh
image: SHARED:ripple.png
life: 40
lifeRandom: 20

fadeOut: true
fadeInTime: 3

attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 8
alpha: 0.6
drawUnderUnits:false
createWhenOverLand: false

dirOffsetRandom: 180
dirSpeed: 0.5
dirSpeedRandom:0.5

delayedStartTimer: 5

[effect_ripples2]
@copyFromSection: effect_ripples
life: 70
lifeRandom: 35
fadeInTime: 30
scaleTo: 9

[effect_largeRipples]
priority: critical
image: SHARED:ripple.png
life: 140

fadeOut: true
fadeInTime: 3

attachedToUnit: false
color: #FFFFFF
scaleFrom: 4
scaleTo: 12
alpha: 0.6
drawUnderUnits:false
createWhenOverLand: false

dirOffsetRandom: 180
dirSpeed: 0.5
dirSpeedRandom:0.5

delayedStartTimer: 5

[effect_spray]
priority: veryhigh
life: 30
lifeRandom: 25
image:spray.png
scaleFrom: 1.0
scaleTo: 3.8
physics: true
physicsGravity: 0.4
alpha: 0.8
hSpeed: 1.8
hSpeedRandom: 0.8
ySpeedRelativeRandom: 0.4
xSpeedRelativeRandom: 0.4
xOffsetRelativeRandom: 200
yOffsetRelativeRandom: 200
createWhenOverLand: false
createWhenOverLiquid: true
imageShadow: SHADOW:spray.png
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false
trailEffect:CUSTOM:spray2
trailEffectRate:2.0

[effect_spray2]
priority: veryhigh
life: 30
lifeRandom: 25
image:spray.png
scaleFrom: 1.0
scaleTo: 3.8
physics: true
physicsGravity: 0.4
alpha: 0.8
createWhenOverLand: false
createWhenOverLiquid: true
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false

[effect_spray3]
priority: veryhigh
life: 50
lifeRandom: 25
image:spray.png
scaleFrom: 0.6
scaleTo: 1.4
physics: true
physicsGravity: 0.4
alpha: 0.8
createWhenOverLand: false
createWhenOverLiquid: true
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false


[effect_音频地壳颤动]
image: SHARED:blank.png
life: 0
alpha: 0
alsoPlaySound: 地壳颤动.ogg:0.5
createWhenOverLiquid: false

[effect_音频地裂]
image: SHARED:blank.png
life: 0
alpha: 0
alsoPlaySound: 地裂.ogg:0.5
createWhenOverLiquid: false

[effect_音频海啸]
image: SHARED:blank.png
life: 0
alpha: 0
alsoPlaySound: 海啸.ogg:0.2
createWhenOverLand: false


[effect_震荡波]
priority: critical
drawType: displacement

image: SHARED:shockwave_normal_128.png
life: 60
fadeOut: true
fadeInTime: 2

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 9.5
alpha: 0.2
drawUnderUnits: true

dirOffsetRandom: 180
dirSpeedRandom: 1

[effect_水波纹]
priority: critical
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 140
fadeOut: true

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 8
alpha: 0.5
drawUnderUnits: true

dirSpeedRandom: 2.0
dirOffsetRandom: 180

createWhenOverLand: false

[effect_小水波纹]
@copyFromSection: effect_水波纹
life: 100
scaleFrom: 0
scaleTo: 5

[effect_海啸]
priority: critical
drawType: displacement
image: SHARED:ripple_normal_128.png
life: 60
drawUnderUnits: true
attachedToUnit: true
scaleFrom: 6
scaleTo: 9
alpha: 0.8
hOffset:0
dirSpeedRandom:2.0
dirOffsetRandom: 180
createWhenOverLand: false
createWhenOverLiquid: true
alsoPlaySound: 海啸.ogg:0.5


[effect_巨震]
priority: critical
drawType: displacement
image: SHARED:ripple_normal_128.png
life: 80
drawUnderUnits: true
attachedToUnit: true
scaleFrom: 4
scaleTo: 8
alpha: 0.4
hOffset:0
dirSpeedRandom:2.0
dirOffsetRandom: 180
createWhenOverLand: true
createWhenOverLiquid: false

[effect_颤动]
priority: veryhigh
drawType: displacement

image: SHARED:cone_inverted_normal_128.png
life: 10
fadeOut: true

attachedToUnit: false
color: #FFFFFF
scaleFrom: 8
scaleTo: 8
alpha: 0.15
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeedRandom: 1

[effect_震动]
priority: critical
drawType: displacement
image:what.png
life:20
fadeOut:true
attachedToUnit: true
scaleFrom:100
scaleTo:100
alpha:0.05
drawUnderUnits:false
alwayStartDirAtZero: true
total_frames: 2
animateFrameStart: 0
animateFrameEnd:1
animateFrameSpeed: 0.4
animateFrameLooping: true


[movement]
movementType: AIR
moveSpeed: 0
targetHeight: 0


