
[core]
name: modularSpider_repair
copyFrom: common_slot.ini

overrideAndReplace: modularSpider_fabricator

displayText: 维护核心
displayDescription: -单位维修核心 \n -可维修自身或辅助建造 \n -增加模块恢复效率 \n -产出少量资源

price: 20000

maxHp: 4000

tags: ${baseTags}

generation_credits: 5
generation_delay: 40
borrowResourcesWhileAlive: 经济=-${core.generation_credits}

selfRegenRate: 0.83

isBuilder: true

canRepairUnits: true
canRepairBuildings: true

autoRepair: true
nanoRange: 280
nanoRepairSpeed: 1.6
nanoBuildSpeed: 20

autoTriggerCooldownTime: 0.1s

[global_resource_经济]
hidden: true


[hiddenAction_regen]
autoTrigger: true

#5 / 6 = 0.83 per tick
takeResources: hp=-5
takeResources_includeUnitsWithinRange: 100
takeResources_includeUnitsWithinRange_team: own
takeResources_excludeUnitsWithoutTags: 模块
takeResources_discardCollected: true
takeResources_maxUnits: 5



[hiddenAction_附属维修]
autoTrigger: if parent.hasActiveWaypoint(type='repair') and (not self.hasActiveWaypoint(type='repair') or activeWaypointTarget!=parent.activeWaypointTarget)
clearAllWaypoints: true
addWaypoint_type: repair
addWaypoint_prepend: true
addWaypoint_target_fromReference: parent.activeWaypointTarget

[hiddenAction_附属回收]
autoTrigger: if parent.hasActiveWaypoint(type='reclaim') and (not self.hasActiveWaypoint(type='reclaim') or activeWaypointTarget!=parent.activeWaypointTarget)
clearAllWaypoints: true
addWaypoint_type: reclaim
addWaypoint_prepend: true
addWaypoint_target_fromReference: parent.activeWaypointTarget


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 2
#maxAttackRange: 200
shootDelay: 85


[turret_nanoTurret]
x: 0
y: 2
warmup: 30
turnSpeed: 8

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true

[graphics]

image:        repairGen.png


image_shadow: NONE
shadowOffsetX:3
shadowOffsetY:3


drawLayer: bottom



