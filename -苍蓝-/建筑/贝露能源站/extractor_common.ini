[core]
dont_load: true

displayText: 贝露能源站
mass: 9000

reclaimPrice: ${core.price * 0.8}, 能源供应=-${energySupply}

#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,0,0

#used for placement, and placement of other buildings
constructionFootprint: 0,0,0,0

buildingToFootprintOffsetX: 10
buildingToFootprintOffsetY: 8

buildingSelectionOffset: 4

techLevel: 1
buildSpeed: 0.0008

radius: 18
displayRadius: 20
shieldRenderRadius: 22

isBuilding: true

placeOnlyOnResPool: true

numBitsOnDeath: 16
hideScorchMark: true

effectOnDeath: resourcePoolSmoke
explodeTypeOnDeath: buildingNoShockwaveOrSmoke

transportUnitsCanUnloadUnits: true
transportUnitsAddUnloadOption: false
transportUnitsRequireMovementType: AIR
transportUnitsRequireTag: 贝露浮游炮

maxTransportingUnits: 3
transportUnitsHealBy: 1

tags: units, 资源提取器, 贝露能源站
showActionsWithMixedSelectionIfOtherUnitsHaveTag:资源提取器

@global energySupply: 0
@memory 建造完成:boolean

@memory 魔力守护:boolean

[hiddenAction_能源供应]
autoTriggerOnEvent: completeAndActive
addResources: 能源供应=${energySupply}
setUnitMemory: 建造完成=true

[hiddenAction_供应增加]
#requireConditional: if not self.tags(includes="未连接")
addResources: 能源供应=1

[hiddenAction_供应减少]
#requireConditional: if not self.tags(includes="未连接")
addResources: 能源供应=-1


[hiddenAction_供应消失]
autoTriggerOnEvent: destroyed
addResources: 能源供应=-${energySupply}
requireConditional: if memory.建造完成==true and not self.tags(includes="未连接")

[hiddenAction_虚空]
requireConditional: if memory.建造完成==true

#[hiddenAction_未连接]
#autoTrigger: if numberOfUnitsInTeam(withTag="贝露佩欧鲁权杖", withinRange=360, lessThan=1) and memory.建造完成==true and not self.tags(includes="未连接")
#temporarilyAddTags: 未连接
#addResources: 能源供应=-${energySupply}, shield=-100

#[hiddenAction_失去庇护]
#autoTrigger: if self.tags(includes="未连接")
#addResources: shield=-100

#[hiddenAction_重新连接]
#autoTrigger: if numberOfUnitsInTeam(withTag="贝露佩欧鲁权杖", withinRange=360, greaterThan=0) and self.tags(includes="未连接")
#temporarilyRemoveTags: 未连接
#addResources: 能源供应=${energySupply}, shield=500


[hiddenAction_联系天束]
fireTurretXAtGround: 魔
fireTurretXAtGround_withProjectile: 束
spawnEffects: CUSTOM:光效

[hiddenAction_魔力守护]
autoTrigger: if (numberOfUnitsInTeam(withTag='魔力蔓延', greaterThan=9) and self.globalTeamTags(includes='苍色扩散') or numberOfUnitsInTeam(withTag='贝露佩欧鲁', greaterThan=0)) and memory.魔力守护!=true
setUnitMemory: 属性[28]=memory.属性[28]+3, 属性[25]=20, 魔力守护=true
alsoTriggerAction: 属性变化


[hiddenAction_秩序重构]
autoTrigger: if numberOfUnitsInTeam(withTag="教堂坦克", greaterThan=0)
convertTo: 暮光能源站T1
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setResourcesWithLogic: 苍蓝能量=0

[action_reclaim]
id: ${section.text}
text: 自我回收
description: -退还50%资金(${core.price * 0.5})
displayType: action
pos: -1
buildSpeed: 10s
ai_isDisabled: true
allowMultipleInQueue: false
addResources: credits=${core.price * 0.5}
setResourcesWithLogic: hp=-99999

[action_Upgrade]
displayType: upgrade
pos: 1

alsoTriggerAction: 供应增加, 属性变化

descriptionAddUnitStats: ${section.convertTo}
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[decal_苍圆]
onlyWhileAlive: true
layer: afterBody
imageScale: 1.2
image: 罩.png
color: #48EFFF
alpha: 0.16
yOffsetAbsolute: 2
basePositionFromLegEnd: arm_4

[decal_苍圆2]
@copyFromSection: decal_苍圆
layer: shadow
imageScale: 0.95
color: #2BCEFF
basePositionFromLegEnd: arm_5

[arm_4]
x: 0
y: 0
spinRate: 1

[arm_5]
x: 0
y: 0
spinRate: -1

[graphics]
total_frames: 1
imageScale: 1.06
image_wreak: NONE
drawLayer: bottom
image_back: 苍蓝底座.png
image_back_always_use_full_image: true
showTransportBar: false

[effect_苍方旋]
priority: high
attachedToUnit: true
drawUnderUnits: true
image: 方形.png
life: 36
scaleFrom: 1
scaleTo: 1
alpha: 1
fadeOut: false
dirSpeed: 2
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋2, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方浮]
@copyFromSection: effect_苍方旋
drawUnderUnits: false
life: 120
alpha: 2.5
dirSpeed: 2
dirSpeedRandom: 1
hSpeed: 1
#fadeInTime: 25
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_苍方旋2]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋3, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋3]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋4, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋4]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方旋5, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方旋5]
@copyFromSection: effect_苍方旋
alsoEmitEffectsOnDeath: CUSTOM:苍方浮, CUSTOM:苍方影, CUSTOM:苍方波

[effect_苍方影]
@copyFromSection: effect_苍方旋
alpha: 0.8
life: 100
dirSpeed: 1.75
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_苍方波]
@copyFromSection: effect_苍方旋
life: 50
scaleFrom: 0
scaleTo: 1
alpha: 1
alsoEmitEffectsOnDeath: NONE


[effect_苍方临]
@copyFromSection: effect_苍方旋
life: 36
scaleFrom: 2
scaleTo: 1
alpha: 2
fadeOut: true
alsoEmitEffectsOnDeath: NONE

[effect_苍临]
priority: critical
image: 白色光圈.png
life: 30
alpha: 2
scaleFrom: 0
scaleTo: 1
dirSpeed: 5
drawUnderUnits: true
color: #18FFFF



[global_resource_日耀]
displayName: 日耀
displayColor: #A0FF9500
priority: 0.3

[global_resource_月曜]
displayName: 月曜
displayColor: #A04060FF
priority: 0.3

[global_resource_能源供应]
hidden: false
displayName: 能源供应
displayColor: #33FFF1
priority: 0.9


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false
maxAttackRange: 0

[turret_魔]
x: 0
y: 0
canShoot: false
barrelHeight: 20
projectile: 束

shoot_flame: CUSTOM:阵法, CUSTOM:阵光

canAttackFlyingUnits: false
canAttackLandUnits: false

[projectile_束]
tags= T-projectile
directDamage: 0
life: 61

color: #99FFEE33
laserEffect: true

instant: true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true

explodeEffect: NONE
explodeEffectOnShield: NONE
targetGroundHeightOffset: 10000
spawnProjectilesOnCreate: 束光

[projectile_束光]
@copyFromSection: projectile_束
spawnProjectilesOnCreate: NONE
beamImage: 束光.png
beamImageOffsetRate: 1
color: #FFEE33

[effect_阵法]
priority: high
image: 阵法1.png
life: 61
drawUnderUnits:false
attachedToUnit:true
scaleFrom: 0.25
scaleTo: 0.25
alpha: 0.8
fadeOut: false

[effect_阵光]
priority: high
stripIndex: light_50
life: 60
drawUnderUnits:false
attachedToUnit:true
scaleFrom: 1
scaleTo: 1
alpha: 0.3
fadeOut: false

[effect_光效]
priority: high
stripIndex: light_50
life: 60
drawUnderUnits:false
attachedToUnit:true
scaleFrom: 1.5
scaleTo: 1.5
alpha: 0.5
color: #FFEE33
fadeOut: false

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
#ai adds extra rules for placeOnlyOnResPool type units

buildPriority: 1.0

recommendedInEachBasePriorityIfUnmet: 0.55
recommendedInEachBaseNum: 2

noneInBaseExtraPriority: 0.43

#noneGlobalExtraPriority: 0.3

maxEachBase: 99
ai_upgradePriority: 1

#for the other extractors copying this
upgradedFrom: 贝露能源站T1


