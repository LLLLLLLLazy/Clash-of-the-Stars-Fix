
[core]
name: 裂空迫击炮EX
displayText: 闪金炮冠 EX
displayDescription: -厚重装甲并带有防护盾 \n -发射巨型炮弹轰击陆地目标并分裂出弹片再弹射跟踪造成三次伤害 \n -建造完成时击退周围的地面单位

class: CustomUnitMetadata
price: 42000
maxHp: 5000
maxShield: 1800
shieldRegen: 0.08
mass: 10000
tags: units

footprint: 0,0,1,1
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 1
buildSpeed: 276s

radius: 16
#displayRadius: 25

isBio: false
isBuilding: true

[hiddenAction_created]
autoTrigger: if not self.hasFlag(id=1)
addResources: setFlag=1
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: magic

[turret_magic]
x: 0
y: 0
canShoot: false
invisible:true

size: 0

shoot_sound:cannon_firing
shoot_sound_vol:0.4

[projectile_magic]
targetGround: true

areaDamage: 0
areaRadius: 360
areaExpandTime: 20
life: 50
speed: 10

frame: 0
drawSize: 0

largeHitEffect:true

pushForce: 15.0
pushVelocity: 15.0

deflectionPower: -1

explodeEffect: 金波1, 金波2, 金波3, 金波4
spawnProjectilesOnExplode: 特效

[effect_金波1]
stripIndex: shockwave
life: 25
fadeOut: true
attachedToUnit: false
color: #FFF600
scaleFrom: 0.5
scaleTo: 14.5
alpha: 0.9
drawUnderUnits:true

[effect_金波2]
@copyFromSection: effect_金波1
life: 28

[effect_金波3]
@copyFromSection: effect_金波1
life: 31

[effect_金波4]
@copyFromSection: effect_金波1
life: 34

[graphics]
total_frames: 1

image:        裂空底座.png
image_wreak:  NONE
image_turret: 裂空迫击炮EX.png
teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:2

showEnergyBar: false

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 30
turretTurnSpeed: 2

maxAttackRange: 400
shootDelay: 2.41s

[turret_1]
x: 0
y: 6

turnSpeed: 2
turnSpeedAcceleration: 0.1

#image_drawOffsetY:12

shoot_sound:cannon_firing
shoot_sound_vol:0.5
shoot_flame: large, shockwave
shoot_light:#FFEECCCC

shouldResetTurret: false

projectile: 1

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 15

[projectile_1]
targetGround: true

areaDamage: 110
areaRadius: 80
life: 300
speed: 10

lightColor: #FAFAFA
frame: 0

#frame: 2

drawType: 2
drawSize: 1.2
color: #bebe50

largeHitEffect:true

targetGroundSpread: 20
#initialUnguidedSpeedHeight: 1.2
#gravity:0.18
#lightCastOnGround: true
deflectionPower: 10

trailEffect: CUSTOM:金
trailEffectRate: 1

spawnProjectilesOnExplode:2*16, 特效

[projectile_特效]
life: 50
speed: 5
areaDamage: 0
areaRadius: 0
drawSize: 0
targetGround:true
explodeEffect: CUSTOM:闪, CUSTOM:闪2*8

[projectile_2]
life: 120
speed: 6
areaDamage: 0
areaRadius: 40
largeHitEffect:true
image:弹片.png
drawSize: 1.0
targetGround:true
targetGroundSpread:100
spawnProjectilesOnExplode:2D, 3
[projectile_2D]
life: 0
invisible: true
areaDamage: 55
areaRadius: 80
explodeOnEndOfLife: true
explodeEffect: NONE
explodeEffectOnShield: NONE

[effect_金]
stripIndex: effects
frameIndex: 0
priority:low

life: 100
fadeOut: true
attachedToUnit: false
color: #FFF600
fadeInTime:3
hSpeed: 0.1
scaleFrom: 1.0
scaleTo: 1.4
alpha: 0.5
drawUnderUnits:false
xSpeedRelativeRandom:0.1

shadow: true
atmospheric: true

[effect_闪]
priority:high
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: false
color: #FFEE00
scaleFrom: 2.5
scaleTo: 2.0
alpha: 0.7
drawUnderUnits:false

[effect_闪2]
priority:high
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: false
color: #FFEE00
scaleFrom: 2.5
scaleTo: 0.5
alpha: 0.4
xSpeedRelativeRandom:0.4
ySpeedRelativeRandom:0.4
drawUnderUnits:false



[projectile_3]
life: 120
speed: 6
areaDamage: 0
areaRadius: 40
largeHitEffect:true
image:弹片.png
drawSize: 1.0
trailEffect: CUSTOM:闪2
trailEffectRate:2

autoTargetingOnDeadTarget: true
spawnProjectilesOnExplode:3D
[projectile_3D]
life: 0
invisible: true
areaDamage: 55
areaRadius: 80
explodeOnEndOfLife: true
explodeEffect: NONE
explodeEffectOnShield: NONE



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
upgradedFrom: 裂空迫击炮

buildPriority: 0.2
noneInBaseExtraPriority: 0.15

maxEachBase: 1




