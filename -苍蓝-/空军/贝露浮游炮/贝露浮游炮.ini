[core]
name: 贝露浮游炮
displayDescription: -对地对空射束 \n -对建筑伤害-25% \n-随时间消散
class: CustomUnitMetadata
price: 600
maxHp: 350
mass: 2000

tags: units, 贝露浮游炮

maxShield: 250
shieldRegen: 0.1

techLevel: 1
buildSpeed: 0.002

selfRegenRate: -0.2

radius: 10
displayRadius: 9
shieldRenderRadius: 10
softCollisionOnAll: 3

canNotBeGivenOrdersByPlayer: true

isUnrepairableUnit:	true

numBitsOnDeath: 0
explodeOnDeath: false
hideScorchMark: false

effectOnDeath: 波, 消失闪光*2

[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
spawnEffects: 波, 出现闪光*2

[hiddenAction_归位]
addWaypoint_type:loadinto
addWaypoint_target_randomUnit_tagged: 月曜能源站
autoTrigger:if not self.isAttacking

[hiddenAction_生命回复]
autoTrigger: if self.hasParent
addResources: hp=300, shield=250


[hiddenAction_附从攻击目标]
autoTriggerOnEvent: completeAndActive
autoTrigger: if self.attacking!=customTarget1.attacking and self.activeWaypointTarget!=customTarget1.attacking
addWaypoint_type: attack
addWaypoint_target_fromReference: customTarget1.attacking
addWaypoint_prepend: true

[graphics]
total_frames: 1
image: 浮游器.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

showHealthBar: false
showShieldBar: false

disableLowHpFire: true
disableLowHpSmoke: true

[arm_1]
x: 0
y: 0
image_end: 方形.png
image_end_shadow: SHADOW:方形.png

drawOverBody: true
spinRate: 1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

maxAttackRange: 160
shootDelay: 45

aimOffsetSpread: 0

isMelee: true
meleeEngangementDistance: 400

[turret_1]
x: 0
y: 0
invisible: true
canShoot: false

turnSpeed: 3
turnSpeedAcceleration: 0.5

[turret_2]
x: 0
y: 0
attachedTo: 1
slave: true

projectile: 1

shoot_sound: plasma_fire
shoot_sound_vol: 0.1
shoot_flame: CUSTOM:lightSlowFade, CUSTOM:星束

chargeEffectImage: 五芒星.png
warmup: 15

[projectile_1]
tags= T-projectile
directDamage: 12
life: 5

color: #90AAFFFF

buildingDamageMultiplier: 0.75

instant: true
beamImage: 激光1.png
beamImageEnd: SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
beamImageOffsetRate: 2

explodeEffect: CUSTOM:hitLightFlash

spawnProjectilesOnCreate: 1-2, 1-3, 1-4, 1-5

[projectile_1-2]
@copyFromSection: projectile_1
beamImage: 激光2.png

delayedStartTimer: 4

spawnProjectilesOnCreate: NONE

[projectile_1-3]
@copyFromSection: projectile_1-2
beamImage: 激光3.png

delayedStartTimer: 8

[projectile_1-4]
@copyFromSection: projectile_1-2
beamImage: 激光4.png

delayedStartTimer: 12

[projectile_1-5]
@copyFromSection: projectile_1-2
beamImage: 激光5.png

delayedStartTimer: 16


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 1
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true

[effect_hitLightFlash]
priority: low

image: SHARED:light_50.png
life: 5
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 0
alpha: 0.6
drawUnderUnits:false

[effect_星束]
priority: high
image: 五芒星.png
life: 20
fadeOut: false
attachedToUnit: false
scaleFrom: 1
scaleTo: 0
alpha: 0.9
dirSpeed: 15
dirOffset: -90
alwayStartDirAtZero: true

[effect_波]
stripIndex: shockwave
life: 45
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #63e6e8
scaleFrom: 0
scaleTo: 1.5
alpha: 2

[effect_消失闪光]
image: SHARED:light_50.png
life: 80
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.9
drawUnderUnits:false

[effect_出现闪光]
image: SHARED:light_50.png
life: 70
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.5
scaleTo: 1.0
alpha: 0.7
drawUnderUnits:false


[movement]
movementType: AIR
moveSpeed: 1.3
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.015

maxTurnSpeed: 3
turnAcceleration: 0.09

reverseSpeedPercentage: 1

targetHeight: 15
targetHeightDrift: 2

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir: 81
