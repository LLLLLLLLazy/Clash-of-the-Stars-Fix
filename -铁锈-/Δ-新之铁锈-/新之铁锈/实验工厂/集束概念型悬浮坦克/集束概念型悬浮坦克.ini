
[core]
name:Cluster_experimentalHoverTank
displayText:集束概念型悬浮坦克
displayDescription:-非常全副武装带屏蔽\n-可以攻击地面和空中单位\n-能在水上移动\n-能穿透目标的护甲
class:CustomUnitMetadata
price:51000
maxHp:5000
mass:80000
armour: 45
armourMinDamageToKeep: 0
tags: units, 悬浮坦克

#overrideAndReplace:experimentalHoverTank
#displayLocaleKey: experimentalHoverTank

builtFrom_1_name: A_experimentalLandFactory
builtFrom_1_pos:  3.1


transportSlotsNeeded: 9

techLevel:2
buildSpeed:0.00016

radius:31


isBio:false

softCollisionOnAll:0

selfRegenRate: 0.1

maxShield:8000
shieldRegen:0.5
shieldRenderRadius:	27

energyMax: 100
energyRegen: -0.05
energyStartingPercentage: 0


effectOnDeath:CUSTOM:shockwave

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[action_laser]
isActive: false
isVisible: true
text: 破裂贯穿
description: -持续攻击一个目标造成大量伤害
pos: 0.1
displayType: infoOnly
buildSpeed: 0s

autoTrigger: if self.ammo(greaterThan=1) and self.energy(empty=true)
addResources: ammo=-1

[action_empty]
isVisible: false

autoTriggerOnEvent: killedAnyUnit
addResources: energy=-100, ammo=-1

[action_屏蔽护障]
convertTo: Cluster_experimentalHoverTank[屏蔽护障]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: infoOnly
text: 概念屏蔽
description: -阻挡范围外的伤害\n-当范围内没有敌人目标时自动展开\n-如果护盾被击破则失去屏蔽
buildSpeed: 0s
pos: 0.2
autoTrigger: if self.shield(greaterThan=1000) and self.hp(full=true) and not self.isAttacking
isActive: false
isLocked: if not self.hp(full=true)
isLockedMessage: 主体受损……


[hiddenAction_destroyed]
autoTriggerOnEvent: destroyed
requireConditional: if numberOfUnitsInTeam(withTag='新之铁系统', greaterThan=0)
showMessageToPlayer: AI:我方'集束概念型悬浮坦克'已被击毁

[graphics]
drawLayer:experimentals

total_frames:1

image:experimental_hovertank.png
image_wreak:experimental_hovertank_dead.png
image_turret:experimental_hovertank_turret.png
image_shield:experimental_hovertank_shield.png
#scaleImagesTo:20
#scaleTurretImagesTo:9

image_shadow:AUTO
shadowOffsetX:4
shadowOffsetY:4

splastEffect:true
splastEffectReverse:true

[attack]
aimOffsetSpread:0

canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false

turretSize:12
turretTurnSpeed:2


maxAttackRange:190
shootDelay:0.01s

turretRotateWithBody:true



[turret_1]
#laser
x:0
y:0
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false

projectile:laser


canShoot:true



shoot_sound:NONE
shoot_flame:CUSTOM:chargeImage

recoilOffset:0
recoilOutTime:0
recoilReturnTime:0

resourceUsage: energy=-0.2

[turret_2]
invisible: true
x:0
y:0
copyFrom: 1
attachedTo: 1

projectile: 2

resourceUsage: ammo=-1, energy=99

[turret_3]
invisible: true
x:0
y:0
copyFrom: 2
attachedTo: 1

resourceUsage: ammo=1, energy=-99


[projectile_laser]
tags= T-projectile
directDamage:12
armourIgnoreAmount: 50
life:10

largeHitEffect:false

instant:true

laserEffect:true

instantReuseLast:true

color:#6F80AAFF

explodeEffect:CUSTOM:smoke, CUSTOM:circleImage
explodeEffectOnShield:CUSTOM:smoke, CUSTOM:circleImage

[projectile_2]
tags= T-projectile
directDamage:100
armourIgnoreAmount: 20
life:10

largeHitEffect:false

instant:true

laserEffect:true

instantReuseLast:true

color:#bebe50

explodeEffect:CUSTOM:smoke, CUSTOM:circleImage
explodeEffectOnShield:CUSTOM:smoke, CUSTOM:circleImage


[effect_chargeImage]
priority:critical
image:SHARED:lighting_charge.png
scaleTo:0.7
scaleFrom:0.7
alpha:0.3
life:10
attachedToUnit:true

[effect_circleImage]
priority:low
image:circle_50.png
scaleTo:0.35
scaleFrom:0.35
color:#0F80AAFF
life:10


[effect_shockwave]
stripIndex:shockwave_large
scaleFrom:0.2
scaleTo:2
life:45
color:#FFEECCCC

[effect_smoke]
priority:verylow

xOffsetAbsoluteRandom:4
yOffsetAbsoluteRandom:4

frameIndex:0
stripIndex:effects

spawnChance:0.3

life:90
fadeOut:true
attachedToUnit:false
fadeInTime:5
scaleFrom:0.3
scaleTo:0.8
alpha:0.5
drawUnderUnits:false
liveAfterAttachedDies:false
hSpeed:0.4
xSpeedAbsoluteRandom:0.3
ySpeedAbsoluteRandom:0.3
dirOffsetRandom:180
atmospheric:true



[movement]
movementType:HOVER
moveSpeed:0.6
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06

reverseSpeedPercentage: 1.0

targetHeight: 2.0
targetHeightDrift: 0.3

maxTurnSpeed: 1.6
turnAcceleration: 0.08

moveSlidingMode: true
moveIgnoringBody: true



