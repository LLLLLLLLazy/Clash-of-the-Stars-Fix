[core]
showInEditor: false

copyFrom: 毒刺.ini
name: 毒刺[亡灵]
displayText: 亡灵虫
displayDescription: -不甘的亡魂跟随狂猎之意重返人间

tags: units, 虫族, 亡灵虫, 不可治疗
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 亡灵虫

price: 10
@global corrode: 0

generation_resources: 腐蚀=-5

isUnrepairableUnit:	true
canNotBeGivenOrdersByPlayer: true

unitsSpawnedOnDeath: NONE

selfRegenRate: -0.01
disableDeathOnZeroHp: true


[hiddenAction_finish]
@copyFrom_skipThisSection:true


[hiddenAction_亡灵生成]
requireConditional: false

[hiddenAction_亡灵出现光]
autoTriggerOnEvent: completeAndActive
spawnEffects: 亡灵出现光*2, 亡灵狂猎之意

[effect_亡灵出现光]
priority: low
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #80FFFF
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.8
drawUnderUnits:false

[effect_亡灵消散雾]
priority: low
stripIndex: effects
frameIndex: 0
life: 60
fadeOut: true
attachedToUnit: false
color: #80FFFF
scaleFrom: 1.2
scaleTo: 1.2
alpha: 0.3
hSpeed: 0.5
xOffsetRelativeRandom:10
yOffsetRelativeRandom:18
xSpeedRelativeRandom:0.3
ySpeedRelativeRandom:0.3
dirOffsetRandom: 180
drawUnderUnits:false

[effect_亡灵遗像]
image: 毒刺[亡灵]静.png
life: 40
fadeOut: true
attachedToUnit: false
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits:false

[effect_亡灵狂猎之意]
image: ROOT:素材/light.png
life: 50
fadeOut: true
fadeInTime: 15
attachedToUnit: false
color: #80FFFF
scaleFrom: 0.8
scaleTo: 0.8
alpha: 1.0
hOffset: 35
hSpeed: 0.3
drawUnderUnits:false
alwayStartDirAtZero:true

[graphics]
image: 毒刺[亡灵].png
image_shadow: NONE

animation_idle_scale_start: 1
animation_idle_scale_end: 1

animation_attack_scale_start: 1
animation_attack_scale_end: 1

showEnergyBar:false
showHealthBar:false

movementEffect: CUSTOM:毒尘
movementEffectRate: 1

[effect_毒尘]
spawnChance: 0.4
priority: verylow
life: 80
attachedToUnit: false
image: 蓝植.png
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.5
dirOffsetRandom: 180
xOffsetRelativeRandom: 4
xSpeedRelativeRandom:0.2
ySpeedRelativeRandom:0.2
drawUnderUnits: true

[attack]
isMelee: true
meleeEngangementDistance: 99999
shootDelay: 120

[turret_1]
shoot_flame: 斩击, CUSTOM:shadow
shoot_light: #80FFFF
projectile: 2

recoilOffset: 12
recoilOutTime: 5
recoilReturnTime: 15

[turret_2]
@copyFrom_skipThisSection:true

[turret_3]
@copyFrom_skipThisSection:true

[projectile_1]
explodeEffect: 突闪, 剑光子*2, CUSTOM:explode, CUSTOM:shockwave
directDamage: 180
mutatorX_addResourcesDirectHit: 毒素=240

[effect_斩击]
priority:veryhigh

image: 斩击.png
life: 15
fadeOut: true
attachedToUnit: false
color: #80FFFF
scaleFrom: 2.0
scaleTo: 2.0
alpha: 1.0
dirOffset: 90
yOffsetRelative: 15
drawUnderUnits:false

total_frames: 5
animateFrameStart: 0
animateFrameEnd: 4
animateFrameSpeed: 0.3

[effect_shadow]
image: 毒刺残影[亡灵].png

[effect_explodeSmall]
color: #80FFFF

[effect_explode]
color: #80FFFF

[effect_shockwave]
color: #80FFFF

[effect_突闪]
color: #80FFFF

[effect_剑光子]
color: #80FFFF

[effect_剑光随]
color: #80FFFF


[action_低血删除]
spawnEffects:亡灵消散雾*3, 亡灵遗像
deleteSelf:true
isVisible:false
isActive: false
autoTrigger: if self.hp<5
displayType: infoOnly
buildSpeed: 0
pos: 0.1

[movement]
movementType: AIR
