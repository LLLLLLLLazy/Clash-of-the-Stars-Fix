
[core]
showInEditor: true
copyFrom:帝国剑士.ini
name:帝国剑士[旋刃]
displayText:帝国剑士

tags: ${tags}, 固定射击, 帝国剑士

fogOfWarSightRange: 18

[hiddenAction_exoskeleton]
autoTrigger: if self.hasParent(withTag="外骨骼装甲")
convertTo: 帝国剑士
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_finish]
autoTrigger: false
convertTo: 帝国剑士[飞跃]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnEffects:CUSTOM:dustL*5
alsoTriggerAction: 路径修正

[hiddenAction_路径定向]
autoTrigger: if self.hasActiveWaypoint(type='attack') and self.isAttacking
convertTo: 帝国剑士[旋刃定]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
addWaypoint_type: attack
addWaypoint_target_fromReference: attacking.getAsMarker
addWaypoint_maxTime: 1s
setUnitMemory: 属性[20]=0

[hiddenAction_路径修正]
requireConditional: if not self.hasActiveWaypoint(type='attack')
clearAllWaypoints: true
addWaypoint_type: move
addWaypoint_prepend: true
addWaypoint_position_relativeOffsetFromSelf: 0, 0
addWaypoint_maxTime: 0.1s
alsoTriggerAction: 路径寻敌

[hiddenAction_路径寻敌]
addWaypoint_type: attackMove
addWaypoint_position_relativeOffsetFromSelf: 0, 300
addWaypoint_maxTime: 1s

[action_熔化]
addResources: hp=-3

[effect_dustL]

life: 50
stripIndex: dust
frameIndex: 0
frameIndexRandom: 2
scaleFrom: 1.5
scaleTo: 1.9
alpha: 0.8
atmospheric:true
dirOffsetRandom:180
ySpeedRelative:-1.5
xSpeedRelativeRandom:0.3
ySpeedRelativeRandom:0.3
hSpeed:0.2
yOffsetRelative:-5
drawUnderUnits:true
attachedToUnit: false

[graphics]
animation_attack_start: 0
animation_attack_end: 0

[attack]
maxAttackRange: 300
canAttackLandUnits: if self.lastConverted(laterThanSeconds=0.08)
meleeEngangementDistance: 200
isFixedFiring: true
attackMovement: bomber

[turret_1]
canShoot: false

[turret_3]
canAttackCondition: true
