
[core]
name: 幽暗出场
price: 0
maxHp: 1
mass: 0
radius: 0
isBuilding: true

#隐藏单位本身
#showInEditor: false
fogOfWarSightRange: 10
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDamaged: true
canOnlyBeAttackedByUnitsWithTags: 不可被攻击

generation_credits: 5
generation_delay: 2

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

showOnMinimap: true

autoTriggerCooldownTime: 0.2s

[canBuild_1]
#避免开局判定失败
name:礼花
pos:100

[hiddenAction_created]
#autoTriggerOnEvent: completeAndActive
autoTrigger: if not self.hasFlag(id=1)
spawnEffects: CUSTOM:convergence, CUSTOM:convergence2
addResources: setFlag=1

[effect_convergence]
priority:veryhigh

image: 黑洞.png
life: 1200
fadeOut: false
fadeInTime: 100
attachedToUnit: true
#color: #360D70
scaleFrom: 0
scaleTo: 0.4
alpha: 1
dirSpeed: 20
drawUnderUnits:false

[effect_convergence2]
priority:veryhigh

image: 大黑洞.png
delayedStartTimer: 1200
life: 100
fadeOut: true
attachedToUnit: true
#color: #360D70
scaleFrom: 0.4
scaleTo: 0.8
alpha: 1
dirSpeed: 5
drawUnderUnits:false

[hiddenAction_create]
autoTrigger: if self.timeAlive(laterThanSeconds=20)
convertTo: 幽暗府邸
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
produceUnits: 虚空爬虫

[hiddenAction_whirlpool]
autoTrigger: true
spawnEffects: CUSTOM:whirlpool, CUSTOM:displacement

[effect_whirlpool]
image: wave3.png
life: 50
fadeInTime: 5
color: #360D70
scaleFrom: 4.0
scaleTo: 0
alpha: 0.9
dirSpeed: 10


[effect_displacement]
drawType: displacement

image: ripple.png
life: 50
fadeOut: true

attachedToUnit: false
color: #FFFFFF
scaleFrom: 4.0
scaleTo: 0
alpha: 0.3
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 0.5
delayedStartTimerRandom: 5
#spawnChance: 0.6

[graphics]
isVisible: false
image:   幽暗府邸.png
image_wreak: NONE
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true
showHealthBar: false

[attack]
canAttack: false



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0


