
[core]
showInEditor:false

name: 安特斯装甲[梦幻]
copyFrom: 安特斯装甲.ini

tags: units, 眠梦枕, 附件单位, 梦幻, 不会受伤

maxShield: 100

selfRegenRate: 0.8

energyRegen: -0.0167

canNotBeDamaged: true

[action_Upgrade]
isVisible: if self.numberOfAttachedUnits(withTag='梦幻', equalTo=1) and self.numberOfAttachedUnits(withTag='新铁安特斯')<1
isGuiBlinking: true
convertTo: 安特斯MkII
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 1500
id: 融合升级
tags=${section.id}
text: ${section.id}
description: -可在飞行与悬浮之间切换 \n -不错的攻击力与耐久 \n -拥有自动触发系统
displayType: upgrade
buildSpeed: 0.004
pos: 9
addResources: energy=12
whenBuilding_cannotMove: true
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #FFFFFF
highPriorityQueue: true
spawnEffects: 变身光*7
deleteNumUnitsFromTransport: 1
setUnitMemory: 属性[20]=0, 属性[24]=0

[effect_变身光]
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #ffffff
scaleFrom: 1.5
scaleTo: 1.2
alpha: 1.0
drawUnderUnits:false

[action_dreaming]
isActive: false

[hiddenAction_awaken]
autoTrigger: if self.energy(empty=true) or numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
convertTo: 安特斯装甲
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_falsity]
autoTrigger: if self.customTimer>=1
spawnEffects: CUSTOM:hitLightFlash*3, CUSTOM:shieldwave, CUSTOM:conceptshield
resetCustomTimer: true

[hiddenAction_cure]
autoTrigger: if self.numberOfAttachedUnits(greaterThan=0)
takeResources: hp=-2.4
takeResources_includeUnitsInTransport: true
takeResources_discardCollected: true

[hiddenAction_移动速度]
autoTrigger: if self.numberOfAttachedUnits(greaterThan=0) and attachment.maxMoveSpeed != memory.属性[7]
setUnitMemory: 属性[24]=attachment.readUnitMemory("属性", type='float', index=7) - ${movement.moveSpeed}
alsoTriggerAction: 属性变化


[attachment_1]
canAttack: false


[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 80
fadeOut: true
attachedToUnit: true
color: #FFFFFF

scaleFrom: 0.6
scaleTo: 1.2
alpha: 0.6
drawUnderUnits:false

atmospheric:true
xSpeedRelativeRandom:1.0
ySpeedRelativeRandom:1.0

[effect_shieldwave]
image: hit.png
life: 60
scaleFrom: 1.5
scaleTo: 1.5
alpha: 1.0
alsoPlaySound: laser_deflect

[effect_conceptshield]
image: C.png
life: 60
scaleFrom: 0.5
scaleTo: 0.5
alpha: 1.0


[movement]
moveSpeed: 1.4