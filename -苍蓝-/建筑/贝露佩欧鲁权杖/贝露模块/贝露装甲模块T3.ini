
[core]
name: 贝露装甲模块T3
displayText: T3 - 贝露装甲模块
copyFrom: common_slot.ini

displayDescription: -护盾屏蔽模块 \n -盾能存储 \n -小幅提升血盾恢复 \n -护盾受损时消耗能量快速回复护盾(1000/1s) \n -当护盾即将破损时推开敌军/CD:100s \n -每1能源供应提供25能量恢复/每秒

price: 19000

energyMax: 8000

autoTriggerCooldownTime: 6

tags: units, 贝露模块, 贝露装甲模块T3

[hiddenAction_regen]
autoTrigger: true
takeResources: shield=-5, hp=-3
takeResources_includeParent: true
takeResources_discardCollected: true

[hiddenAction_shield]
requireConditional: if not self.hasParent(withTag="贝露之眼")
autoTrigger: if not self.parent.shield(full=true) and self.energy(greaterThan=${regen})

#50 / 6 = 8.33 per tick

@define regen: 100
addResourcesWithLogic: energy=-min(parent.maxShield-parent.shield, ${regen})
takeResources: shield=-${regen}
takeResources_includeParent: true
takeResources_discardCollected: true

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: 3

[action_权能升级]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)
isVisible: if parent.numberOfAttachedUnits(withTag="永恒虚星")<1
buildSpeed: 300s
convertTo: 永恒虚星
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 苍蓝能量=35

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[graphics]
image: 苍影防护盾.png

