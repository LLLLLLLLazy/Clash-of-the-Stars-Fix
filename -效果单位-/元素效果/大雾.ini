
[core]
name: 大雾
maxHp:1
price: 0
mass: 0
displayDescription: -苍色魔力弥漫 \n -可减缓敌军行动 \n -遮挡视野

tags=magic, 大雾
techLevel: 1
buildSpeed: 3.33s
isBuilding: true

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 10

[hiddenAction_1]
autoTriggerOnEvent: completeAndActive
spawnEffects: CUSTOM:shockwave*2, CUSTOM:stripIndex, CUSTOM:projectileFlash

[hiddenAction_2]
autoTrigger: if self.resource.雾生成计时<=0
spawnEffects: CUSTOM:smoke*3, CUSTOM:fog*6
addResources: 雾生成计时=60

[hiddenAction_end]
autoTrigger: if self.timeAlive(laterThanSeconds=60)
deleteSelf: true

[hiddenAction_雾生成计时]
autoTrigger: if self.resource.雾生成计时>=0
addResources: 雾生成计时=-10

[resource_雾生成计时]
hidden: true


[template_提取目标]
takeResources_includeUnitsWithinRange: 512
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: units
takeResources_maxUnits: 9999

[hiddenAction_状态时间]
@copyFromSection: template_提取目标
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", greaterThan=0, withinRange=512)
takeResources: 大雾减速=-1
takeResources_excludeUnitsWithTheseResources: 大雾减速=2

[resource_大雾减速]
hidden: true

[graphics]
image: null.png
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: false


[effect_shockwave]
createWhenOffscreen: true
showInFog: true
image: airwave.png
priority: critical
color: #42f2f5
life: 30
alpha: 0.8
scaleFrom: 0
scaleTo: 10
dirOffsetRandom: 180
dirSpeedRandom: 5
atmospheric: true
xOffsetRelativeRandom: 32
yOffsetRelativeRandom: 32
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5

[effect_stripIndex]
createWhenOffscreen: true
showInFog: true
stripIndex: effects
frameIndex: 0
priority:critical

life: 3000
fadeOut: true
attachedToUnit: false
color: #42f2f5
fadeInTime: 50
dirSpeedRandom: 0.1
scaleFrom: 24.0
scaleTo: 32.0
alpha: 0.7
drawUnderUnits:false
#yOffsetRelative:-7
xOffsetRelativeRandom:350
yOffsetRelativeRandom:350
xSpeedRelativeRandom:0.1
ySpeedRelativeRandom:0.1

shadow: true

[effect_projectileFlash]
createWhenOffscreen: true
priority: critical
showInFog: true
image: SHARED:light_50.png
life: 60
color: #42f2f5
fadeInTime: 2
scaleFrom: 20
scaleTo: 10
alpha: 1


[effect_smoke]
priority: veryhigh
createWhenOffscreen: true
showInFog: true
image: SHARED:light_50.png

life: 800
color: #42f2f5
fadeInTime: 50
scaleFrom: 7
scaleTo: 7
alpha: 0.5
drawUnderUnits: false
hSpeed: -0.3
hOffset: 60
hOffsetRandom: 0.15

dirOffsetRandom: 180
dirSpeedRandom: 0.2
imageShadow: SHADOW:SHARED:light_50.png
xOffsetRelativeRandom: 512
yOffsetRelativeRandom: 512
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5
atmospheric: true

[effect_fog]
createWhenOffscreen: true
showInFog: true
priority: high
stripIndex: effects

life: 800
color: #42f2f5
fadeInTime: 60
scaleFrom: 16
scaleTo: 16
alpha: 0.5
drawUnderUnits: false
xSpeedAbsolute: -0.25
hSpeed: -0.4
hOffset: 80

dirOffsetRandom: 180
xOffsetRelativeRandom: 512
yOffsetRelativeRandom: 512
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5
atmospheric: true

[movement]
movementType: NONE
moveSpeed: 0


