[core]



name: 炮轰虫
maxHp: 1900
mass: 18000
price: 3400
radius: 19
softCollisionOnAll: 5
selfRegenRate: 0.1

buildSpeed: 23.8s
techLevel: 2
isBug: true
isBio: true
tags: units, 虫族, 中型虫, 转向攻击
maxTransportingUnits: 1
transportUnitsCanUnloadUnits: false
transportUnitsKeepBuiltUnits: true
transportUnitsRequireTag: 炮弹虫
displayDescription: -喷吐爆弹\n-跨越山岭\n-可装载1个炮弹虫将其发射

transportSlotsNeeded: 1

@memory 指定坐标:unit

[action_范围运输]
@copyFromSection: template_范围运输

[hiddenAction_运输路径]
@copyFromSection: template_运输路径

[decal_运输范围]
@copyFromSection: template_运输范围

[action_Upgrade]
convertTo: 危险流浪者
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 腐蚀=325
text: 腐蚀 - 危与
displayType: upgrade
buildSpeed: 21.7s
pos: 1
description: -连发危险烈爆弹-会危及友方单位\n-孕育炮弹虫\n-能够装载三个单位并将其发射出去
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0
isLocked: if self.globalTeamTags(includes='中刻{I}')
isLockedMessage: AI:停用低级腐蚀

[hiddenAction_腐蚀中]
autoTrigger: if self.queueSize(withActionTag="腐蚀")>0 and not self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=-${movement.moveSpeed}*0.6
alsoTriggerAction: 属性变化
temporarilyAddTags: 腐蚀中

[hiddenAction_腐蚀停止]
autoTrigger: if self.queueSize(withActionTag="腐蚀")<1 and self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=0
alsoTriggerAction: 属性变化
temporarilyRemoveTags: 腐蚀中

[hiddenAction_自动腐蚀]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-危险流浪者") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade
addResourcesWithLogic: ${action_Upgrade.price}*-1

[graphics]
image: 危险步行者jj.png
scaleImagesTo: 30
splastEffect: true
image_turret: NONE
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1
teamColorsOnTurret: true
lock_body_rotation_with_main_turret: true
[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
maxAttackRange: 220
shootDelay: 1.33s
isMelee: false
#isFixedFiring: true
turretTurnSpeed: 2.0
turretRotateWithBody: false
turretMultiTargeting: false
[turret_1]
x: 0
y: 0
invisible: true
projectile: 1

turnSpeedAcceleration: 0.1

shoot_sound: large_gun_fire2
shoot_sound_vol: 0.6
shoot_flame: smoke, CUSTOM:开火绿光

canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
canAttack: true

recoilOffset: -5
recoilOutTime: 1
recoilReturnTime: 20

barrelX: 0
barrelY: 20

[projectile_1]
tags= T-projectile
areaDamage: 190
areaRadius: 25
areaRadiusFromEdge: true
trailEffect: CUSTOM: fire
trailEffectRate: 4
largeHitEffect: true

life: 150
speed: 4
targetGround: true
#targetGroundSpread: 20
initialUnguidedSpeedHeight: 1.2
gravity: 0.1
frame: 6
drawSize: 1.6
lightColor: #000000
lightSize: 0.6
lightCastOnGround: true

unloadUpToXUnitsFromSource: 1

explodeEffect: CUSTOM:绿光
spawnProjectilesOnExplode: 爆炸效果

[projectile_爆炸效果]
tags= T-projectile
areaDamage: 0
areaRadius: 40
largeHitEffect: true
life: 0
explodeOnEndOfLife: true
explodeEffectOnShield: NONE

[effect_绿光]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime: 1
scaleFrom: 1.5
scaleTo: 0
alpha: 1.0
drawUnderUnits: false

[effect_开火绿光]
image: SHARED:light_50.png
life: 25
fadeOut: true
color: #AEFF00
scaleFrom: 0.5
scaleTo: 0.8
alpha: 0.6
drawUnderUnits: false
ySpeedRelative: -0.1

[effect_fire]
priority: high
image: 毒火焰.png
atmospheric: true
attachedToUnit: false
life: 30
fadeInTime: 3
color: #AEFF00
#xSpeedRelative: 0
xOffsetRelativeRandom: 5
yOffsetRelativeRandom: 5
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
dirOffsetRandom: 180
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFramePingPong: true
animateFrameSpeed: 0.5
animateFrameSpeedRandom: 0.1

[turret_skill]
x: 0
y: 0
invisible: true
canShoot: false
limitingRange: 9999

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.6
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.03
maxTurnSpeed: 5
turnAcceleration: 0.5
reverseSpeedPercentage: 0.95
[leg_1]
x: 6
y: 9
attach_x: 2
attach_y: 1
moveSpeed: 2.5
moveWarmUp: 1
rotateSpeed: 30
heightSpeed: 0.5
resetAngle: 1
image_leg: 小小小小脚脚.png
image_foot: 啥也不是.png
dust_effect: true
holdDisMin: 0.1
holdDisMax: 0.1
estimatingPositionMultiplier: 0.5
[leg_2]
x: -6
y: 9
attach_x: -2
attach_y: 1
copyFrom: 1
[leg_3]
x: -6
y: -3
attach_x: -2
attach_y: -1
copyFrom: 1
[leg_4]
x: 6
y: -3
attach_x: 2
attach_y: -1
copyFrom: 1


[hiddenAction_AI集群进攻]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 电盘虫
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasActiveWaypoint(type='guard') and not self.isAttacking and self.globalTeamTags(includes='中刻{I}')