[core]
name: 幻影猎手[幻]
copyFrom: 幻影猎手.ini
showInEditor: false

armour:	600
armourMinDamageToKeep: 0

disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
canNotBeDamaged: false

fogOfWarSightRange:15

autoTriggerCooldownTime:0.001s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[hiddenAction_滞]
autoTrigger: if self.hasFlag(id=1)
convertTo: 幻影猎手[滞]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield

[hiddenAction_散]
autoTrigger: if self.hasFlag(id=1) and numberOfUnitsInAggressiveTeam(withTag='幻杀阵',greaterThan=0,withinRange=20)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: -100,100
fireTurretXAtGround_withProjectile: 3
addResources: unsetFlag=1
convertTo: 幻影猎手[幻]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield

[hiddenAction_正]
autoTrigger: if numberOfUnitsInAggressiveTeam(withTag='幻杀阵', lessThan=1, withinRange=400) and self.lastConverted(laterThanSeconds=0.1)
convertTo: 幻影猎手
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield

[hiddenAction_幻闪]
autoTrigger: false

[attack]
maxAttackRange: 500
shootDelay: 0.01s
attackMovement: normal
canOnlyAttackUnitsWithTags: 幻杀阵
isFixedFiring: true
[turret_1]
x: 0
y: 0
canShoot:false
attachedTo: 2
slave: true

[turret_2]
x: 0
y: 0
turnSpeed:999
canAttackMaxAngle:181
invisible: true
projectile:2
shoot_sound: lighting_burst
shoot_sound_vol: 0.2
shoot_flame:CUSTOM:残影
delay: 0.1s
shoot_light: #ffffff
#canAttackCondition: if not numberOfUnitsInAggressiveTeam(withTag='幻杀阵',greaterThan=0,withinRange=20)
resourceUsage: setFlag=1
[projectile_幻]
tags= T-projectile
explodeOnEndOfLife: true
areaDamage: 100
areaRadius:	40
life:0
explodeEffect:CUSTOM:残影
explodeEffectOnShield:CUSTOM:残影
spawnProjectilesOnCreate:幻(recursionLimit=9,yOffsetRelative=30)
[projectile_2]
tags= T-projectile
areaDamage: 10
areaRadius:	210
life:30
instant:true
teleportSource:true
explodeEffect:CUSTOM:lightningShock
explodeEffectOnShield:CUSTOM:lightningShock
laserEffect:true
color:#000000
spawnProjectilesOnCreate:幻
[projectile_3]
tags= T-projectile
areaDamage: 0
life:30
instant:true
teleportSource:true
explodeEffect:CUSTOM:lightningShock
explodeEffectOnShield:CUSTOM:lightningShock
laserEffect:true
color:#000000
spawnProjectilesOnCreate:幻

[effect_残影]
life: 20

[movement]
movementType: air
moveSpeed: 0

maxTurnSpeed: 999
turnAcceleration: 999

moveSlidingMode :true
moveIgnoringBody:true
