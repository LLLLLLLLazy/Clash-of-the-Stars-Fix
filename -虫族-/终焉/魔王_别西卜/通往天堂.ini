
[core]
name: 通往天堂
displayText: 别西卜
maxHp:1
price: 0
mass: 0

tags=通往天堂, 虚无
techLevel: 1
buildSpeed: 3.33s
selfBuildRate: 1

isBuilding:true

energyMax: 1

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

[action_kill]
autoTrigger: if self.timeAlive(laterThanSeconds=10)
spawnUnits: 别西卜(addResources=setFlag:1)
deleteSelf: true
spawnEffects: 疫命神烁闪, 疫命神烁2闪, 疫命神烁3闪

[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
showMessageToAllPlayers: "此人赶鬼,无非是靠着鬼王别西卜啊!"
playSoundAtUnit: CrabulonSporeGasLoop.ogg
spawnEffects: CUSTOM:毒雾*2, 疫命神晕

[hiddenAction_2]
autoTrigger: if self.timeAlive(laterThanSeconds=3) and not self.tags(includes='出场音1')
playSoundAtUnit: CrabulonSporeGasLoop.ogg
temporarilyAddTags: 出场音1

[hiddenAction_3]
autoTrigger: if self.timeAlive(laterThanSeconds=6) and not self.tags(includes='出场音2')
playSoundAtUnit: CrabulonSporeGasLoop.ogg:0.6
temporarilyAddTags: 出场音2


[action_接引处]
autoTrigger: if self.isEnergyFull()
addResources: energy=-1
produceUnits: 接引处
isVisible: false

[graphics]
image:        null.png
image_wreak: NONE
image_turret:NONE
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[decal_胎影]
layer: onTop
image: 别西卜胎影.png
alpha: 0.8 * (self.timeAlive/10)
total_frames: 2
frame: cos( ((self.timeAlive % 0.1) / 0.1) * 360) * 2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 1000

maxAttackRange: 50
shootDelay: 20

canOnlyAttackUnitsWithTags: 接引处

[turret_1]
x: 0
y: 0
barrelHeight: 2000

[projectile_beam]
#AA式光束
life: 30

instant:true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true
instantReuseLast_keepAreaDamageList: false

beamImage:      StreakMagma.png
beamImageEnd:  NONE
beamImageStart: NONE
beamImageOffsetRate: 5

drawSize: 5

directDamage: 0

alwaysVisibleInFog: true

shouldRevealFog:true

color: #32AEFF00

#laserEffect: true

explodeEffect: NONE

spawnProjectilesOnCreate: beam2, beam3, beam4, beam4(offsetRandomXY=1200)

[projectile_beam2]
@copyFromSection: projectile_beam
spawnProjectilesOnCreate: NONE
beamImage:      ScarletDevilStreak.png
beamImageEnd:  点疫雾.png
beamImageStart: 模糊永恒条纹.png
beamImageOffsetRate: 7
explodeEffect: CUSTOM:毒雾*1, 毒雾远, 天毒雾, 疫命神烁, 疫命神烁2, 疫命神烁3, 疫命神晕, 疫命神晕2, 疫命神烁曲, 疫命神烁曲2, 疫命神烁曲3, 妄疫云

[projectile_beam3]
@copyFromSection: projectile_beam
spawnProjectilesOnCreate: NONE
beamImage:      Streak2.png
beamImageStart: 六边形.png
beamImageOffsetRate: 3

[projectile_beam4]
@copyFromSection: projectile_beam
life: 60
spawnProjectilesOnCreate: NONE
beamImage:      StreakFire.png
beamImageEnd:  点疫雾.png
beamImageStart: beam1_start.png
beamImageOffsetRate: 10
color: #64AEFF00
spawnProjectilesOnEndOfLife: beam4_2(recursionLimit=9)

[projectile_beam4_2]
@copyFromSection: projectile_beam4
life: 6
beamImage:      StreakFire_2.png
spawnProjectilesOnEndOfLife: beam4_3(recursionLimit=9)

[projectile_beam4_3]
@copyFromSection: projectile_beam4_2
beamImage:      StreakFire_3.png
spawnProjectilesOnEndOfLife: beam4_4(recursionLimit=9)

[projectile_beam4_4]
@copyFromSection: projectile_beam4_2
beamImage:      StreakFire_4.png
spawnProjectilesOnEndOfLife: beam4_5(recursionLimit=9)

[projectile_beam4_5]
@copyFromSection: projectile_beam4_2
beamImage:      StreakFire_5.png
spawnProjectilesOnEndOfLife: beam4_6(recursionLimit=9)

[projectile_beam4_6]
@copyFromSection: projectile_beam4_2
beamImage:      StreakFire_6.png
spawnProjectilesOnEndOfLife: NONE


[effect_毒雾]
priority: veryhigh
life: 1500
fadeOut: true
attachedToUnit: false
image: 模糊闪雾.png
color: #AEFF00
fadeInTime: 20
scaleFrom: 1
scaleTo: 1.4
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
#atmospheric:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 1.2
ySpeedAbsoluteRandom: 1.2
xOffsetRelativeRandom: 100
yOffsetRelativeRandom: 100

[effect_毒雾远]
@copyFromSection: effect_毒雾
life: 1000
alpha: 0.4
xSpeedAbsoluteRandom: 4
ySpeedAbsoluteRandom: 4

[effect_天毒雾]
@copyFromSection: effect_毒雾
life: 400
fadeInTime: 40
scaleFrom: 0.1
alpha: 0.4
physics: true
physicsGravity: 0.3
hOffset: 2000
hSpeed: -0.3
xSpeedAbsoluteRandom: 2
ySpeedAbsoluteRandom: 2

[effect_疫命神烁]
priority: veryhigh
createWhenOffscreen: true
showInFog: true
life: 120
lifeRandom: 50
fadeOut: true
attachedToUnit: false
image: 模糊神经元胞.png
color: #AEFF00
fadeInTime: 30
scaleFrom: 12
scaleTo: 18
alpha: 0.1
drawUnderUnits: false

dirOffsetRandom: 180
dirSpeedRandom: 0.5
xSpeedAbsoluteRandom: 3
ySpeedAbsoluteRandom: 3

delayedStartTimerRandom: 20
spawnChance: 0.5

[effect_疫命神烁2]
@copyFromSection: effect_疫命神烁
image: 模糊神经元胞2.png
scaleFrom: 16
scaleTo: 11

[effect_疫命神烁3]
@copyFromSection: effect_疫命神烁
image: 模糊永恒条纹.png
life: 240
scaleFrom: 13
scaleTo: 19

[template_烁闪]
life: 40
lifeRandom: 0
fadeInTime: 0
fadeOut: true
alpha: 0.15
spawnChance: 1

[effect_疫命神烁闪]
@copyFromSection: effect_疫命神烁, template_烁闪
scaleTo: 12.5

[effect_疫命神烁2闪]
@copyFromSection: effect_疫命神烁2, template_烁闪
scaleTo: 15.5

[effect_疫命神烁3闪]
@copyFromSection: effect_疫命神烁3, template_烁闪
scaleTo: 13.5

[effect_疫命神晕]
@copyFromSection: effect_疫命神烁
image: Corona.png
scaleFrom: 15
scaleTo: 11

[effect_疫命神晕2]
@copyFromSection: effect_疫命神晕
scaleFrom: 3
scaleTo: 5

[effect_疫命神烁曲]
@copyFromSection: effect_疫命神烁
drawType: displacement

[effect_疫命神烁曲2]
@copyFromSection: effect_疫命神烁2
drawType: displacement

[effect_疫命神烁曲3]
@copyFromSection: effect_疫命神烁3
drawType: displacement
color: #FFFFFF

[effect_妄疫云]
priority: veryhigh
createWhenOffscreen: true
showInFog: true
life: 1000
lifeRandom: 500
fadeOut: true
attachedToUnit: false
image: 云圈.png
color: #AEFF00
fadeInTime: 30
scaleFrom: 0
scaleTo: 50
alpha: 0.1
drawUnderUnits: false

dirOffsetRandom: 180
dirSpeedRandom: 0.1
xSpeedAbsoluteRandom: 3
ySpeedAbsoluteRandom: 3

delayedStartTimerRandom: 60
spawnChance: 0.6

[movement]
movementType: NONE
moveSpeed: 0