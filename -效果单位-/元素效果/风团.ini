
[core]
name: 风团
displayDescription: -大范围10次击退
class: CustomUnitMetadata
price: 0
maxHp: 1
mass: 999999

tags=magic


techLevel: 1
buildSpeed: 3.33s

energyMax: 1

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
showOnMinimap: false
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable: true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true


autoTriggerCooldownTime: 6

[hiddenAction_元素触发]
autoTrigger: if not numberOfUnitsInTeam(greaterThan=0, withTag='火花', withinRange=80)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: wind
addResources: energy=-0.1

takeResources: hp=1
takeResources_includeUnitsWithinRange: 200
takeResources_excludeUnitsWithoutTags: 潮湿
takeResources_maxUnits: 10

[action_元素扩散]
text: 元素反应
description: 与火花Z1.5~2相遇时释放大范围火焰扩散
displayType: infoOnly
pos: 0
isActive: false
autoTrigger: if numberOfUnitsInTeam(greaterThan=0, withTag='火花Z1.5', withinRange=160)

takeResources: hp=1
takeResources_includeUnitsWithinRange: 160
takeResources_excludeUnitsWithoutTags: 火花Z1.5
takeResources_maxUnits: 1

fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround_withProjectile: flameWind

spawnUnits: 火花Z1.5*3(offsetRandomXY=160)
addResources: energy=-0.1

[hiddenAction_元素扩散2]
@copyFromSection: action_元素扩散
autoTrigger: if numberOfUnitsInTeam(greaterThan=0, withTag='火花Z2', withinRange=160)

takeResources: hp=0.2
takeResources_excludeUnitsWithoutTags: 火花Z2

[action_kill]
autoTrigger: if self.energy(empty=true)
deleteSelf: true
isVisible: false

[graphics]
total_frames: 1
image:        null.png

disableLowHpSmoke: true

[attack]
canAttack: false

[turret_1]
x: 0
y: 0
canShoot: false

[projectile_wind]
areaDamage: 2
areaRadius: 200
areaExpandTime: 80
life: 0
speed: 0
largeHitEffect:true
areaHitAirAndLandAtSameTime: true
drawUnderUnits: true
pushForce: 500
pushVelocity: 1
deflectionPower: -1
explodeOnEndOfLife: true
explodeEffect: CUSTOM:windwave

[projectile_flameWind]
@copyFromSection: projectile_wind
areaDamage: 10
explodeEffect: CUSTOM:flameWindwave, CUSTOM:lightSlowFade*4

[effect_windwave]
stripIndex: shockwave_large
life: 80
scaleFrom: 0
scaleTo: 5
alpha: 0.9
dirSpeed: -5

[effect_flameWindwave]
@copyFromSection: effect_windwave
color: #FFB780

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: true
color: #ff9224
scaleFrom: 1.5
scaleTo: 1
alpha: 0.6
delayedStartTimer: 30
xOffsetRelativeRandom: 160
yOffsetRelativeRandom: 160

[movement]
movementType: AIR
moveSpeed: 0
moveAccelerationSpeed: 0.0
moveDecelerationSpeed: 0.0
targetHeight:-1
