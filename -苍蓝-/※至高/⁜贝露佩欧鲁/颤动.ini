[core]
name:地壳颤动
class: CustomUnitMetadata
price:0
maxHp: 0
armour:0
mass:3000
techLevel:1
buildSpeed:1
radius: -10
displayRadius: -10
isBuilding:false
numBitsOnDeath:8
isBio:false
isUnselectable:true
disableAllUnitCollisions:true
canOnlyBeAttackedByUnitsWithTags:alk
explodeOnDeath:true
isUnrepairableUnit:true
showInEditor:false
showOnMinimap:false
disableDeathOnZeroHp:true
autoTriggerCooldownTime: 0.05s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[graphics]
drawLayer:bottom
total_frames:1
imageScale:0.5
image:SHARED:blank.png
image_wreak:NONE
image_turret:SHARED:blank.png
image_shadow:NONE
disableLowHpFire:true
disableLowHpSmoke:true
showHealthBar:false
showEnergyBar:false
icon_zoomed_out:SHARED:blank.png

[attack]
canAttack:false
canAttackFlyingUnits: false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
turretSize: 0
aimOffsetSpread: -0.01
turretTurnSpeed: 100
shootDelay:0.1
maxAttackRange:30

[movement]
movementType:LAND
moveSpeed: 0
moveAccelerationSpeed: 0.00001
moveDecelerationSpeed: 0.00001
maxTurnSpeed: 0
turnAcceleration: 0.00001
moveSlidingMode :false
moveIgnoringBody:false
targetHeight:0
startingHeightOffset:0

[hiddenAction_I]
autoTrigger:if self.timeAlive(laterThanSeconds=8)
deleteSelf:true

[hiddenAction_II]
autoTrigger:if self.numberOfUnitsInTeam(withTag='乌云密布',lessThan=1)
fireTurretXAtGround:1

[hiddenAction_III]
autoTrigger:if self.numberOfUnitsInTeam(withTag='乌云密布',greaterThan=0) and (self.isInWater or numberOfUnitsInAllTeams(withTag="沉渊之海")>0)
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:海啸

[hiddenAction_IV]
autoTrigger:if self.numberOfUnitsInTeam(withTag='乌云密布',greaterThan=0) and not self.isInWater and numberOfUnitsInAllTeams(withTag="沉渊之海")<1
fireTurretXAtGround:1

[turret_1]
x:0
y:0
image:SHARED:blank.png
turnSpeed:0
projectile:颤动
canShoot:false
canAttackFlyingUnits:true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

[projectile_颤动]
areaDamage: 25
areaRadius: 330
life:0
speed:0
drawSize:0
image:SHARED:blank.png
buildingDamageMultiplier:10.0
areaExpandTime:5
areaDamageNoFalloff:true
deflectionPower: -1
targetGround:true
targetGroundSpread:17
explodeEffect:CUSTOM:颤动,CUSTOM:颤动2,CUSTOM:what,CUSTOM:onlyAudio,CUSTOM:dust,CUSTOM:spray
explodeEffectOnShield:CUSTOM:颤动,CUSTOM:颤动2,CUSTOM:what,CUSTOM:onlyAudio,CUSTOM:dust,CUSTOM:spray
explodeOnEndOfLife:true
pushVelocity:0.5
pushForce:0.5

[projectile_海啸]
areaDamage: 125
areaRadius: 330
life:0
speed:0
drawSize:0
image:SHARED:blank.png
buildingDamageMultiplier:1.5
areaExpandTime:5
areaDamageNoFalloff:true
deflectionPower: -1
targetGround:true
targetGroundSpread:17
explodeEffect:CUSTOM:海啸,CUSTOM:what,CUSTOM:spray,CUSTOM:onlyAudio2
explodeEffectOnShield:CUSTOM:海啸,CUSTOM:what,CUSTOM:spray,CUSTOM:onlyAudio2
explodeOnEndOfLife:true
pushVelocity:0.5
pushForce:0.5
areaHitUnderwaterAlways:true

[effect_颤动]
drawType: displacement
priority: high
life:10
image:颤动.png
scaleFrom: 3.0
scaleTo: 2.0
alpha: 0.8
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false

[effect_海啸]
priority:veryhigh
drawType: displacement
image: SHARED:ripple_normal_128.png
life: 30
drawUnderUnits:true
delayedStartTimer: 0
attachedToUnit: true
scaleFrom:6
scaleTo: 9
alpha:0.9
hOffset:0
dirSpeedRandom:2.0
dirOffsetRandom: 180

[effect_颤动2]
priority: high
life:10
image:颤动.png
scaleFrom: 3.0
scaleTo: 3.0
alpha: 0.8
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false

[effect_what]
drawType: displacement
image:what.png
life:20
fadeOut:true
attachedToUnit: true
scaleFrom:100
scaleTo:100
alpha:0.05
drawUnderUnits:false
alwayStartDirAtZero: true
total_frames: 2
animateFrameStart: 0
animateFrameEnd:1
animateFrameSpeed: 0.4

[effect_onlyAudio]
image:SHARED:blank.png
life:0
fadeOut:true
attachedToUnit: true
scaleFrom:0
scaleTo:0
alpha:0.01
drawUnderUnits:false
alwayStartDirAtZero: true
alsoPlaySound:地壳颤动.ogg:0.15
spawnChance:0.3

[effect_onlyAudio2]
image:SHARED:blank.png
life:0
fadeOut:true
attachedToUnit: true
scaleFrom:0
scaleTo:0
alpha:0.01
drawUnderUnits:false
alwayStartDirAtZero: true
alsoPlaySound:海啸.ogg:0.15
spawnChance:0.3

[effect_dust]
priority: high
life:90
lifeRandom: 25
image:dust.png
scaleFrom: 2.0
scaleTo: 3.0
alpha: 0.8
hSpeed: 0.5
hSpeedRandom: 0.8
ySpeedRelativeRandom: 0.4
xSpeedRelativeRandom: 0.4
xOffsetRelativeRandom:300
yOffsetRelativeRandom:300
createWhenOverLand: true
createWhenOverLiquid: false
imageShadow: SHADOW:spray.png
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false
trailEffect:CUSTOM:dust2
trailEffectRate:2.5
spawnChance:0.7

[effect_dust2]
priority: high
life: 30
lifeRandom:15
image:dust.png
scaleFrom: 2.0
scaleTo: 3.0
physics: true
physicsGravity: 0.4
alpha: 0.8
createWhenOverLand: true
createWhenOverLiquid:false
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false
spawnChance:0.3

[effect_spray]
priority: high
life:90
lifeRandom: 25
image:spray.png
scaleFrom: 2.0
scaleTo: 3.0
physics: true
physicsGravity: 0.4
alpha: 0.8
hSpeed: 1.8
hSpeedRandom: 0.8
ySpeedRelativeRandom: 0.4
xSpeedRelativeRandom: 0.4
xOffsetRelativeRandom:300
yOffsetRelativeRandom:300
createWhenOverLand: false
createWhenOverLiquid: true
imageShadow: SHADOW:spray.png
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits: false
trailEffect:CUSTOM:spray2
trailEffectRate:2.5
spawnChance:0.7

[effect_spray2]
priority: high
life: 30
lifeRandom: 15
image:spray.png
scaleFrom: 2.0
scaleTo: 3.0
physics: true
physicsGravity: 0.4
alpha: 0.8
createWhenOverLand: false
createWhenOverLiquid: true
dirOffsetRandom: 180
attachedToUnit: false
drawUnderUnits:false
spawnChance:0.3
