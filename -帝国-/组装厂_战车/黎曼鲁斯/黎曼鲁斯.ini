
[core]
name: 黎曼鲁斯
tags: units, 黎曼鲁斯, 坦克, 步兵载体, 移动工厂单位
maxHp: 6000
mass: 90000
price: 24000

radius: 40
displayRadius: 45
softCollisionOnAll: 5

techLevel: 2
experimental: true

armour: 7
armourMinDamageToKeep: 7

buildSpeed: 0.0002

generation_credits: 6

displayDescription:-全副武装\n-攻击地面单位\n-可越过山坡\n-暗能引力炮\n-移动堡垒,产出并搭载士兵\n-在命中处产生引力黑洞\n-有小概率造成暴击产生强化黑洞\n-被激光拦截后仅会损失部分伤害\n-装载的前三位步兵可辅助其攻击\n-6倍生产速度\n-自我修复

transportSlotsNeeded: 6

fogOfWarSightRange: 22

selfRegenRate: 0.2

nanoFactorySpeed: 6

maxTransportingUnits: 10
transportUnitsKeepBuiltUnits: true
transportUnitsRequireTag: 步兵
transportUnitsUnloadDelayBetweenEachUnit: 7
transportUnitsBlockAirAndWaterUnits: false

transportUnitsCanUnloadUnits: true

numBitsOnDeath: 20
explodeTypeOnDeath: large
effectOnDeath: CUSTOM:shockwave_large

exit_y: 30
exit_dirOffset: 180

[graphics]
image: 黎曼鲁斯车体.png
image_wreak: 黎曼鲁斯残骸.png
image_turret: 黎曼鲁斯炮塔.png
image_shield: 啥都也不是.png

scaleImagesTo: 70
#scaleTurretImagesTo: 40

teamColorsOnTurret: true

total_frames: 3
animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2

dustEffect: true

image_shadow: AUTO
shadowOffsetX: 4
shadowOffsetY: 4

[action_自动卸载]
text: [ 自动卸载:关 ]
description: -开启后可在生产时自动卸载第三位之后的步兵
iconImage: SHARED:icon_off.png

isVisible: if not self.hasFlag(id=1)
addResources: setFlag=1
displayType: action

pos: 3
buildSpeed: 0.5s
canPlayerCancel: false
allowMultipleInQueue: false
highPriorityQueue: true
alwaysSinglePress: true

extraLagHidingInUI: true

[action_自动卸载开]
@copyFromSection: action_自动卸载
text: [ 自动卸载:开 ]
iconImage: SHARED:icon_on.png

isVisible: if self.hasFlag(id=1)
addResources: unsetFlag=1

[hiddenAction_生产自动卸载]
autoTriggerOnEvent: queuedUnitFinished
requireConditional: if self.transportingCount > 2 and self.hasFlag(id=1)
forceUnloadTransportNow: true
forceUnloadTransportNow_onlyOnSlot: 3


[canBuild_1]
name: 帝国士兵, 再生战士, 帝国掷弹兵, 帝国机枪兵, 帝国狙击手, 帝国防空兵, 帝国毒气兵, 帝国战卫军, 光粒步兵, 帝国蜂火兵[飞行], 青蛙步兵, 武装防空兵, 帝国导弹兵, 爆破师, 装甲猎手[伏击]
pos:  30

[attachment_1]
x: 9
y: 31
isVisible: false
isUnselectable: true
canAttack: true
addTransportedUnits: true
canBeAttackedAndDamaged: false

[attachment_2]
x: 10
y: 31
isVisible: false
isUnselectable: true
canAttack: true
addTransportedUnits: true
canBeAttackedAndDamaged: false

[attachment_3]
x: 11
y: 31
isVisible: false
isUnselectable: true
canAttack: true
addTransportedUnits: true
canBeAttackedAndDamaged: false

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false

maxAttackRange: 270
shootDelay: 180

aimOffsetSpread: 0

turretMultiTargeting: true

[turret_2]
x: 0
y: 40
barrelX: 0
barrelY: 20
attachedTo: 1
slave: true

projectile: 1

image: 黎曼鲁斯炮管.png
shoot_sound: large_gun_fire1
shoot_sound_vol: 0.5
shoot_flame: CUSTOM:散华*8, CUSTOM:散煌1*3, CUSTOM:散煌2*3

warmupStartEffect: CUSTOM:warmup
warmup: 15

recoilOffset: -5
recoilOutTime: 5
recoilReturnTime: 40

[turret_1]
x: 0
y: 5

canShoot: false

turnSpeed: 2
turnSpeedAcceleration: 0.18
turnSpeedDeceleration: 0.35

recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 40

[turret_1-A]
#显示额外伤害数据
x: 0
y: 0
invisible: true
canAttackCondition:	false
projectile: 1伤
warmup: 15

[turret_引力黑洞]
#显示额外伤害数据
x: 0
y: 0
invisible: true
canAttackCondition:	false
projectile: 4
delay: 6

[projectile_1伤]
tags= T-projectile
areaDamage: 600
areaRadius: 45
areaRadiusFromEdge: true
life: 50
speed: 5
invisible: true
deflectionPower: 3
effectOnCreate: CUSTOM:黑烁光
explodeEffect: CUSTOM:lightningShock, CUSTOM:黑烁光闪
explodeEffectOnShield: CUSTOM:lightningShock, CUSTOM:黑烁光闪

[projectile_1]
tags= T-projectile
areaDamage: 0
areaRadius: 0
areaIgnoreUnitsCloserThan: 1
life: 5
speed: 5
frame: 4
drawType: 2
color: #000000
lightColor: #B4FFEDED
lightSize: 0.6
drawSize: 1.2
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 0.6
effectOnCreate: CUSTOM:散煌3, CUSTOM:散煌4, CUSTOM:projectileLight
spawnProjectilesOnCreate: 1伤(recursionLimit=1, yOffsetRelative=8)
spawnProjectilesOnEndOfLife: 1(recursionLimit=10), 2(recursionLimit=99, offsetDir=90, offsetRandomDir=15), 2(recursionLimit=99, offsetDir=-90, offsetRandomDir=15)
spawnProjectilesOnExplode: 3(recursionLimit=99, yOffsetRelative=-3), 爆炸效果(recursionLimit=99), 4(recursionLimit=99)
explodeEffect: CUSTOM:shockwave, CUSTOM:散华*3
explodeEffectOnShield: CUSTOM:shockwave, CUSTOM:hitLightFlash

[projectile_2]
tags= T-projectile
directDamage: 0
life: 15
speed: 5
targetSpeed: 0
targetSpeedAcceleration: 0.05
turnSpeed: 0
invisible: true
lightColor: #000000
lightSize: 0.4
trailEffect: CUSTOM:尾迹
trailEffectRate: 1
explodeEffect: NONE
effectOnCreate: CUSTOM:黑黎碎片
spawnProjectilesOnEndOfLife: 2A(recursionLimit=99)
spawnProjectilesOnExplode: 2A(recursionLimit=99)

[projectile_2A]
tags= T-projectile
areaDamage: 50
areaRadius: 80
life: 60
speed: 0
targetSpeed: 5
targetSpeedAcceleration: 0.07
turnSpeed: 3.2
invisible: true
lightColor: #000000
lightSize: 0.5
trailEffect: CUSTOM:尾迹
trailEffectRate: 1
effectOnCreate: CUSTOM:黑黎碎片
explodeEffect: CUSTOM:暗粒子*3, CUSTOM:黑光
explodeEffectOnShield: CUSTOM:暗粒子*3, CUSTOM:黑光
explodeOnEndOfLife: true
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 100


[projectile_3]
tags= T-projectile
life: 0
speed: 0
instant: true
explodeOnEndOfLife: true
explodeEffect: CUSTOM:吸引波
explodeEffectOnShield: CUSTOM:吸引波
invisible: true

pushVelocity: 1

areaDamage: 0
areaRadius: 80

[projectile_4]
tags= T-projectile
life: 6
speed: 0
turnSpeed: 0
explodeOnEndOfLife: true
explodeEffect: CUSTOM:曲引波, 暗聚引, 引力黑洞, 扭曲引力波
explodeEffectOnShield: CUSTOM:曲引波, 暗聚引, 引力黑洞, 扭曲引力波
invisible: true

pushVelocity: -0.8
areaExpandTime: 3
deflectionPower: -1

areaDamage: 10
areaRadius: 50
spawnProjectilesOnExplode: 4(recursionLimit=26)

targetGround: true
targetGroundSpread: 999


[projectile_爆炸效果]
tags= T-projectile
directDamage: 0
largeHitEffect: true
life: 0
explodeOnEndOfLife: true
explodeEffectOnShield: NONE

[effect_warmup]
priority: low
image: SHARED:light_50.png
life: 13
fadeOut: false
attachedToUnit: true
color: #ff0000
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.2
drawUnderUnits: false
ySpeedRelative: 3.9
yOffsetRelative: -40

[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: false
attachedToUnit: true
color: #2C2031
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.5
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_projectileTrail]
priority: low
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: false
color: #201225
scaleFrom: 0.5
scaleTo: 0.4
alpha: 0.4
drawUnderUnits: true
atmospheric: true
yOffsetRelative: 5

[effect_shockwave]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 2
color: #000000
dirSpeed: 5

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #000000

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_lightningShock]
life: 30

dirOffsetRandom:180

scaleFrom: 2
scaleTo: 2
fadeInTime: 0
fadeOut: false

attachedToUnit: false

color: #000000
image: SHARED:lightning_shock.png
total_frames: 14
animateFrameStart: 0
animateFrameStartRandomAdd: 2
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5
animateFrameSpeedRandom: 0.2
alpha: 0.5


[effect_黑烁光]
priority:veryhigh

image: 光.png
life: 150
fadeOut: false
attachedToUnit: true
color: #2C2031
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.4
drawUnderUnits:false
liveAfterAttachedDies: false
dirSpeed: 9
dirSpeedRandom: 3

[effect_黑烁光闪]
priority:high

image: 光.png
life: 17
fadeOut: true
attachedToUnit: false
color: #2C2031

scaleFrom: 0.7
scaleTo: 0.7
alpha: 1
drawUnderUnits:false


[effect_吸引波]
attachedToUnit: false
stripIndex: shockwave_large
life: 50
scaleFrom: 1.5
scaleTo: 0.0
alpha: 0.6
dirSpeed: 10
color:#000000

[effect_暗聚引]
priority: low
image: shock.png
life: 35
fadeOut: true
attachedToUnit: false
fadeInTime: 15
scaleFrom: 2
scaleTo: 0
alpha: 0.3
color: #000000
drawUnderUnits: false
dirOffsetRandom: 180
dirSpeed: 2

[effect_曲引波]
attachedToUnit: false
stripIndex: shockwave_large
life: 30
fadeInTime: 3
scaleFrom: 1.0
scaleTo: 0.0
alpha: 0.3
fadeOut: false
dirSpeed: 5
color:#000000

[effect_引力黑洞]
priority: low
image: 黑洞.png
life: 40
fadeOut: true
attachedToUnit: false
fadeInTime: 12
scaleFrom: 0.18
scaleTo: 0.12
alpha: 0.3
color: #000000
drawUnderUnits: false
dirOffsetRandom: 180
dirSpeed: 2

[effect_扭曲引力波]
drawType: displacement
image: SHARED:shockwave_normal_128.png
life: 60
fadeOut: true
fadeInTime: 15
attachedToUnit: false
color: #ffffff
scaleFrom: 1.2
scaleTo: 0.5
alpha: 0.08
drawUnderUnits:false
dirOffsetRandom: 180
dirSpeed: 2
spawnChance: 0.8


[effect_散华]
priority: low
attachedToUnit: true
life: 120
alpha: 0.2
scaleFrom: 0.6
scaleTo: 1.2
image: SHARED:light_50.png
color: #201225
drawUnderUnits: false
atmospheric: true
xSpeedRelativeRandom: 1.2
ySpeedRelativeRandom: 1.2

[effect_散煌1]
priority: low
attachedToUnit: true
life: 60
alpha: 0.4
scaleFrom: 0.2
scaleTo: 0.2
fadeInTime: 10
image: SHARED:light_50.png
color: #ff0000
drawUnderUnits: false
atmospheric: true
xSpeedRelative: 0.8
ySpeedRelative: -0.3
yOffsetRelative: -15
yOffsetRelativeRandom: 15
dirOffset: 90

[effect_散煌2]
@copyFromSection: effect_散煌1
xSpeedRelative: -0.8
dirOffset: -90

[effect_散煌3]
@copyFromSection: effect_散煌1
life: 45
yOffsetRelative: 0
yOffsetRelativeRandom: 0
xSpeedRelative: 1.2
color: #000000
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.3

[effect_散煌4]
@copyFromSection: effect_散煌3
xSpeedRelative: -1.2
dirOffset: -90


[effect_黑黎碎片]
priority: veryhigh
stripIndex: explode_bits
life: 999
fadeOut: false
attachedToUnit: true
color: #000000
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.7
drawUnderUnits:false
liveAfterAttachedDies: false
dirSpeed: 7

[effect_尾迹]
priority: low
image: 激光弹.png
life: 25
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.4

[effect_暗粒子]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow
color: #000000
dirSpeedRandom: 1

[effect_黑光]
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: true
color: #000000
scaleFrom: 1.2
scaleTo: 1.2
alpha: 0.6


[effect_shockwave_large]
stripIndex: shockwave_large
scaleFrom: 0.2
scaleTo: 2
life: 45
color: #C2AFCC

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.5
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

reverseSpeedPercentage: 0.9

maxTurnSpeed: 1.2
turnAcceleration: 0.04