
[core]
name: 额外伤害
displayDescription: -命中额外伤害机制
maxHp: 1
price: 0
mass: 0
tags: 效果单位

energyMax: 1000
energyRegen: 0
energyStartingPercentage: 0

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true
showOnMinimap: false

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

[hiddenAction_清除]
autoTrigger: if self.timeAlive > 0.1
deleteSelf:true

[graphics]
image: SHARED:blank.png
isVisible: false
icon_zoomed_out_neverShow: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: true
turretTurnSpeed: 999
maxAttackRange: 20
shootDelay: 1s
isMelee: true

[template_turret]
@define value: 
@define condition: 
x: 0
y: 0
canAttackCondition: if self.energy==${value} and ${condition}
projectile: ${value}


[turret_1]
@copyFromSection: template_turret
@define value: 1
@define condition: attacking.resource.毒素>=100

[turret_2]
@copyFromSection: template_turret
@define value: 2
@define condition: attacking.resource.毒素>=100

[turret_3]
@copyFromSection: template_turret
@define value: 3
@define condition: attacking.resource.毒素>=200

[turret_4]
@copyFromSection: template_turret
@define value: 4
@define condition: attacking.resource.毒素>=30

[turret_5]
@copyFromSection: template_turret
@define value: 5
@define condition: attacking.resource.甲猎标记>=1


[template_资源伤]
@define value: 
invisible: true
instant: true
life: 60
mutatorX_ifUnitWithoutTags: 任意NONE

[projectile_1]
@copyFromSection: template_资源伤
@define value: 100
directDamage: ${value*2}
mutatorX_addResourcesDirectHit: 毒素=-${value}

explodeEffect: 绿爆光, 绿雾, 毒雾散*5, 毒冲击波, 毒爆炸
explodeEffectOnShield: 绿爆光, 绿雾, 毒雾散*5, 毒冲击波

[projectile_2]
@copyFromSection: projectile_1
explodeEffect: 白光, 白雾, 白雾散*5, 白冲击波, 白洁爆炸
explodeEffectOnShield: 白光, 白雾, 白雾散*5, 白冲击波

[projectile_3]
@copyFromSection: template_资源伤
@define value: 200
areaDamage: ${value*2}
areaRadius: 30
areaRadiusFromEdge: true
mutatorX_addResourcesDirectHit: 毒素=-${value}

explodeEffect: 绿爆光2, 绿雾2*2, 毒雾散2*5, 毒冲击波2, 毒爆炸2
explodeEffectOnShield: 绿爆光2, 绿雾2*2, 毒雾散2*5, 毒冲击波2

[projectile_4]
@copyFromSection: template_资源伤
@define value: 30
directDamage: ${value*2}
mutatorX_addResourcesDirectHit: 毒素=-${value}

explodeEffect: 绿爆光, 绿雾, 毒中光
explodeEffectOnShield: 绿爆光, 绿雾

[projectile_5]
@copyFromSection: template_资源伤
directDamage: 50
mutatorX_addResourcesDirectHit: 甲猎标记=-1

explodeEffect: 烁破光, 金刺散*2
explodeEffectOnShield: ${section.explodeEffect}



[resource_毒素]
displayName: 毒素

[resource_甲猎标记]
displayName: 甲猎标记

[effect_绿爆光]
priority: low

image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #EEFFCC

scaleFrom: 1
scaleTo: 1.5
alpha: 0.8
drawUnderUnits:false

[effect_绿雾]
priority: low
attachedToUnit: false
life: 40
scaleFrom: 0
scaleTo: 1
alpha: 0.6
dirOffsetRandom: 180
dirSpeedRandom: 0.3
image: 白雾.png
color: #3BFF00

[effect_毒雾散]
priority: verylow
attachedToUnit: false
stripIndex: effects
life: 50
fadeInTime: 5
scaleFrom: 0.3
scaleTo: 1.5
alpha: 0.5
color: #3BFF00

dirOffsetRandom: 180
dirSpeedRandom: 0.3
xSpeedRelativeRandom: 1
ySpeedRelativeRandom: 1
ySpeedRelative: 0.5

[effect_毒冲击波]
priority: low
stripIndex: shockwave_large
life: 25
scaleFrom: 0
scaleTo: 0.6
alpha: 1
color: #3BFF00

[effect_毒爆炸]
priority: veryhigh
life: 30
attachedToUnit: false
image: 白爆.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 0.8
color: #3BFF00
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false
alsoPlaySound: missile_hit

[effect_绿爆光2]
@copyFromSection: effect_绿爆光
scaleFrom: 1.5
scaleTo: 3
alpha: 1

[effect_绿雾2]
@copyFromSection: effect_绿雾
life: 40
lifeRandom: 10
scaleFrom: 0
scaleTo: 1.3
alpha: 0.5

[effect_毒雾散2]
@copyFromSection: effect_毒雾散
life: 35
lifeRandom: 5
xSpeedRelativeRandom: 1.2
ySpeedRelativeRandom: 1.2
ySpeedRelative: 0.6

[effect_毒冲击波2]
@copyFromSection: effect_毒冲击波
life: 30
scaleFrom: 0
scaleTo: 0.7

[effect_毒爆炸2]
@copyFromSection: effect_毒爆炸
scaleFrom: 1.2
scaleTo: 1.2

[effect_毒中光]
life: 15
image: effect_flash.png
color: #3BFF00


[effect_白光]
priority: low

image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: false

scaleFrom: 1.5
scaleTo: 1
alpha: 0.8
drawUnderUnits:false

[effect_白雾]
priority: low
attachedToUnit: false
life: 40
scaleFrom: 0
scaleTo: 1
alpha: 0.6
dirOffsetRandom: 180
dirSpeedRandom: 0.3
image: 白雾.png

[effect_白雾散]
priority: verylow
attachedToUnit: false
stripIndex: effects
life: 50
fadeInTime: 5
scaleFrom: 0.3
scaleTo: 1.5
alpha: 0.5

dirOffsetRandom: 180
dirSpeedRandom: 0.3
xSpeedRelativeRandom: 1
ySpeedRelativeRandom: 1
ySpeedRelative: 0.5

[effect_白冲击波]
priority: low
stripIndex: shockwave_large
life: 25
scaleFrom: 0
scaleTo: 0.6
alpha: 1

[effect_白洁爆炸]
priority: veryhigh
life: 30
attachedToUnit: false
image: 白爆.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false
alsoPlaySound: missile_hit


[effect_烁破光]
priority: high
image: 烁闪光.png
life: 15
fadeOut: true
attachedToUnit: false
color: #FFD500
scaleFrom: 0.2
scaleTo: 0.8
alpha: 0.7

[effect_金刺散]
priority: verylow
image: 一线光.png
life: 15
lifeRandom: 5
fadeInTime: 6
fadeOut: true
attachedToUnit: false
color: #FFD500
scaleFrom: 0.15
scaleTo: 0
alpha: 0.8
ySpeedRelative: 5
ySpeedRelativeRandom: 1
pivotOffset: -180
pivotOffsetRandom: 35
spawnChance: 0.8


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

