
[core]
name: 再生战士
displayText: 再生战士
displayDescription: -重装步兵\n-没有攻击能力\n-能够治疗自身或近距离的单个步兵单位

copyFrom: 帝国步兵模板.ini

price: 500
maxHp: 750
mass: 200

armour:15
armourMinDamageToKeep:15

techLevel: 1
buildSpeed: 5.6s

selfRegenRate: 0.04

nanoRange: 50
nanoRepairSpeed: 0
nanoBuildSpeed: 0

canRepairBuildings: false
canRepairUnits: true
canReclaimResources: false
canRepairUnitsOnlyWithTags: 步兵
autoRepair: true

[action_虚化]
displayType: action
id: ${section.text}
tags=${section.text}
text: 虚化
description: -使自身短时间内不受伤害 \n -期间高速移动 \n -血量<20%时自动激活

resetCustomTimer: true
addActionCooldownTime: 4s
whenBuilding_temporarilyConvertTo:再生战士[虚化]
whenBuilding_triggerAction: 延时属性更新
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}
buildSpeed: 0.5s
pos: 1

canPlayerCancel: false
highPriorityQueue: true
alwaysSinglePress: true
allowMultipleInQueue: false

spawnEffectsOnQueue: 虚化光*1
spawnEffects: 虚化光*1

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[hiddenAction_自动虚化]
autoTrigger: if self.hp < self.maxHp * 0.2 and self.customTimer>4 and self.queueSize(withActionTag='虚化')<1
alsoQueueAction: 虚化

[effect_虚化光]
priority: low

image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: false
color: #9214DC
fadeInTime:1
scaleFrom: 0.6
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:false

[attachment_1]
x:0
y:0
isUnselectable: false
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
setDrawLayerOnTop: false
addTransportedUnits: 1
#lockRotation: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: 超人再生

[graphics]
image: 再生战士.png

movementEffect: 移动光
movementEffectRate: 10

repairEffect: NONE
repairEffectAtTarget: NONE

[effect_移动光]
priority: verylow

image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: false
color: #9214DC
fadeInTime:6
scaleFrom: 0.6
scaleTo: 0.4
alpha: 0.3
drawUnderUnits:true

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 4

maxAttackRange: 50
shootDelay: 50

aimOffsetSpread: 1.2

[turret_维修范围]
x: 0
y: 0
limitingRange: 50
showRangeUIGuide: true
isMainNanoTurret: true
turnSpeed: 0

[movement]
moveSpeed: 1.1

moveIgnoringBody:true

reverseSpeedPercentage:0