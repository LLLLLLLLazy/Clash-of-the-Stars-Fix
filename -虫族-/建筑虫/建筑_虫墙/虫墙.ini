[core]


name: 虫墙
maxHp: 1200
mass: 100
price: 150

reclaimPrice: 0

radius: 10

footprint: 0,0,0,0
constructionFootprint: 0,0,0,0

buildSpeed: 5s

isBio: true
isBug: true
isBuilding: true

selfRegenRate: 0.1
selfBuildRate: 0.003

tags: units, 虫族, 虫建筑, 虫筑系T1, 虫墙, 墙

canRepairBuildings: true

autoRepair: true
nanoRange: 100
nanoBuildSpeed: 0.5
nanoRepairSpeed: 0.1

canRepairUnitsOnlyWithTags: 虫墙

softCollisionOnAll: 3

fogOfWarSightRange: 3

displayDescription: -黏糊糊布丁史莱姆 \n -可以蔓延并修复自身 \n -被直接回收不会退还资源

effectOnDeath: NONE

[action_reclaim]
requireConditional: if self.hp>0
id: 回归根系
text: 回归根系
description: """ -自我回收 \n -
%{select(self.resource.野性<1, str( "退还"+int( 75 * (self.hp/self.maxHp) )+"%资源($"+int( ${core.price * 0.75} * (self.hp/self.maxHp) )+")" ),
select((${CompleteCorrosion} ${CompleteCorrosionLimit}), str( "[野性]: 退还"+int( 25 * (self.hp/self.maxHp) )+"%资源($"+int( ${core.price * 0.25} * (self.hp/self.maxHp) )+")" ), "[野性]: 不退还资源" ))}
 \n -退还资源量会随当前血量的降低减少
 """
pos: -1
ai_isDisabled: true
allowMultipleInQueue: false
buildSpeed: 5s
iconImage: icon_sell_top.png
addResourcesWithLogic: """ credits=
select(self.resource.野性<1, ${core.price * 0.75},
select((${CompleteCorrosion} ${CompleteCorrosionLimit}), ${core.price * 0.25}, 0 ))
* (self.hp/self.maxHp), 
hp=-999999
"""
autoTrigger: if not self.isOverPassableTile(type="AIR")
isLockedAlt: if self.globalTeamTags(includes="虫塔自我回收限制[半腐]") and numberOfUnitsInTeam(withTag='母巢T2')<1
isLockedAltMessage: 地图限制: 需求母巢T2



[resource_野性]
displayName: 野性

[canBuild_1]
name: 虫墙
pos: 1

[animation_1]
onActions: idle
pingPong: true
scale_start: 1
scale_end: 1.05
speed: 100

[graphics]
image: 虫墙.png
scaleImagesTo: 25
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 2

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

[movement]
movementType: BUILDING

[ai]
buildPriority: 0.2
disableUse: true
lowPriorityTargetForOtherUnits: true
