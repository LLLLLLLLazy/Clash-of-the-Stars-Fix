
[core]
name: 零号天启坦克
displayDescription: -全副武装并带有防护盾 \n -主炮将逐渐预热加快攻速 \n -定点魔束轰炸 \n -对空极致毁灭 \n -自我修复 \n -移动缓慢

class: CustomUnitMetadata
price: 16000, 苍蓝能量=1
maxHp: 5000
mass: 60000

tags: units, 超级天启坦克, 神代战斗单位

fogOfWarSightRange: 18

maxShield: 1500
shieldRegen: 0.3
#shieldDisplayOnlyDeflection: true

techLevel: 3
buildSpeed: 0.0003
#availableInDemo: true

selfRegenRate: 0.08

radius: 33
shieldRenderRadius: 24
shieldDeflectionDisplayRate: 1

isBio: false
softCollisionOnAll: 0

transportSlotsNeeded: 4

energyMax: 3
energyRegen: 0.002

[action_painting]
isVisible: if self.globalTeamTags(includes='血骑士涂装')
convertTo: 零号天启坦克[血骑士]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
id: 涂装
text: “血骑士”
description: -个性涂装 \n(不影响战斗属性)
displayType: upgrade
buildSpeed: 3.3s
pos: 3

[hiddenAction_涂装解锁]
autoTrigger: if ( self.kills(greaterThan=2) or self.playerName=="沌葉边某" ) and not self.globalTeamTags(includes='血骑士涂装')
addGlobalTeamTags: 血骑士涂装

[hiddenAction_shield]
autoTrigger: if not self.Shield(lessThan=1000)
spawnEffects: CUSTOM:Soul

[effect_Soul]
priority:verylow
image: 天启护盾.png
life: 150
fadeOut: true
attachedToUnit: false
scaleFrom: 1.1
scaleTo: 1.1
alpha: 0.9
drawUnderUnits: true

[action_laser]
displayType: queueUnit
price: 400, energy=1
id: 天启激光
text: 天启激光
description: -对指定地面造成伤害 \n -可储存三发
fireTurretXAtGround: 11
fireTurretXAtGround_withProjectile: 4
fireTurretXAtGround_showGuideDecals: targetGuide
buildSpeed: 0s
pos: 1

addActionCooldownTime: 1s

[decal_targetGuide]
alwaysStartDirAtZero: true
layer: inactive

image: SHARED:area_guide.png

@define area_guide_size: 100
@define area_guide_radius: 50

@define lowDamageBorderMultiplier: 0.88

imageScale: ${60 * lowDamageBorderMultiplier}/${area_guide_radius}

alpha: 0.5
color: #FF5303

[graphics]
total_frames: 2
image:       天启车身.png
image_wreak: 天启残骸.png
image_turret: 天启炮台.png
image_shield: 天启护盾.png
#AUTO
image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3

animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 3

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 2

maxAttackRange: 260
shootDelay: 70

[hiddenAction_属性改变设定]
setUnitMemory: 属性[41]=cos(180)*(${turret_1.warmupShootDelayTransfer} / ${attack.shootDelay})

[turret_1]
#主炮
x: 0
y: 18
barrelY: 27
barrelX: 5
attachedTo: 3
slave: true
#invisible:true

image: 天启炮管.png

turnSpeed: 0
turnSpeedAcceleration: 0

shoot_sound:cannon_firing
shoot_sound_vol:0.15
shoot_flame:medium
shoot_light:#FFEEEEEE

canShoot: true

warmup: 200

warmupCallDownRate: 1

warmupNoReset: true
warmupShootDelayTransfer: 20

#energyUsage: 1

projectile: 1

recoilOffset: -1.5
recoilOutTime: 3
recoilReturnTime: 17

canAttackFlyingUnits: false
canAttackLandUnits: true

[turret_2]
#主炮
x: 0
y: 18
barrelY: 27
barrelX: -5
invisible:true

copyFrom: 1
linkDelayWithTurret: 1

[turret_3]
#炮塔
x: 0
y: -7
canShoot: false
turnSpeed: 2.5
turnSpeedAcceleration: 0.18
turnSpeedDeceleration: 0.35

recoilOffset: -0.75
recoilOutTime: 3
recoilReturnTime: 17

[turret_4]
#防空1
x: 0
y: -7
barrelY: 3
barrelX: 0

delay: 120
projectile: 2

idleDir:0
invisible:true

turnSpeedAcceleration: 1.0

shoot_sound:missile_fire
shoot_sound_vol:0.2
shoot_light:#FFEECC

canAttackFlyingUnits: true
canAttackLandUnits: false

[turret_5]
#防空2
x: 2
y: -30
attachedTo:	3

delay: 10
projectile: 3
aimOffsetSpread: 2

idleDir:0
invisible:true

turnSpeedAcceleration: 1.0

shoot_sound:missile_fire
shoot_sound_vol:0.2
shoot_light:#FFEECC

canAttackFlyingUnits: true
canAttackLandUnits: false
[turret_6]
x: 5
y: -30
copyFrom: 5
[turret_7]
x: -2
y: -30
copyFrom: 5
[turret_8]
x: -5
y: -30
copyFrom: 5

[turret_9]
x: 4
y: -30
copyFrom: 5
delay: 100
projectile: 3A
canAttackFlyingUnits: false
canAttackLandUnits: true
[turret_10]
x: -4
y: -30
copyFrom: 9

[turret_11]
#天启激光
x: 0
y: 0
invisible:true
canShoot: false
limitingRange: 320

[projectile_1]
tags= T-projectile
life: 250
speed: 5

frame: 2
color: #bebe50
drawSize: 1

areaDamage: 130
areaRadius: 50
#buildingDamageMultiplier: 1.5
armourIgnoreAmount: 10

trailEffect: CUSTOM:blood

largeHitEffect: true
targetGround: true
targetGroundSpread: 5

lightColor: #FF2B2B
lightSize: 0.5

initialUnguidedSpeedHeight: 1.2
gravity: 0.1
#lightCastOnGround: true
spawnProjectilesOnExplode: 光

[projectile_2]
tags= T-projectile
directDamage: 100
areaDamage: 100
areaRadius: 80
life: 240
speed: 0.3
targetSpeed:8

largeHitEffect: true
ballistic: true

drawSize: 1.1

lightColor: #ff0000
lightSize: 0.4

image:红导弹.png

autoTargetingOnDeadTarget: true

trailEffect: CUSTOM:blood, CUSTOM:ResidualTemperatureBig

[projectile_3]
tags= T-projectile
directDamage: 40
areaDamage: 40
areaRadius: 35
life: 240
speed: 0.3
targetSpeed:8

largeHitEffect: true
#ballistic: true

wobbleAmplitude:4
wobbleFrequency:120

drawSize: 0.9

lightColor: #FF5303
lightSize: 0.3

image:红导弹.png

trailEffect: CUSTOM:ResidualTemperature

[projectile_3A]
tags= T-projectile
directDamage: 80
life: 240
speed: 0.3
targetSpeed:8

largeHitEffect: true

drawSize: 0.9

lightColor: #FF5303
lightSize: 0.3

image:红导弹.png

trailEffect: CUSTOM:ResidualTemperature

[projectile_光]
tags= T-projectile
life: 250
speed: 5

areaDamage: 5
areaRadius: 40
targetGround: true
targetGroundSpread: 5

lightColor: #FF2B2B
lightSize: 0.5
shouldRevealFog: true

explodeEffect: CUSTOM:炙热*2

[projectile_4]
tags= T-projectile
life: 50
instant: true
areaDamage: 0
areaRadius: 0
targetGround: true
spawnUnit:天启激光

[effect_炙热]
image: light.png
life: 40
fadeOut: true
scaleTo: 1
alpha: 0.5


[effect_blood]
priority:low
attachedToUnit:false
life:100
alpha:0.4
image: SHARED:spark.png
scaleFrom: 3
scaleTo: 2
color: #ff0000
drawUnderUnits:false
atmospheric:true
xOffsetRelativeRandom:3
yOffsetRelativeRandom:3
xSpeedRelativeRandom:0.5
ySpeedRelativeRandom:0.8

[effect_ResidualTemperature]
priority:low
life: 60
attachedToUnit:false
image: light.png
scaleFrom: 0.5
scaleTo: 0.3
alpha: 0.4
color: #FF5303
drawUnderUnits: false

atmospheric: true

[effect_ResidualTemperatureBig]
life: 80
attachedToUnit:false
image: light.png
scaleFrom: 0.6
scaleTo: 0.4
alpha: 0.6
color: #FF0000
drawUnderUnits: false

atmospheric: true

[movement]
movementType: LAND
moveSpeed: 0.4
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.05

maxTurnSpeed: 0.7
turnAcceleration: 0.05

moveSlidingMode: false
moveIgnoringBody: false

reverseSpeedPercentage: 0.2


