
[core]
name: 邪恶之卵
displayDescription: -滋生腐蚀\n -腐蚀扩张
class: CustomUnitMetadata
price: 36000
maxHp: 3000
mass: 30000

tags: units, 虫族, 虫建筑, 修复点, 腐蚀蔓延

generation_resources: 腐蚀=1
generation_credits: 14
generation_delay: 40

techLevel: 2
buildSpeed: 0.0001

energyMax: 5
energyRegen: 0.016

radius: 20

isBio: true
isBug: true

isBuilding: true

selfRegenRate:0.1
selfBuildRate:0.0001

softCollisionOnAll: 3

unitsSpawnedOnDeath: 资源返还(addResources=ammo:11500)

[action_erosion]
isVisible: if numberOfUnitsInTeam(withTag='母巢', greaterThan=0)
isActive: false
text: 腐蚀蔓延
description: -可协助腐蚀蔓延 \n -滋生…… \n -腐蚀蔓延进度: (%{min( (numberOfUnitsInTeam(withTag='腐蚀蔓延')+self.numberOfUnitsInAllyNotOwnTeam(withTag='腐蚀蔓延')-self.numberOfUnitsInAllyNotOwnTeam(withTag='主母巢')) / max(11, numberOfUnitsInAllTeams(withTag='资源池')/max(self.resource.玩家总数, 2)*2) * 100, select(numberOfUnitsInTeam(withTag='星核')+self.numberOfUnitsInAllyNotOwnTeam(withTag='星核')<=0, 99.99, 100))}%%{select(numberOfUnitsInTeam(withTag='星核')+self.numberOfUnitsInAllyNotOwnTeam(withTag='星核')<=0, '|缺少星核', '')})
displayType: infoOnly
buildSpeed: 0s
pos: -1
iconImage: 母巢T2.png

[action_1]
isActive: false
displayType: infoOnly
text: 治疗
description: -范围治疗附近己方单位 \n -对大体型虫族效果更佳 \n 治疗: 300 | 范围: 100 | 随距离衰减 | 边缘计算
autoTrigger: if self.isEnergyFull()
addResources: energy=-5
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_withProjectile: 1
buildSpeed: 0
pos: 0


[hiddenAction_顶点之处]
autoTrigger: if self.globalTeamTags(includes="顶点") and not self.tags(includes="顶点之处")
temporarilyAddTags: 顶点之处

[hiddenAction_落下顶点]
autoTrigger: if not self.globalTeamTags(includes="顶点") and self.tags(includes="顶点之处")
temporarilyRemoveTags: 顶点之处

[graphics]
total_frames: 1

image:       bug_generator2.png
image_wreak:  NONE

#imageScale: 1.3

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 100
animation_idle_scale_start:1
animation_idle_scale_end:1.05
animation_idle_pingPong: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 3

maxAttackRange: 100
shootDelay: 300

[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: true
interceptProjectiles_withTags: 范围显示
interceptProjectiles_andTargetingGroundUnderDistance: 100

[projectile_1]
tags= T-projectile
areaDamage:-300
areaRadius:100
areaRadiusFromEdge: true
areaHitAirAndLandAtSameTime:true
life:50
instant: true
targetGround:true
friendlyFire:only-ignoreEnemy
explodeEffect: CUSTOM:shockwave
mutatorX_ifUnitWithTags: 大型虫
mutatorX_areaDamageMultiplier: 1.5
mutator1_ifUnitWithTags: 中立资源
mutator1_areaDamageMultiplier: 0
mutator2_ifUnitWithTags:禁用治疗
mutator2_areaDamageMultiplier:0
[effect_shockwave]
stripIndex: shockwave_large
life: 30
scaleFrom: 0
scaleTo: 2
color: #DEBE5BFF
drawUnderUnits: true

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

