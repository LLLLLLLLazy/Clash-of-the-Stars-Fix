
[core]

name: 磐岩坦克
displayDescription:-攻击地面单位\n-全副武装\n-吸收大地力量自我修复\n-被摧毁后留下磐岩核心\n“靡坚不摧”
class: CustomUnitMetadata
price: 800
maxHp: 680
mass: 8000

tags: units, 石坦, 磐岩坦克, 高密纯构质, 能量冷却
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 石坦

selfRegenRate:0.05

techLevel: 1
buildSpeed: 10.4s
#56.85s

#availableInDemo: true

radius: 10
#displayRadius: 16

isBio: false
softCollisionOnAll: 0

energyMax: 15
energyRegen: 0.016

unitsSpawnedOnDeath: 磐岩核心

[action_defense]
convertTo: 磐岩坦克[山磐]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: infoOnly
text: 山磐
description: -一段时间内生命值及上限提升 \n -攻击范围提升 \n -但攻击速度减半
buildSpeed: 0.5s
alwaysSinglePress: true
isLocked: if not self.isEnergyFull
isLockedMessage: 冷却中...
spawnEffects: CUSTOM:山磐附影

[effect_山磐附影]
priority: low
attachedToUnit: true
life: 25
alpha: 0.4
scaleFrom: 1
scaleTo: 2
image: mega_tank.png
drawUnderUnits: false

[graphics]
total_frames: 1
image:       mega_tank.png
image_wreak:  mega_tank_dead.png
image_turret: mega_tank_turret.png
image_shield: ash_shield.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

dustEffect: true

showShieldBar: false

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 15
turretTurnSpeed: 3

maxAttackRange: 130
shootDelay: 70


[turret_1]
x: 4
y: 0
invisible: true
attachedTo: base
slave: true
projectile: 1

shoot_sound: firing4
shoot_sound_vol: 0.3
shoot_flame: CUSTOM:ashSmallFlame, CUSTOM:wave
shoot_light: #FF767676

[turret_2]
x: -4
y: 0
copyFrom: 1

warmup: 15
delay: 55


[turret_base]
#Base
x: 0
y: -3
canShoot: false

recoilOffset: -1
recoilOutTime: 7
recoilReturnTime: 10



[projectile_1]
tags= T-projectile
directDamage: 30
life: 90
speed: 3
targetSpeed: 5

color: #B2B2B2
drawSize: 1.9
lightColor: #888888
lightSize: 0.7

explodeEffect: CUSTOM:shockwave, CUSTOM:ashShockwave, CUSTOM:explodeSmall, CUSTOM:stoneSparks*3, CUSTOM:hitLightFlash
explodeEffectOnShield: CUSTOM:shockwave, CUSTOM:stoneSparks*3, CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectilePetrousLight

[effect_ashSmallFlame]
life: 25

attachedToUnit: true
atmospheric: true

image: 白焰.png
total_frames: 5
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.3

alpha: 1
scaleFrom: 0.9
scaleTo: 0.9
color: #888888

[effect_projectilePetrousLight]
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: true
color: #999999
fadeInTime: 2
scaleFrom: 0.6
scaleTo: 0
alpha: 1
drawUnderUnits: false


[effect_hitLightFlash]
priority: low

image: SHARED:light_50.png
life: 12
fadeOut: true
attachedToUnit: false
color: #EEEEEE

scaleFrom: 1.6
scaleTo: 1.6
alpha: 0.6
drawUnderUnits:false

[effect_explodeSmall]
color: #999999
life: 25
attachedToUnit: true
image: 白爆.png
scaleFrom: 1
scaleTo: 1
alpha: 0.9
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false
alsoPlaySound: missile_hit

[effect_shockwave]
stripIndex: shockwave
life: 25
scaleFrom: 0
scaleTo: 1
alpha: 1
color: #ffffff

[effect_ashShockwave]
@copyFromSection: effect_shockwave
life: 40
color: #909090

[effect_wave]
@copyFromSection: effect_shockwave
life: 15
scaleFrom: 0.25
scaleTo: 0
alpha: 0.6
color: #888888
fadeOut: false

[effect_stoneSparks]
attachedToUnit: false
life: 40
xSpeedRelativeRandom: 1.4
ySpeedRelativeRandom: 1.4
scaleFrom: 0.8
scaleTo: 0.8
image: 碎石.png
priority: verylow

[movement]
movementType: LAND
moveSpeed: 1
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.1

maxTurnSpeed: 2.4
turnAcceleration: 0.2

reverseSpeedPercentage: 1

moveSlidingMode: false
moveIgnoringBody: false

