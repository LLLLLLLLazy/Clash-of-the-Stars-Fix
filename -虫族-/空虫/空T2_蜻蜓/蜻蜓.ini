[core]


name:蜻蜓
displayDescription: -喷吐毒液爆弹\n-高敏捷\n-远射程\n-毒素附加: 50
class:CustomUnitMetadata
price:7000
maxHp:1500
mass:20000

selfRegenRate:0.1

techLevel:2

buildSpeed:41.7s
#availableInDemo:true

radius: 20
displayRadius: 23
softCollisionOnAll: 16

fogOfWarSightRange: 18

isBio:true
isBug:true

tags: units, 虫族, 中型虫, 固定射击

transportSlotsNeeded:2



[action_振翅]
autoTriggerOnEvent: newWaypointGivenByPlayer
requireConditional: if self.customTimer>=2.5 and activeWaypointTarget!=attacking
isVisible: true
isActive: false
id: ${section.text}
text: 振翅
description: -创建路径指令时触发 \n -移速与机动性大幅提升0.5s \n -高速移动时不能攻击 \n -冷却时间:2.5s
pos: 2
displayType: infoOnly
buildSpeed: 0s
convertTo: 蜻蜓[振翅]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
resetCustomTimer: true
addActionCooldownTime: 2.5s
playSoundAtUnit: Wind6.ogg:0.3


[graphics]

total_frames:3

image:蜻蜓.png

image_turret:NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

animation_idle_start:0
animation_idle_end:2
animation_idle_speed:3

animation_moving_start:0
animation_moving_end:2
animation_moving_speed:2
#AUTO
image_shadow: AUTO_ANIMATED
shadowOffsetX:0
shadowOffsetY:0

lock_body_rotation_with_main_turret:true


[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false

turretSize:0
#turretTurnSpeed: 2

aimOffsetSpread:0.2

maxAttackRange:280
shootDelay:1.85s

isFixedFiring: true

[turret_1]
invisible:true
x:0
y:0
idleDir:0

projectile:1

turnSpeed: 6
turnSpeedAcceleration: 0.4

shoot_sound:large_gun_fire2
shoot_sound_vol:0.6
shoot_flame:CUSTOM:毒雾*4
shoot_light:#FFFFFF

recoilOffset:-3
recoilOutTime:10
recoilReturnTime:40

#recoilOffset: -2
#recoilOutTime: 10
#recoilReturnTime: 14


[projectile_1]
tags= T-projectile
areaDamage:135
areaRadius:45
life:0
@define life:200

speed:0.5
targetSpeed:5

largeHitEffect:true

trailEffect:CUSTOM:毒雾
trailEffectRate:3

color:#00FF00

lightColor: #AEFF00
lightSize: 0.5

drawUnderUnits:true

spawnUnit: 有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesAreaHit: 毒素=50

image:老坛酸菜.png

spawnProjectilesOnCreate: 1B(recursionLimit=1)
[projectile_1B]
@copyFromSection: projectile_1, template_对盾修正B
spawnProjectilesOnExplode: 1D
[projectile_1D]
@copyFromSection: projectile_1, template_对盾修正D
[template_对盾修正B]
areaDamage: 0
life: ${life}
[template_对盾修正D]
life: ${life}
speed: 999
targetGround: true
targetGround_includeTargetHeight: true
explodeEffect: NONE
explodeEffectOnShield: NONE

[resource_毒素]
displayName: 毒素

[movement]
movementType:AIR
moveSpeed:1.2
moveAccelerationSpeed:0.06
moveDecelerationSpeed:0.06

maxTurnSpeed: 6
turnAcceleration:0.4

targetHeight:20
targetHeightDrift:2

moveSlidingMode:true
moveIgnoringBody:true
moveSlidingDir:181

[effect_毒雾]
#烈性酸液
stripIndex: effects
frameIndex: 0
priority:low

life: 100
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime:5
hSpeed: 0.3
scaleFrom: 0.25
scaleTo: 1.0
alpha: 0.3
drawUnderUnits:false
#yOffsetRelative:-7
xOffsetRelativeRandom:3
xSpeedRelativeRandom:0.2
ySpeedRelative:1.5
ySpeedRelativeRandom:0.2

shadow: true
atmospheric: true