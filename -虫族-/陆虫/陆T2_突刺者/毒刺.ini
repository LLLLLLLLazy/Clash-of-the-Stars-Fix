
[core]
name: 毒刺
displayText: 毒刺
displayDescription: -急速突刺地面单位 \n -需要回复突刺能量 \n -可翻过峭壁 \n -毒素附加: 60 | 400

copyFrom: 突刺者.ini

price: credits=1500, 腐蚀=${corrode}

radius: 14
displayRadius: 15

unitsSpawnedOnDeath: 资源返还(addResources=ammo:375|energy:25)

[hiddenAction_亡灵生成]
autoTriggerOnEvent: destroyed
requireConditional: if self.globalTeamTags(includes='狂猎') and self.globalTeamTags(includes='皎红')
spawnUnits: 毒刺[亡灵]

[hiddenAction_腐蚀价格]
@global corrode: 100
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}

[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[action_Upgrade]
isVisible: false

[hiddenAction_自动腐蚀]
@copyFrom_skipThisSection:true

[hiddenAction_finish]
convertTo: 毒刺[突刺]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[graphics]
total_frames: 5
image: 毒刺.png

animation_moving_start: 1
animation_moving_end: 4
animation_moving_speed: 3

[projectile_1]
explodeEffect: 突闪, 剑光子*2, CUSTOM:explodeSmall

spawnUnit: 有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesDirectHit: 毒素=60

[projectile_2]
explodeEffect: CUSTOM:explode, CUSTOM:shockwave

mutatorX_addResourcesDirectHit: 毒素=400

[resource_毒素]
displayName: 毒素


[effect_shadow]
image: 毒刺残影.png


[effect_explodeSmall]
life: 25
image: 白爆.png
scaleFrom: 0.6
scaleTo: 0.6
alpha: 0.8
color: #8BCC00
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

[effect_explode]
@copyFromSection: effect_explodeSmall
image: 白爆.png
scaleFrom: 0.9
scaleTo: 0.9
color: #AEFF00
alsoPlaySound: missile_hit

[effect_shockwave]
stripIndex: shockwave
life: 25
scaleFrom: 0
scaleTo: 1
alpha: 0.8
color: #AEFF00
dirSpeed: 5
drawUnderUnits: true

[effect_突闪]
scaleFrom: 0.3
scaleTo: 0.6
color: #7ACC29


