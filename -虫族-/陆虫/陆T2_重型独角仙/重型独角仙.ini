
[core]
name: 重型独角仙
displayText: 重型独角仙
displayDescription: -攻击地面单位 \n -全副武装甲壳 \n -攻击将目标推开 \n -不擅长边移动边攻击 \n -可振动鞘翅快速冲撞 \n “这是一只bug”\n (未实装单位)

price: 7000
maxHp: 3800
mass: 30000

armour: 15
armourMinDamageToKeep: 15

tags: units, 虫族, 中型虫+, 重型独角仙, 固定射击
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 重型独角仙

techLevel: 2

buildSpeed: 0.00047
selfBuildRate: 0.00047

transportSlotsNeeded: 2

radius: 23
displayRadius: 23

selfRegenRate: 0.1

softCollisionOnAll: 20

isBio: true
isBug: true

energyMax: 5
energyRegen: 0.005

autoTriggerCooldownTime: 0.1s

[action_fly]
isLocked: if not self.energy(full=true)
isLockedMessage: 冷却中…

convertTo: 重型独角仙[振翅]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
id: ${section.text}
text: 振翅
description: -展开鞘翅 \n -使用翼膜短暂贴地飞行 \n -飞行期间可进行强化攻击 \n -请注意不要降落于液体内
buildSpeed: 0.5s
pos: 0
alwaysSinglePress: true
whenBuilding_cannotMove: true
whenBuilding_temporarilyConvertTo:重型独角仙[转换中]
whenBuilding_triggerAction: 延时属性更新
convertTo_keepCurrentFields: maxHp, maxShield

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[action_沁水]
isActive:false
isVisible: if self.isOverwater
autoTrigger: if self.isOverwater
isGuiBlinking: if self.isOverwater
addResources: energy=-0.1
pos: 1
text: 沁水
description: -无法振翅
buildSpeed:1s

[action_熔化]
isActive:false
isVisible: if self.isOverLiquid and not self.isOverwater
autoTrigger: if self.isOverLiquid and not self.isOverwater
isGuiBlinking: if self.isOverLiquid and not self.isOverwater
addResources: hp=-10, energy=-0.1
pos: 2
text: 熔化
description: -在岩浆上持续损毁生命值 \n -无法振翅
buildSpeed:1s

[animation_攻击]
onActions: attack

arm3_.0s:{x:0, y:0}
arm3_.2s:{x:0, y:-3}
arm3_.3s:{x:0, y:7}
arm3_.4s:{x:0, y:5}
arm3_.5s:{x:0, y:0}

arm4_.0s:{x:0, y:0}
arm4_.2s:{x:0, y:-3}
arm4_.3s:{x:0, y:7}
arm4_.4s:{x:0, y:5}
arm4_.5s:{x:0, y:0}

arm5_.0s:{x:0, y:0}
arm5_.2s:{x:0, y:-3}
arm5_.3s:{x:0, y:7}
arm5_.4s:{x:0, y:5}
arm5_.5s:{x:0, y:0}

arm6_.0s:{x:0, y:0}
arm6_.2s:{x:0, y:-3}
arm6_.3s:{x:0, y:7}
arm6_.4s:{x:0, y:5}
arm6_.5s:{x:0, y:0}

arm7_.0s:{x:0, y:0}
arm7_.2s:{x:0, y:-3}
arm7_.3s:{x:0, y:7}
arm7_.4s:{x:0, y:5}
arm7_.5s:{x:0, y:0}

KeyframeTimeScale: 0.8

[graphics]
total_frames: 1
image:        SHARED:blank.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

lock_shadow_rotation_with_main_turret: true
lock_body_rotation_with_main_turret: true

[attack]
isMelee: true

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

isFixedFiring: true

turretSize: 1
turretTurnSpeed: 3.2

maxAttackRange: 30
shootDelay: 65

aimOffsetSpread: 0

[turret_1]
x: 0
y: 0

canAttackMaxAngle: 10

shoot_sound:bug_attack
shoot_sound_vol:0.3

[projectile_1]
tags= T-projectile
delayedStartTimer: 15
life: 50
instant: true
directDamage:350
pushVelocity: 2
largeHitEffect:true

[turret_magic]
x: 0
y: 0
size: 0
canShoot: false
attachedTo: 1
slave: true

[leg_1]
x: -17
y: 14
attach_x: 0
attach_y: 14
moveSpeed: 3.0
resetAngle:5
heightSpeed: 0.8

holdDisMin: 10
holdDisMax: 13
hardLimit: 22
image_leg:  右中腿.png

[leg_2]
x: 17
y: 14
attach_x: 0
attach_y: 14
copyFrom: 1
image_leg:  左中腿.png

[leg_3]
x: -19
y: 7
attach_x: 0
attach_y: 3
copyFrom: 1
image_leg:  左中腿.png

[leg_4]
x: 19
y: 7
attach_x: 0
attach_y: 3
copyFrom: 1
image_leg:  右中腿.png

[leg_5]
x: -17
y: -8
attach_x: 0
attach_y: -8
copyFrom: 1
image_leg:  左后腿.png

[leg_6]
x: 17
y: -8
attach_x: 0
attach_y: -8
copyFrom: 1
image_leg:  右后腿.png

[arm_3]
x:0
y:0
image_end: 主体.png
image_end_shadow: SHADOW:主体.png
image_end_teamColors:true

drawOverBody:true

[arm_4]
x:-1
y:24
endDirOffset:30
image_end:左翼膜.png
image_end_shadow: SHADOW:左翼膜.png

drawOverBody:true

[arm_5]
x:1
y:24
endDirOffset:-30
image_end:右翼膜.png
image_end_shadow: SHADOW:右翼膜.png

drawOverBody:true

[arm_6]
x:0
y:12
image_end:左鞘翅.png
image_end_shadow: SHADOW:左鞘翅.png

drawOverBody:true

[arm_7]
x:0
y:12
image_end:右鞘翅.png
image_end_shadow: SHADOW:右鞘翅.png

drawOverBody:true

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.7
moveAccelerationSpeed: 0.12
moveDecelerationSpeed: 0.08

maxTurnSpeed: 3.1
turnAcceleration: 0.3

targetHeight: 2
targetHeightDrift: 0

moveSlidingMode :true
moveIgnoringBody:true

moveSlidingDir:  45

slowDeathFall: true

reverseSpeedPercentage:0


