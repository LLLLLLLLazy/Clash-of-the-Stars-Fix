
[core]
name: 帝国士兵
displayDescription: -轻装步兵\n-攻击地面单位\n-存活一段时间后可升级为其他步兵\n-为了帝皇!

copyFrom: 帝国步兵模板.ini

price: 275
maxHp: 175
mass: 200

techLevel: 1
buildSpeed: 2.8s


[action_升级]
price: 75
id: 升级1
text: 升级 - 掷弹
displayType: upgrade
buildSpeed: 4.7s
pos: 1
convertTo: 帝国掷弹兵
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
isLocked: if self.timeAlive<80
isLockedMessage: 需要时间: %{int(80-self.timeAlive)}s
descriptionAddUnitStats: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
iconExtraImage: icon_upgrade_top.png
iconExtraColor: #32FFFFFF
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true
spawnEffects: 黑光


[action_升级机枪]
@copyFromSection: action_升级
price: 125
id: 升级2
text: 升级 - 机枪
convertTo: 帝国机枪兵
buildSpeed: 5.5s

[action_升级狙击]
@copyFromSection: action_升级
price: 75
id: 升级3
text: 升级 - 狙击
convertTo: 帝国狙击手
buildSpeed: 5.5s

[action_升级防空]
@copyFromSection: action_升级
price: 25
id: 升级4
text: 升级 - 防空
convertTo: 帝国防空兵
buildSpeed: 5.2s

[effect_黑光]
image: SHARED:light_50.png
life: 25
fadeOut: true
color: #000000
scaleFrom: 1.2
scaleTo: 1.2
alpha: 1.7


[graphics]
image: 帝国士兵.png

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 130
shootDelay: 30

aimOffsetSpread: 0.3

[turret_1]
#步枪
x: 0
y: 0
idleDir:0

barrelX: 1
barrelY: 7

turnSpeed: 4.1
turnSpeedAcceleration: 0.3

projectile: 1

shoot_sound:plasma_fire2
shoot_sound_vol:1.0

recoilOffset: -1.5
recoilOutTime: 5
recoilReturnTime: 20

canAttackCondition: if not self.hasParent(withTag="步兵载体")

[turret_1载]
@copyFromSection: turret_1
canAttackCondition: if self.hasParent(withTag="步兵载体")
barrelX: 0
barrelY: 0

[projectile_1]
tags= T-projectile
directDamage: 30
life: 100

frame: 5

image: 激光弹.png
drawSize: 0.8

#speed: 2
speed: 8
#targetSpeed: 8
#targetSpeedAcceleration: 2

lightColor: #ff0000
lightSize: 0.2

explodeEffect: CUSTOM:hitLightFlash, CUSTOM:explodeSmall

[effect_explodeSmall]
priority: low
color: #FF0000
life: 20
attachedToUnit: true
image: 白爆.png
scaleFrom: 0.6
scaleTo: 0.6
alpha: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.6
fadeOut: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #ff0000

scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false

[movement]
moveSpeed: 1.2