
[core]
name: 贝露光护模块T3
displayText: T3 - 贝露光护模块
copyFrom: common_slot.ini

displayDescription: -激光防御模块 \n -大能量存储 \n -拦截敌方炮弹(范围:375) \n -能量耗尽后需要时间来充能 \n -能量满溢时消耗能量释放防卫激光攻击并微弱击退 \n -处于水上时可攻击水下目标 \n -每1能源供应提供0.19能量恢复/每秒 \n -基础能量恢复:${int(core.energyRegen*60*100)/100}/每秒 \n -减少1能源供应 \n (当能源供应降为负数时，贝露权杖会失去护盾防御且受到攻击额外损失[150+5%]生命值)

price: 17000

energyMax: 60
energyRegen: 0.009
energyNeedsToRechargeToFull: true

tags: units, 贝露模块, 贝露光护模块, 贝露中心单位

borrowResourcesWhileAlive: 能源供应=1

autoTriggerCooldownTime: 10
autoTriggerCooldownTime_allowDangerousHighCPU:true

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_setValue: 0
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: ${0.19/6}

[action_权能升级]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)
#isVisible: false
buildSpeed: 300s
convertTo: 弹矢无效
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 苍蓝能量=30

iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[hiddenAction_探针模块]
autoTrigger: if self.hasParent(withTag="贝露之眼")
convertTo: 贝露光护模块T3[探针]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: if self.isOverwater

maxAttackRange: 375
turretTurnSpeed: 5

shootDelay: 0
aimOffsetSpread: 0

stopTargetingAfterFiring: true

[turret_laserDefence]
x: 0
y: 50
canShoot: true
invisible: true
laserDefenceEnergyUse: 1
size: 1

shoot_sound: plasma_fire
shoot_sound_vol: 0.1
shoot_light: #4CFFF3

warmup: 30

energyUsage: 2
canAttackCondition: if self.isEnergyFull()

[turret_laserDefence2]
@copyFromSection: turret_laserDefence
canShoot: false

[projectile_1]
tags= T-projectile
directDamage: 0
life: 24

color: #1C4CFFF3
laserEffect: true

instant: true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true

explodeEffect: CUSTOM:hitLightFlash
explodeEffectOnShield: CUSTOM:hitLightFlash

spawnProjectilesOnCreate: 1-2, 1-3, 1-4, 1-5, 1-6, 1-7, 1-8, 2-1, 2-2, 2-3, 2-4, 2-5, 2-6, 2-7, 2-8

[projectile_1-2]
@copyFromSection: projectile_1
life: 21

explodeEffect: NONE
explodeEffectOnShield: NONE
spawnProjectilesOnCreate: NONE

[projectile_1-3]
@copyFromSection: projectile_1-2
life: 18

[projectile_1-4]
@copyFromSection: projectile_1-2
life: 15

[projectile_1-5]
@copyFromSection: projectile_1-2
life: 12

[projectile_1-6]
@copyFromSection: projectile_1-2
life: 9

[projectile_1-7]
@copyFromSection: projectile_1-2
life: 6

[projectile_1-8]
@copyFromSection: projectile_1-2
life: 3


[projectile_2-1]
tags= T-projectile
directDamage: 9
life: 3
instant: true
pushVelocity: 0.3

explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_2-2]
@copyFromSection: projectile_2-1
delayedStartTimer: 3

[projectile_2-3]
@copyFromSection: projectile_2-1
delayedStartTimer: 6

[projectile_2-4]
@copyFromSection: projectile_2-1
delayedStartTimer: 9

[projectile_2-5]
@copyFromSection: projectile_2-1
delayedStartTimer: 12

[projectile_2-6]
@copyFromSection: projectile_2-1
delayedStartTimer: 15

[projectile_2-7]
@copyFromSection: projectile_2-1
delayedStartTimer: 18

[projectile_2-8]
@copyFromSection: projectile_2-1
delayedStartTimer: 21

[effect_hitLightFlash]
priority: low

image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #4CFFF3

scaleFrom: 1.6
scaleTo: 1.6
alpha: 0.6
drawUnderUnits:false

[graphics]
image: 苍影激光防御T2.png




