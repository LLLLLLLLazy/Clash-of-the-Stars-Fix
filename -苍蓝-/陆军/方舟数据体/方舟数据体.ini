
[core]
name: 方舟数据体
displayText: 方舟数据体
displayDescription: -轻装甲 \n -攻击地面与空中 \n -开火速度逐渐降低 \n -近距离可使用冷却较长的充能剑 \n -自我修复 \n -机动性极强 \n -正面交战非常弱
price: 14000, 苍蓝能量=1
maxHp: 1400
mass: 10000

tags: units, Euis, 能量冷却2, 固定射击
showActionsWithMixedSelectionIfOtherUnitsHaveTag: Euis

maxShield: 1600
shieldRegen: 0.1

energyMax: 12
energyRegen: 0
energyRegenWhenRecharging: 0.0167
energyNeedsToRechargeToFull: true

techLevel: 3
buildSpeed: 0.00025

selfRegenRate: 0.08

isBio: false
#softCollisionOnAll: -1

radius: 13
displayRadius: 13

[action_回复]
isActive: false
id: ${section.text}
text: 回复
description: -近身斩击后回复200血量与700护盾
pos: 0
displayType: infoOnly
buildSpeed: 0s
addResources: hp=1

[action_数据传输]
displayType: action
isActive: if self.hp>200
price: hp=200
id: ${section.text}
tags=${section.text}
text: 数据传输
description: -数据化 \n -可连续释放 \n -传输期间超高速并无视地形 \n -传输结束对近处单位造成击退 \n -免疫大量损伤 \n -不能攻击
fireTurretXAtGround: 数据传输
fireTurretXAtGround_withOffset: 0,0

addActionCooldownTime: 3s
whenBuilding_temporarilyConvertTo: 方舟数据体[数据化]
whenBuilding_triggerAction: 延时属性更新
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}
buildSpeed: 1s
pos: 1

displayRemainingStockpile: true

canPlayerCancel: false
alwaysSinglePress: true
highPriorityQueue: true


[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[hiddenAction_数据重构]
addResources: hp=200, shield=700

#[action_终焉之刻]
#isLocked: if self.customTimer(withinSeconds=60)
#isLockedMessage: 冷却时间:%{60-self.customTimer}s
#resetCustomTimer: true

[action_painting]
isVisible: if self.globalTeamTags(includes='木已成舟涂装')
convertTo: 方舟数据体[木已成舟]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
text: “木已成舟”
description: -个性涂装 \n(不影响战斗属性)
displayType: upgrade
buildSpeed: 3.3s
pos: 3

[hiddenAction_涂装解锁]
autoTrigger: if ( self.kills(greaterThan=2) or self.playerName=="文一" ) and not self.globalTeamTags(includes='木已成舟涂装')
addGlobalTeamTags: 木已成舟涂装


[action_燃烧]
isActive: false
isVisible: if self.isOverLiquid and not self.isOverwater
autoTrigger: if self.isOverLiquid and not self.isOverwater
isGuiBlinking: if self.isOverLiquid and not self.isOverwater
addResources: hp=-25, shield=-50
pos: 3
text: 燃烧
description: -在岩浆上持续损毁生命值与护盾
buildSpeed:0.1s

[graphics]
total_frames: 1
teamColorsOnTurret: true
image: 方舟数据体.png
image_wreak: NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

lock_body_rotation_with_main_turret: true
lock_leg_rotation_with_main_turret: true

movementEffect: CUSTOM:紫光
movementEffectReverse: CUSTOM:紫光
movementEffectRate: 2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

isFixedFiring: true

turretSize: 1
turretTurnSpeed: 5

maxAttackRange: 235
shootDelay: 5

aimOffsetSpread:0

#attackMovement:bomber

[turret_1]
x: 0
y: 0
barrelX: 6
barrelY: 10

shoot_sound:gun_fire
shoot_sound_vol:0.45
shoot_flame: NONE
shoot_light:#B700E9FF

warmup: 500
warmupCallDownRate: 1
warmupNoReset: true
warmupShootDelayTransfer: -5

#energyUsage: 1

projectile: 1

#onShoot_playAnimation: 1

[turret_2]
x: 0
y: 0

turnSpeed: 8
turnSpeedAcceleration: 8

canAttackFlyingUnits: false

shoot_sound:weaponGreatSwordHit.ogg
shoot_sound_vol:0.2

limitingRange: 70
canAttackMaxAngle: 45

energyUsage: 10

delay: 1

projectile: 2

onShoot_playAnimation: 2
onShoot_triggerActions: 数据重构

[turret_数据传输]
x: 0
y: 0
canShoot: false
invisible:true
projectile: 数据传输
altProjectile: 数据传输弱
altProjectileCondition: if self.queueSize(withActionTag='数据传输')>0
#limitingRange:700

[projectile_1]
tags= T-projectile
directDamage: 22
life: 50
speed: 20
frame: 11
drawSize: 0.8
color: #AA7F66FF
lightColor: #8F66FF
lightSize: 0.5
deflectionPower: 0.5
explodeEffect:CUSTOM:explodeSmall
explodeEffectOnShield:CUSTOM:explodeSmall

[projectile_2]
tags= T-projectile
directDamage: 240
areaDamage: 240
areaRadius: 45
life: 50
instant: true
largeHitEffect: true

explodeEffect:CUSTOM:破*8, CUSTOM:刀光
explodeEffectOnShield:CUSTOM:破*8, CUSTOM:刀光

[projectile_数据传输]
tags= T-projectile
areaDamage:0
areaRadius:100
areaHitAirAndLandAtSameTime: true
life: 6000
#speed: 2.8
image: 方舟“穿梭”.png
#teleportSource: true
deflectionPower: -1

instant: true

targetGround:true

pushForce: 500
pushVelocity: 6
areaExpandTime: 30

trailEffect: CUSTOM:方舟数据
explodeEffect: CUSTOM:shockwave,CUSTOM:破*8,CUSTOM:displacement_ripples

[projectile_数据传输弱]
@copyFromSection: projectile_数据传输
pushVelocity: 2

[effect_shockwave]
priority: veryhigh
stripIndex: shockwave
alsoPlaySound:warning.ogg:1.5
life: 30
scaleFrom: 0
scaleTo: 3.5
color: #B700FFFF
dirSpeed: 5

[effect_紫光]
createWhenZoomedOut: false
priority: verylow
image: 紫光.png
life: 40
fadeOut: true
attachedToUnit: false
fadeInTime: 8
scaleFrom: 1.0
scaleTo: 0.8
alpha: 0.6
drawUnderUnits: true
ySpeedRelative: -0.4
atmospheric: true

[effect_方舟数据]
createWhenZoomedOut: false
priority:low
image: 方舟“穿梭”.png
life: 200
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.6
drawUnderUnits: true
#ySpeedRelative:-0.4
atmospheric: true

[leg_1]
x: -8
y: 0
attach_x: -3
attach_y: 0
moveSpeed: 4.1
moveWarmUp:0.1s
rotateSpeed: 7

heightSpeed: 0.65
resetAngle: 25

image_leg:  leg.png
image_foot: foot.png
#draw_foot_on_top: true
dust_effect: false

holdDisMin: 4
holdDisMax: 8

estimatingPositionMultiplier:0.8

[leg_2]
x: 8
y: 0
attach_x: 3
attach_y: 0
copyFrom: 1

[arm_1]
x: 6
y: 1
image_end: 数据体机枪.png
image_end_shadow: SHADOW:数据体机枪.png
drawOverBody: false
drawDirOffset: -5
moveSpeed: 18

[arm_2]
x: -6
y: 0
image_end: 数据体剑.png
image_end_shadow: SHADOW:数据体剑.png
drawOverBody: false
drawDirOffset: -240
moveSpeed: 18

[animation_1]
arm1_0s:{x:0, y:0, dir:0}
arm1_0.03s:{x:0, y:-2, dir:3}
arm1_0.08s:{x:0, y:0, dir:0}

[animation_2]
arm2_0s:{x:0, y:0, dir:0}
arm2_0.1s:{x:0, y:3, dir:290}
arm2_0.9s:{x:0, y:0, dir:0}

[effect_explodeSmall]
fadeInTime: 5
life: 25
attachedToUnit: true
image: explode.png
scaleFrom: 0.8
scaleTo: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

[effect_破]
#
stripIndex: effects
frameIndex: 0
priority:low

life: 50
fadeOut: true
attachedToUnit: false
color: #B700FFFF
fadeInTime:5
hSpeed: 1.0
scaleFrom: 0.9
scaleTo: 2.1
alpha: 0.2
drawUnderUnits:false
#yOffsetRelative:-7
#xOffsetRelativeRandom:3
xSpeedRelativeRandom:0.8
ySpeedRelative:0.4
ySpeedRelativeRandom:0.8

shadow: true
atmospheric: true

[effect_刀光]
priority:veryhigh

image: 刀光.png
life: 70
fadeOut: true
fadeInTime:3
attachedToUnit: false
scaleFrom: 0.4
scaleTo: 0.4
alpha: 1.0
drawUnderUnits:false
yOffsetRelative:-10
ySpeedRelative:0.3

[effect_displacement_ripples]
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 30
fadeOut: true

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 2
alpha: 0.7
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 1

[movement]
movementType: OVER_CLIFF
moveSpeed: 1.1
moveAccelerationSpeed: 0.14
moveDecelerationSpeed: 0.14

maxTurnSpeed: 5.0
turnAcceleration: 0.5

moveSlidingMode :true
moveIgnoringBody:true

reverseSpeedPercentage:0