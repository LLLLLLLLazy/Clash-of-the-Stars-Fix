
[core]
name: 皎月升起
maxHp: 99999
price: 0
mass: 0
displayDescription: -

tags: magic, 皎红出场
techLevel: 1
buildSpeed: 3.33s

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

[hiddenAction_开始]
autoTrigger: if not self.hasFlag(id=1)
spawnUnits: 色幕(addResources=setFlag:5,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=700,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=1400,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=2100,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=2800,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=-700,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=-1400,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=-2100,alwayStartDirAtZero=true), 色幕(addResources=setFlag:5,offsetX=-2800,alwayStartDirAtZero=true)
playSoundGlobally: CorvinaScream.ogg:1.0
addGlobalTeamTags: 皎红
addResources: setFlag=1

[hiddenAction_生成]
autoTrigger: if self.timeAlive(laterThanSeconds=3) and not self.hasFlag(id=2)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
addResources: setFlag=2

[hiddenAction_衍黎提示]
autoTrigger: if self.globalTeamTags(includes='衍黎') and self.timeAlive(laterThanSeconds=3) and not self.hasFlag(id=3)
showMessageToAllPlayers: 寄宿于地脉的皎红之辉已根深蒂固……
addResources: setFlag=3

[hiddenAction_狂猎提示]
autoTrigger: if self.globalTeamTags(includes='狂猎') and self.timeAlive(laterThanSeconds=3.1) and not self.hasFlag(id=4)
showMessageToAllPlayers: 不甘的亡魂跟随狂猎之意重返人间……
addResources: setFlag=4

[hiddenAction_结束]
autoTrigger: if self.timeAlive(laterThanSeconds=4.2)
addGlobalTeamTags: 皎红
showMessageToAllPlayers: “敬你敬我，三军皆开”
deleteSelf: true

[hiddenAction_红月]
autoTrigger: true
spawnEffects: 月晕, 红月

[graphics]

image:        SHARED:blank.png
image_wreak: NONE
image_turret:NONE
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[turret_1]
x: 0
y: 0
projectile: 1

[projectile_1]
areaDamage: 600
areaRadius: 300
areaExpandTime: 25
areaHitAirAndLandAtSameTime: true

life: 300
speed: 5

image: SHARED:blank.png

lightColor: #FF0000
lightSize: 2.0

deflectionPower: -1

trailEffect: 痕
trailEffectRate: 4

effectOnCreate: 小月晕, 黑球本体

explodeEffect: 快云圈*2, 慢云圈*3, 上升云圈, 大暗红光, 光星A, 光星B, 光星C, 光星D, 扭曲

spawnUnit: 皎红母虫

[effect_红月]
priority:high

image: SoulVortex.png
life: 60
fadeOut: true
fadeInTime: 20
attachedToUnit: true
color: #FF0000

scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.6
dirSpeed: -1.2
drawUnderUnits:false

[effect_月晕]
priority:high

image: GreyscaleVortex.png
life: 40
fadeOut: true
fadeInTime: 30
attachedToUnit: true
color: #FF0000

scaleFrom: 1.0
scaleTo: 1.1
alpha: 0.3
dirSpeed: -1.8
drawUnderUnits:false

[effect_黑球本体]
priority:veryhigh

image: 黑球.png
life: 300
fadeOut: false
fadeInTime: 5
attachedToUnit: true

scaleFrom: 2.0
scaleTo: 2.0
alpha: 1.0
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_小月晕]
priority:veryhigh

image: GreyscaleVortex.png
life: 300
fadeOut: false
fadeInTime: 10
attachedToUnit: true
color: #FF0000

scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.7
dirSpeed: -3.5
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_痕]
priority:low

image: 红球.png
life: 65
fadeOut: true
fadeInTime: 4
attachedToUnit: false

scaleFrom: 2.4
scaleTo: 0.2
alpha: 0.4
drawUnderUnits:true

[effect_快云圈]
priority:high

image: 云圈.png
life: 35
fadeOut: true
fadeInTime: 2
attachedToUnit: false
color: #FF0000

scaleFrom: 0.5
scaleTo: 2.0
alpha: 0.3
drawUnderUnits:false
dirSpeedRandom: 1
dirOffsetRandom: 180

[effect_慢云圈]
priority:high

image: 云圈.png
life: 90
fadeOut: true
fadeInTime: 15
attachedToUnit: false
color: #800000

scaleFrom: 1.0
scaleTo: 2.0
alpha: 0.3
drawUnderUnits:false
dirSpeedRandom: 0.5
dirOffsetRandom: 180

[effect_上升云圈]
priority:high

image: 云圈.png
life: 100
fadeOut: true
fadeInTime: 25
attachedToUnit: false
color: #800000

scaleFrom: 1.5
scaleTo: 1.2
alpha: 0.4
drawUnderUnits:false
hSpeed: 0.4
dirOffsetRandom: 180

alsoPlaySound: DemonshadeEnrage.ogg:0.8

[effect_大暗红光]
priority:veryhigh

image: SHARED:light_50.png
life: 80
fadeOut: true
fadeInTime: 2
attachedToUnit: false
color: #800000

scaleFrom: 4.5
scaleTo: 4.0
alpha: 0.8
drawUnderUnits:false

alsoPlaySound: GravistarSlam.ogg:1.0

[effect_光星A]
priority:veryhigh

image: 巨大光星.png
life: 80
fadeOut: true
fadeInTime: 2
attachedToUnit: false
color: #FF0000

scaleFrom: 3.6
scaleTo: 2.0
alpha: 0.4
drawUnderUnits:false
dirSpeed: 1

[effect_光星B]
@copyFromSection:effect_光星A
color: #000000
scaleFrom: 3.4
scaleTo: 1.9
dirSpeed: 0.8

[effect_光星C]
@copyFromSection:effect_光星A
scaleFrom: 3.3
scaleTo: 1.8
dirSpeed: -0.9

[effect_光星D]
@copyFromSection:effect_光星A
color: #000000
scaleFrom: 3.2
scaleTo: 1.7
dirSpeed: -0.7

[effect_扭曲]
priority:veryhigh
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 100
fadeOut: true
fadeInTime: 5

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 3.0
alpha: 0.1
drawUnderUnits: false

dirOffsetRandom: 180
dirSpeedRandom: 0.2

[movement]
movementType: AIR
moveSpeed: 0

targetHeight: 550
targetHeightDrift: 3

startingHeightOffset: 500
