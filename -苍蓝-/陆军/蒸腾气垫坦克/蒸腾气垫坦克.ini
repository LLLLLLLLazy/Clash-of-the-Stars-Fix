
[core]
name: 蒸腾气垫坦克
displayText: 蒸腾气垫坦克
displayDescription: -非常全副武装 \n -攻击地面与空中 \n -海陆两栖 \n -制造极高温的水使敌人升华 \n -需要在水面补充水源 \n -可短暂接通贝露佩欧鲁的崇高力量
class: CustomUnitMetadata
price: 5000
maxHp: 3000
mass: 12000
tags: units

energyMax: 100
energyRegen: 0
energyNeedsToRechargeToFull: true

techLevel: 3
buildSpeed: 0.0005

radius: 22
displayRadius: 25

isBio: false
softCollisionOnAll: 5

[hiddenAction_water]
autoTrigger: if self.overWater() and not self.hasFlag(id=1)
addEnergy: 6

[hiddenAction_notWater]
autoTrigger: if not self.overWater() and not self.hasFlag(id=1)
addEnergy: 1

[hiddenAction_steam]
autoTrigger: true
spawnEffects:CUSTOM:steam*3

[action_HiddenEnergy]
displayType: action
addResources: setFlag=1, energy=-100
isGuiBlinking: if self.hasFlag(id=1)
resetCustomTimer: true
price: 2500, 苍蓝能量=1
text: 魔力连结
description:-暂时激活来自贝露的魔法之力 \n -启用聚能水柱 \n -对周围的敌人持续造成伤害并击退 \n CD:80s
allowMultipleInQueue: false
addActionCooldownTime: 80s
isLockedMessage: 冷却中...
playSoundAtUnit:震水.ogg
spawnEffects: CUSTOM:高亮星*3, CUSTOM:sparks*20
buildSpeed: 1s
pos: 1

[hiddenAction_TheEndoftheIceAge]
autoTrigger: if self.customTimer(laterThanSeconds=20) and self.hasFlag(id=1)
addResources: unsetFlag=1

[action_苍蓝升级]
convertTo: 蒸腾气垫坦克[沧冥洄眩]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: upgrade
price: 100000, 苍蓝能量=15, 腐蚀=500, 基因种子=1
text: 沧冥洄眩
description: -冥河之眼 \n -将附加的敌人拉扯至漩涡中心 \n -每次攻击都将回复血量与护盾
buildSpeed: 0.0001
pos: 2
allowMultipleInQueue: false
canPlayerCancel: false
whenBuilding_triggerAction: 苍蓝特效
spawnEffects: custom:高亮星*3
iconImage: 苍.png

[hiddenAction_苍蓝特效]
spawnEffects: 苍, 苍2, 苍3

[effect_苍]
priority:critical
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: true
image: hit.png
life: 9999
scaleFrom: 4
scaleTo: 4
alpha: 10
dirSpeed: 3
color: #294C8A
alsoPlaySound: laser_deflect
[effect_苍2]
@copyFromSection:effect_苍
drawUnderUnits: false
dirSpeed: -3
color: #337EE8
scaleFrom: 3
scaleTo: 3
[effect_苍3]
@copyFromSection:effect_苍
dirSpeed: 2
#color: #337EE8
scaleFrom: 2
scaleTo: 2
image: shockwave.png


[graphics]
total_frames: 1
teamColorsOnTurret: true

image: 蒸腾气垫坦克.png
image_wreak: 蒸腾气垫坦克残骸.png
image_turret: 水管.png

image_shadow: SHADOW:蒸腾气垫坦克.png
shadowOffsetX:1
shadowOffsetY:1

splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 22
turretTurnSpeed: 3

maxAttackRange: 190
shootDelay: 10

[turret_1]
x: 0
y: 0
idleDir:0

aimOffsetSpread: 0

shoot_sound:蒸发.ogg
shoot_sound_vol:0.08
shoot_flame:CUSTOM:星

projectile: 1

energyUsage: 1.0

[turret_2]
x: 0
y: 0
idleDir:0
invisible: true

aimOffsetSpread: 0

shoot_sound:水弹爆.ogg
shoot_sound_vol:0.5
shoot_flame:CUSTOM:高亮星

projectile: 2

delay: 30

warmup:30

chargeEffectImage: SHARED:lighting_charge.png

canAttackCondition: if self.hasFlag(id=1)

[projectile_1]
tags= T-projectile
directDamage: 17
life: 15

color: #FFB8E6E6

instant:true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true

moveWithParent: true
beamImage: beamDoubleNarrow.png
beamImageEnd: SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png

beamImageOffsetRate: 2
sweepOffsetFromTargetRadius:0.4

sweepSpeed:10

explodeEffect: CUSTOM:Trail, CUSTOM:smoke
explodeEffectOnShield: CUSTOM:Trail, CUSTOM:smoke

[projectile_2]
tags= T-projectile
directDamage: 300
life: 25

instant:true

beamImage: 水柱.png
beamImageEnd: SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png

beamImageOffsetRate: 10

explodeEffect: CUSTOM:sparks*15, CUSTOM:smoke*8, CUSTOM:TrailBig*5, CUSTOM:高亮星*2
explodeEffectOnShield: CUSTOM:sparks*15, CUSTOM:smoke*8, CUSTOM:TrailBig*5, CUSTOM:高亮星*2

[effect_Trail]
priority: low
stripIndex: effects
frameIndex: 0
life: 36
fadeOut: true
attachedToUnit: false
color: #FFC2E5E5
fadeInTime:5
scaleFrom: 0.5
scaleTo: 1.0
alpha: 0.5
drawUnderUnits:false
atmospheric:true
hSpeed: 1
hOffsetRandom: 0.75
dirOffsetRandom:180
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

[effect_TrailBig]
stripIndex: effects
frameIndex: 0
life: 80
fadeOut: true
attachedToUnit: false
color: #FFC2E5E5
fadeInTime:2
scaleFrom: 1.8
scaleTo: 0.6
alpha: 0.5
drawUnderUnits:false
atmospheric:true
hSpeed: 1
hOffsetRandom: 0.8

[effect_smoke]
priority: verylow
frameIndex: 0
stripIndex: effects
spawnChance: 0.3
life: 90
fadeOut: true
attachedToUnit: false
fadeInTime: 5
scaleFrom: 0.3
scaleTo: 0.8
alpha: 0.5
drawUnderUnits: false
liveAfterAttachedDies: false
hSpeed: 0.4
xOffsetAbsoluteRandom: 4
yOffsetAbsoluteRandom: 4
xSpeedAbsoluteRandom: 0.3
ySpeedAbsoluteRandom: 0.3
dirOffsetRandom: 180
atmospheric: true

[effect_steam]
frameIndex: 0
stripIndex: effects
spawnChance: 0.5
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 5
scaleFrom: 0.5
scaleTo: 1.0
alpha: 0.5
drawUnderUnits: false
liveAfterAttachedDies: false
hSpeed: 0.2
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 20
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
dirOffsetRandom: 180
atmospheric: true

[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
alpha: 0.9
scaleFrom: 1.2
scaleTo: 1.2
image: SHARED:spark.png
priority: verylow
color: #1DC3FE

[effect_星]
priority: verylow

image: 白星.png
life: 70
fadeOut: true
attachedToUnit: true
color: #B8E6E6
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.1
drawUnderUnits:false

[effect_高亮星]
image: light.png
life: 80
fadeOut: true
attachedToUnit: false
color: #FFC2E5E5
scaleFrom: 0.8
scaleTo: 0.5
alpha: 1.0
drawUnderUnits:false

[turret_3]
x: 0
y: 0
idleDir:0
invisible: true

projectile: 3

size: 0
turnSpeed: 100

shoot_flame: CUSTOM:shockwave

delay: 3

canAttackCondition: if self.hasFlag(id=1)

[turret_4]
copyFrom: 3
x: 0
y: 0

shoot_flame:NONE

projectile: 4

[projectile_3]
tags= T-projectile
invisible:true
life: 50
speed: 0
frame: 0

targetGround: true
areaDamage: 10
areaRadius: 170
explodeOnEndOfLife: true
explodeEffect: NONE

areaHitUnderwaterAlways: true

pushForce: 0.1
pushVelocity: 0.1

deflectionPower: -1

[projectile_4]
tags= T-projectile
invisible:true
life: 50
speed: 0
frame: 0

targetGround: true
areaDamage: 20
areaRadius: 100
explodeOnEndOfLife: true
explodeEffect: NONE

areaHitUnderwaterAlways: true

pushForce: 0.3
pushVelocity: 0.2

deflectionPower: -1

[effect_shockwave]
image: shockwave.png
life: 80
fadeOut: true
attachedToUnit: true
scaleFrom: 0
scaleTo: 1
alpha: 0.6
drawUnderUnits:true
dirOffsetRandom:180

[movement]
movementType: HOVER
moveSpeed: 0.7
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08

targetHeight: 1
targetHeightDrift: 0.5

maxTurnSpeed: 3.5
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true