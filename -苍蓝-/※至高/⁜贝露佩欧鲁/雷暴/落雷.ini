[core]
name: 贝露落雷
class: CustomUnitMetadata
price:0
maxHp: 500
armour:100000
mass:3000
techLevel:1
buildSpeed:1
radius: -20
displayRadius: -20
isBuilding:false
numBitsOnDeath:8
isBio:false
isUnselectable:true
tags:落雷
canOnlyBeAttackedByUnitsWithTags:alk
explodeOnDeath:true
isUnrepairableUnit:true
showInEditor: false
autoTriggerCooldownTime: 0.125s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[graphics]
drawLayer:bottom
total_frames:1
image:SHARED:blank.png
image_wreak:NONE
image_turret:SHARED:blank.png
image_shadow:AUTO
shadowOffsetX:2
shadowOffsetY:2
disableLowHpFire:true
disableLowHpSmoke:true
showHealthBar:false
showEnergyBar:false

[attack]
canAttack:false
canAttackFlyingUnits: false
canAttackLandUnits:false
canAttackUnderwaterUnits:false
turretSize: 0
aimOffsetSpread: -0.01
turretTurnSpeed: 100
shootDelay:0
maxAttackRange:0

[movement]
movementType:LAND
moveSpeed: 0
moveAccelerationSpeed: 0.00001
moveDecelerationSpeed: 0.00001
maxTurnSpeed: 0
turnAcceleration: 0.00001
moveSlidingMode :false
moveIgnoringBody:false
targetHeight:0

[turret_1]
x: 0
y: 0
projectile: 落雷
turnSpeedAcceleration: 0
canShoot: false
turnSpeed:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

[hiddenAction_II]
autoTrigger:if self.numberOfUnitsInTeam(withTag='强积雨云',greaterThan=0,withinRange=400)
addResources:setFlag=1

[hiddenAction_2]
autoTrigger:if  not self.hasFlag(id=1)
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround:1

[hiddenAction_2+]
autoTrigger:if  self.hasFlag(id=1)
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround:1
fireTurretXAtGround_withProjectile:落雷2

[hiddenAction_3]
autoTrigger:if self.timeAlive(laterThanSeconds=0.1)
deleteSelf:true

[projectile_落雷]
tags= T-projectile
areaDamage:2000
areaRadius:150
areaRadiusFromEdge: true
life:0
speed: 0
drawSize:0
image:SHARED:blank.png
explodeEffect:CUSTOM:scorch,CUSTOM:落雷,CUSTOM:白光
explodeOnEndOfLife:true
areaHitAirAndLandAtSameTime:true
shieldDamageMultiplier:1.5
shieldDefectionMultiplier:-1

[projectile_落雷2]
tags= T-projectile
areaDamage:3000
areaRadius:250
areaRadiusFromEdge: true
life:0
speed: 0
drawSize:0
image:SHARED:blank.png
explodeEffect:CUSTOM:scorch2,CUSTOM:落雷2,CUSTOM:白光
explodeOnEndOfLife:true
areaHitAirAndLandAtSameTime:true
areaHitUnderwaterAlways:true
shieldDamageMultiplier:1.5
shieldDefectionMultiplier:-1

[effect_落雷]
priority:veryhigh
life: 120
alwayStartDirAtZero:false
fadeInTime: 0
fadeOut:true
attachedToUnit: true
drawUnderUnits:false
image:落雷.png
scaleFrom:1.9
scaleTo: 1.9
hOffset:180
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFramePingPong: false
animateFrameSpeed: 0.55
alpha:0.7
alsoPlaySound:落雷.ogg:0.8

[effect_落雷2]
priority:veryhigh
life: 120
alwayStartDirAtZero:false
fadeInTime: 0
fadeOut:true
attachedToUnit: true
drawUnderUnits:false
image:落雷.png
scaleFrom:2.8
scaleTo: 2.8
hOffset:250
total_frames: 7
animateFrameStart: 0
animateFrameEnd: 6
animateFramePingPong: false
animateFrameSpeed: 0.55
alpha:0.7
alsoPlaySound:落雷.ogg:0.8

[effect_白光]
priority:veryhigh
life: 10
alwayStartDirAtZero:true
fadeInTime: 0
fadeOut:true
attachedToUnit:false
drawUnderUnits:false
image:SHARED:light_50.png
scaleFrom:99
scaleTo:99
alpha:0.15

[effect_scorch]
priority:veryhigh
life:1000
alwayStartDirAtZero:true
fadeInTime: 0
fadeOut:true
attachedToUnit:false
drawUnderUnits:true
image:scorch.png
scaleFrom:0.4
scaleTo:0.4
alpha:0.8
hOffset:-2
dirOffsetRandom:180
createWhenOverLiquid: false

[effect_scorch2]
priority:veryhigh
life:1000
alwayStartDirAtZero:true
fadeInTime: 0
fadeOut:true
attachedToUnit:false
drawUnderUnits:true
image:scorch.png
scaleFrom:0.8
scaleTo:0.8
alpha:0.8
hOffset:-2
dirOffsetRandom:180
createWhenOverLiquid: false