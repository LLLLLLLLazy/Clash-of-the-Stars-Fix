
[core]
name: A_spyDrone
displayText: 间谍无人机
displayDescription: -无法攻击 \n -可以透过迷雾看的更广 \n -中型装甲和强冲临时护盾 \n -隐身技术使其不会在远处被发现 \n -渐加速的速度 \n -自我续航能力强

class: CustomUnitMetadata
price: 2800
maxHp: 700
mass: 5000
tags: units

maxShield: 1500
shieldRegen: -5
startShieldAtZero: true

techLevel: 1
buildSpeed: 23.7s
availableInDemo: true

radius: 16
displayRadius: 16
isBio: false
softCollisionOnAll: 12


selfRegenRate: 0.15


fogOfWarSightRange: 24

#15 = default
fogOfWarSightRangeWhileNotBuilt: 15

autoTriggerCooldownTime: 0.5s

[hiddenAction_concealment]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", lessThan=1, withinRange=150) and numberOfUnitsInEnemyTeam(withTag='真视之眼', lessThan=1)
convertTo: A_spyDrone[隐匿]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_fightingShield]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", greaterThan=0, withinRange=150) and not self.hasFlag(id=1)
resourceAmount: shield
resourceAmount_setValue: 1500
addResources: setFlag=1
spawnEffects: shockwave
[hiddenAction_shieldReset]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", lessThan=1, withinRange=150) and self.hp(greaterThan=499) and self.hasFlag(id=1)
addResources: unsetFlag=1

[graphics]
total_frames: 1

#imageScale:0.5

image:        empty.png
image_wreak:  base_dead.png
image_turret: NONE
image_shield: shockwave_large.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
showShieldBar: false

image_shadow: SHADOW:base.png
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:风线
movementEffectRate: 1

[effect_风线]
createWhenZoomedOut: false
priority:low
image: 风线.png
life: 30
fadeOut: true
attachedToUnit: false
scaleFrom: 1
scaleTo: 1
alpha: 0.3
drawUnderUnits: true
ySpeedRelative:-0.4
atmospheric: true

[animation_latent]
onActions: move, idle
pingPong: true

arm1_0s: {x:0, y:0, alpha:0.5}
arm1_1s: {x:0, y:0, alpha:1}
arm1_99s: {x:0, y:0, alpha:1}

arm2_0s: {x:0, y:0, alpha:0.5}
arm2_1s: {x:0, y:0, alpha:1}
arm2_99s: {x:0, y:0, alpha:1}

[arm_1]
x: 0
y: 0

image_end: base.png
drawOverBody: true
hidden: if not self.isFlying

[arm_2]
x: 0
y: 0

image_end: base隐.png
drawOverBody: true
hidden: if self.isFlying


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 150
showRangeUIGuide: true

[movement]
movementType: AIR
moveSpeed: 3.4
moveAccelerationSpeed: 0.008
moveDecelerationSpeed: 0.015

targetHeight:30

landOnGround: onlyIdle


#note: joinsGroupFormations=false could case slowdowns for groups of non-flying units
joinsGroupFormations: false

maxTurnSpeed: 2.3
turnAcceleration: 0.08

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  35

slowDeathFall: true





