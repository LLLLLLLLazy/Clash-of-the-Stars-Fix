
[core]
name: A_资源抽取器T1
displayLocaleKey: extractor
copyFrom: extractor_common.ini
price: 700
maxHp: 800
techLevel: 1
buildSpeed: 0.0010
armour: 1

maxShield: 400

#overrideAndReplace: extractor, extractorT1

#price per credit: $87
generation_resources: credits=10

[hiddenAction_aiBoss]
autoTrigger: if self.isControlledByAI()
requireConditional: if self.isControlledByAI()
addResources: 40

[action_upgradeT2]
convertTo: A_extractorT2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
#price:  1200 #1.13
price:  1400
#price per credit: $233 (out of date)
pos: 1
text: i:gui.actions.upgradeT2
description: i:units.extractor.upgrade.description
descriptionAddUnitStats: ${section.convertTo}
displayType: upgrade
buildSpeed: 0.0006
ai_isHighPriority: true
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

attachments_deleteNumUnits: 1
attachments_addNewUnits: 群星资金+12
attachments_onlyOnSlots: capital
alsoTriggerAction: upgradeTips
[hiddenAction_upgradeTips]
requireConditional: if numberOfUnitsInTeam(withTag="新之铁系统", greaterThan=0) and not self.globalTeamTags(includes="关闭T2升级提示")
showMessageToPlayer: AI:资源抽取器T2-升级完成

[action_upgradeT2Δ]
convertTo: A_extractorT2Δ
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 5500
pos: 2
text: 资源抽取器 Δ升级 - T2
description: -Δ升级完成可永久为所有抽取器免费并自动升级ΔT2
descriptionAddUnitStats: ${section.convertTo}
displayType: upgrade
buildSpeed: 0.0003
iconExtraImage: button_more.png
#iconExtraColor: #AAFFFFFF
isLocked: if numberOfUnitsInTeam(withTag='资源T2升级中', greaterThan=0, factoryQueue=true)
isLockedMessage: -已正在升级…
whenBuilding_triggerAction: AddTags
onlyOneUnitAtATime: true
canPlayerCancel: false
addGlobalTeamTags: 资源T2升级Δ

attachments_deleteNumUnits: 1
attachments_addNewUnits: 群星资金+12
attachments_onlyOnSlots: capital
alsoTriggerAction: upgradeTips Δ
isVisible: if not self.globalTeamTags(includes="资源T2升级Δ")
[action_upgradeT2Δ+]
@copyFromSection: action_upgradeT2Δ
isVisible: if self.globalTeamTags(includes="资源T2升级Δ")
price: 0

[hiddenAction_AddTags]
temporarilyAddTags: 资源T2升级中
[hiddenAction_resetTags]
autoTrigger: if self.tags(includes='资源T2升级中') and self.queueSize(empty=true)
temporarilyRemoveTags: 资源T2升级中
[hiddenAction_upgradeTips Δ]
requireConditional: if numberOfUnitsInTeam(withTag="新之铁系统", greaterThan=0) and not self.globalTeamTags(includes="关闭T2升级提示")
showMessageToPlayer: AI:资源抽取器T2-Δ升级完成

[hiddenAction_Δ]
autoTrigger: if self.globalTeamTags(includes="资源T2升级Δ") and self.queueSize(empty=true)
alsoQueueAction: upgradeT2Δ+

[animation_idle]
onActions : idle
body_0s: {frame:0}
body_0.8s: {frame:3}
body_1.0s: {frame:3}

pingPong:true

[graphics]
image:        extractor.png


[attachment_capital]
x:0
y:0
isUnselectable: false
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
setDrawLayerOnTop: false
lockRotation: true
deattachIfWantingToMove: false
keepWaypointsNeedingMovement: false
onCreateSpawnUnitOf: 群星资金+8

