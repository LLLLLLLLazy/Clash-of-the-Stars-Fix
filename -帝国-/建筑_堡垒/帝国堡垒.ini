
[core]
copyFrom: ROOT:/-帝国-/建筑_帝国前哨站/技能/黑障_建筑/黑障之护.template
name: 帝国堡垒
displayDescription: -步兵堡垒\n-可驻守四位步兵\n-提升驻守步兵的30攻击范围
class: CustomUnitMetadata
price: 5500
maxHp: 5000
mass: 9000
tags: units, 堡垒, 步兵塔

fogOfWarSightRange: 20
fogOfWarSightRangeWhileNotBuilt: 15

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint:-1,-1,1,1

techLevel: 1
buildSpeed: 0.0004

isBuilding: true
explodeTypeOnDeath: building

radius: 35
displayRadius: 35

maxTransportingUnits: 4
transportUnitsRequireTag: 步兵

@memory 指定坐标:unit

[action_范围运输]
@copyFromSection: template_范围运输

[hiddenAction_运输路径]
@copyFromSection: template_运输路径
addWaypoint_type: IGNORE
addWaypoint_target_fromReference: IGNORE

[decal_运输范围]
@copyFromSection: template_运输范围

[action_reclaim]
id: 自我回收
text: 自毁
description: -自我回收 \n -只退还25%资金(${core.price * 0.25})
displayType: action
pos: 100
ai_isDisabled: true
allowMultipleInQueue: false
buildSpeed: 8.3s
addResources: hp=-${core.maxHp}, credits=${core.price * 0.25}

[attachment_1]
x:5
y:-10
isVisible:false
isUnselectable:false
canAttack:true
addTransportedUnits:true
prioritizeParentsMainTarget: true
#keepAliveWhenParentDies:true
canBeAttackedAndDamaged: false

[attachment_2]
x:-5
y:-10
@copyFromSection: attachment_1

[attachment_3]
x:5
y:10
@copyFromSection: attachment_1

[attachment_4]
x:-5
y:10
@copyFromSection: attachment_1

[graphics]
total_frames: 1

image:        堡垒.png
image_wreak: NONE
image_turret: NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 0

maxAttackRange: 300
shootDelay: 50

showRangeUIGuide: false

[turret_skill]
x: 0
y: 0
invisible: true
canShoot: false
limitingRange: 9999

[projectile_1]
tags= T-projectile
directDamage: 0
life: 0
invisible: true
targetGround: true
explodeEffect: NONE

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[hiddenAction_黑障之境]
convertTo: 黑障_帝国堡垒
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_AIempty]
autoTrigger: if self.transportingCount(empty=true)
temporarilyAddTags: 步兵堡垒空

[hiddenAction_AIfull]
autoTrigger: if self.transportingCount(equalTo=4)
temporarilyRemoveTags: 步兵堡垒空