
[core]
name: 开发者模式
maxHp: 1
price: 0
mass: 1000000
tags: 开发者模式, 虚无, magic
isBuilder: true

#隐藏单位本身
showInEditor: false
radius: 10
fogOfWarSightRange: 0
showOnMinimap: false
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

[action_全局单位数量]
isActive: false
isVisible: true
text: 效果单位数量:%{numberOfUnitsInAllTeams-numberOfUnitsInAllTeams(withTag='units')}
description: 全局非'units'作战单位数量显示
displayType: infoOnlyStockpile
buildSpeed: 0

[action_最近非作战单位]
@copyFromSection: action_全局单位数量
isVisible: if not nearestUnit.tags(includes='units')
text: [%{nearestUnit}]
description: 最近的非'units'作战单位 \n 当最近为'units'单位时不显示

[action_最近非作战单位无显]
@copyFromSection: action_最近非作战单位
isVisible: if nearestUnit.tags(includes='units')
text: [NONE]


[action_侦测信号发送]
text: 侦测信号发送
description: 向所有侦测点发送信号
buildSpeed: 0
takeResources: setFlag=11
takeResources_includeUnitsWithinRange_team: any
takeResources_discardCollected: true
takeResources_excludeUnitsWithoutTags: 开发者侦测点
takeResources_triggerActionIfAnyCollected: 发送成功
takeResources_triggerActionIfNoneCollected: 发送失败
takeResources_maxUnits: 99
takeResources_includeUnitsWithinRange: 9999

[hiddenAction_发送成功]
showMessageToPlayer: 信号发送成功

[hiddenAction_发送失败]
showMessageToPlayer: 信号发送失败

[hiddenAction_接收信号11]
autoTrigger: if self.hasFlag(id=11)
showMessageToPlayer: 成功接收到来自侦测点的信号
addResources: unsetFlag=11

[action_1]
@define x: 1
text: 在玩家${x}建立侦测点
description: 测试在一名主机玩家的所属是否能在不同步的游戏下侦测到自此发送的信号并回馈
buildSpeed: 0
spawnUnits: 开发者侦测点(addResources=setFlag:${x})
iconExtraImage: ROOT:/素材/button_yes.png
iconExtraIsVisible: if globalSearchForFirstUnit(withTag="开发者侦测点${x}", relation="any") !=nullUnit

[action_2]
@define x: 2
@copyFromSection: action_1

[action_3]
@define x: 3
@copyFromSection: action_1

[action_4]
@define x: 4
@copyFromSection: action_1

[action_5]
@define x: 5
@copyFromSection: action_1

[action_6]
@define x: 6
@copyFromSection: action_1

[action_7]
@define x: 7
@copyFromSection: action_1

[action_8]
@define x: 8
@copyFromSection: action_1

[action_9]
@define x: 9
@copyFromSection: action_1

[action_10]
@define x: 10
@copyFromSection: action_1

[action_删除侦测点]
text: 删除所有侦测点
buildSpeed: 0
displayType: action
takeResources: setFlag=0
takeResources_includeUnitsWithinRange_team: any
takeResources_discardCollected: true
takeResources_excludeUnitsWithoutTags: 开发者侦测点
takeResources_maxUnits: 99
takeResources_includeUnitsWithinRange: 9999

[action_删除]
@copyFromSection: action_删除侦测点
text: 移除开发者模式
description: 删除开发者模式单位及所有侦测点
buildSpeed: 3s
deleteSelf: true
iconImage: ROOT:/素材/button_no.png

[action_获取全图视野]
isVisible: if self.teamDefeatedTech
text: 获取全图视野
description: 游戏已失败:可选择获取全图视野
buildSpeed: 0
displayType: infoOnlyStockpile
spawnUnits: 全图视野
iconExtraImage: ROOT:/素材/button_yes.png
iconExtraIsVisible: if numberOfUnitsInTeam(withTag="全图视野", greaterThan=0)
isActive: if not numberOfUnitsInTeam(withTag="全图视野", greaterThan=0)

[graphics]
image: SHARED:blank.png
icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[movement]
movementType: AIR
moveSpeed: 20

targetHeight: 0
targetHeightDrift: 0

moveIgnoringBody: true
