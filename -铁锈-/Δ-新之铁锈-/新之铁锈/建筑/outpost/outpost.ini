
[core]
name: A_outpostT1
class: CustomUnitMetadata

displayLocaleKey: outpostT1
displayText: 战争塔楼

tags: units, watchtower


price: 5000
maxHp: 2000
mass: 9000
armour: 8

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1

#used for placement, and placement of other buildings
constructionFootprint: -1,-1,1,1

techLevel: 1
buildSpeed: 0.0005

radius: 20
isBuilding: true

fogOfWarSightRange: 55

#15 = default
fogOfWarSightRangeWhileNotBuilt: 15

[hiddenAction_shield]
autoTrigger: if self.hp(lessThan=1000) and not self.hasFlag(id=1)
resourceAmount: shield
resourceAmount_setValue: 3000
addResources: setFlag=1
spawnEffects: shockwave
[hiddenAction_shieldRecover]
autoTrigger: if self.hp(full=true) and self.hasFlag(id=1)
addResources: unsetFlag=1
resourceAmount: shield
resourceAmount_setValue: 0


[action_scout]
price:  100
id: ${section.text}
text: 灯塔之明
description: 照亮一个方向的迷雾
displayType: action
buildSpeed: 0.1
pos: 0.2
addActionCooldownTime: 60s
highPriorityQueue: true
onlyOneUnitAtATime: true
isAlsoViewableByAllies: true

fireTurretXAtGround: 灯塔
fireTurretXAtGround_withProjectile: 定向侦察

[action_upgradeT2]
convertTo: A_outpostT2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:  12000
pos: 0.1

text: i:units.outpost.upgrade.name
description: -拥有更大的探索迷雾的范围\n-战争据点

displayType: upgrade
buildSpeed: 60.0s

#iconImage: SHARED:icon_upgrade.png
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
alsoTriggerAction: upgradeTips
[hiddenAction_upgradeTips]
requireConditional: if numberOfUnitsInTeam(withTag="新之铁系统", greaterThan=0) and not self.globalTeamTags(includes="关闭T2升级提示")
showMessageToPlayer: AI:战争塔楼T2-升级完成


[graphics]
image:        outpost.png
#image_wreak:  outpost_dead.png

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

maxAttackRange: 9999

[turret_fogOfWarSight]
x: 0
y: 0
canShoot: false
limitingRange: ${core.fogOfWarSightRange * 20 - 40}
showRangeUIGuide: true

[turret_灯塔]
x: 0
y: 0
invisible: true

[projectile_定向侦察]
tags= T-projectile
directDamage: 0
invisible: true
life: 1
speed: 10
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnExplode: 灯明(yOffsetRelative=960)
explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_灯明]
@copyFromSection: projectile_定向侦察
life: 10
turnSpeed: 0
shouldRevealFog: true
explodeEffect: CUSTOM:smog
explodeEffectOnShield: CUSTOM:smog
spawnProjectilesOnExplode: NONE
spawnProjectilesOnCreate: 灯明(yOffsetRelative=100, recursionLimit=14)

[effect_smog]
#烟雾
stripIndex: effects
frameIndex: 0
life: 100
fadeOut: true
attachedToUnit: false
#color: #F08927
fadeInTime: 0
scaleFrom: 28
scaleTo: 35
alpha: 0.8
drawUnderUnits:false
atmospheric:true

createWhenOffscreen: true

dirOffsetRandom:180
shadow:true
xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5

[movement]
movementType: NONE
moveSpeed: 0
maxTurnSpeed: 0

[ai]
maxGlobal: 0





