
[core]
name: 贝露模块空
class: CustomUnitMetadata
#price: 2
price: 1000
tags: units, 贝露模块空, 贝露中心单位

displayText: 空

showInEditor: false

maxHp: 3000

#don't keep damage
selfRegenRate:3000

mass: 90000

techLevel: 1

buildSpeed: 0.0002

radius: 20

fogOfWarSightRange: 5

transportSlotsNeeded: 1

softCollisionOnAll: 3

canNotBeDirectlyAttacked: true
isUnrepairableUnit: true


showOnMinimap: false


ignoreInUnitCapCalculation: true

isUnselectable: true

disableDeathOnZeroHp: true

[hiddenAction_月曜无效]
autoTrigger: true
setResourcesWithLogic: 月曜T1攻速=0.01, 月曜T2攻速=0.01


[template_贝露模块]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
price: ${section.convertTo}

isActive: if self.queueSize(empty=true)

isVisible: if ${isVisible}
@define isVisible: self.globalTeamTags(includes="贝露模块1结") and not self.tags(includes="第一模块制造中")

extraLagHidingInUI: true
buildSpeed: 0s
pos: 1

[action_贝露维修模块]
@copyFromSection: template_贝露模块
buildSpeed: 30s
convertTo: 贝露维修模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 2000

[action_贝露装甲模块]
@copyFromSection: template_贝露模块
buildSpeed: 30s
convertTo: 贝露装甲模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 2000

[action_贝露光护模块]
@copyFromSection: template_贝露模块
buildSpeed: 30s
convertTo: 贝露光护模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 3000

[action_贝露探雾模块]
@copyFromSection: template_贝露模块
isVisible: if self.globalTeamTags(includes="贝露模块1结") and not self.tags(includes="第一模块制造中") and numberOfUnitsInTeam(withTag="贝露探雾模块", lessThan=1, withinRange=50)
buildSpeed: 30s
convertTo: 贝露探雾模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 3000

[action_贝露资源模块]
@copyFromSection: template_贝露模块
buildSpeed: 30s
convertTo: 贝露资源模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
iconExtraImage: 苍圆.png
price: 2000

[action_贝露天束模块]
@copyFromSection: template_贝露模块
isVisible: if ( parent.numberOfAttachedUnits(withTag="日月天束模块")==0 or self.queueSize(withActionTag="天束x1")>0 ) and ${isVisible}
buildSpeed: 30s
convertTo: 贝露天束模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 3000, 日耀=15, 月曜=15, 苍蓝能量=1
tags=贝露天束模块, 天束x1

[action_贝露天束模块x2]
@copyFromSection: action_贝露天束模块
isVisible: if ( parent.numberOfAttachedUnits(withTag="日月天束模块")==1 and self.queueSize(withActionTag="贝露天束模块")<1 or self.queueSize(withActionTag="天束x2")>0 ) and ${isVisible}
price: 6000, 日耀=30, 月曜=30, 苍蓝能量=1
tags=贝露天束模块, 天束x2

[action_贝露天束模块x3]
@copyFromSection: action_贝露天束模块
isVisible: if ( parent.numberOfAttachedUnits(withTag="日月天束模块")==2 and self.queueSize(withActionTag="贝露天束模块")<1 or self.queueSize(withActionTag="天束x3")>0 ) and ${isVisible}
price: 9000, 日耀=45, 月曜=45, 苍蓝能量=1
tags=贝露天束模块, 天束x3

[action_贝露天束模块x4]
@copyFromSection: action_贝露天束模块
isVisible: if ( parent.numberOfAttachedUnits(withTag="日月天束模块")==3 and self.queueSize(withActionTag="贝露天束模块")<1 or self.queueSize(withActionTag="天束x4")>0 ) and ${isVisible}
price: 12000, 日耀=60, 月曜=60, 苍蓝能量=1
tags=贝露天束模块, 天束x4

[action_贝露天束模块x5]
@copyFromSection: action_贝露天束模块
isVisible: if ( parent.numberOfAttachedUnits(withTag="日月天束模块")==4 and self.queueSize(withActionTag="贝露天束模块")<1 or self.queueSize(withActionTag="天束x5")>0 ) and ${isVisible}
price: 15000, 日耀=75, 月曜=75, 苍蓝能量=1
tags=贝露天束模块, 天束x5


[template_免费模块]
isVisible: if not self.globalTeamTags(includes="贝露模块1结") or self.tags(includes="第一模块制造中")
description: -第一个获取的基础模块无需资源且制造速度快\n
whenBuilding_triggerAction: 已免费
buildSpeed: 5s
price: 0

[hiddenAction_已免费]
temporarilyAddTags: 第一模块制造中
addGlobalTeamTags: 贝露模块1结

[hiddenAction_制造取消]
autoTrigger: if self.tags(includes="第一模块制造中") and self.queueSize(empty=true)
temporarilyRemoveTags: 第一模块制造中
removeGlobalTeamTags: 贝露模块1结

[action_免费天束模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露天束模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
tags=贝露天束模块

[action_免费光护模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露光护模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_免费探雾模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露探雾模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_免费维修模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露维修模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_免费装甲模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露装甲模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[action_免费资源模块]
@copyFromSection: template_贝露模块, template_免费模块
convertTo: 贝露资源模块
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
iconExtraImage: 苍圆.png


[hiddenAction_天束构建中]
autoTriggerOnEvent: queueItemAdded
requireConditional: if self.queueSize(withActionTag="贝露天束模块")>0
temporarilyAddTags: 日月天束模块

[hiddenAction_天束构建取消]
autoTriggerOnEvent: queueItemCancelled
requireConditional: if self.queueSize(withActionTag="贝露天束模块")<1
temporarilyRemoveTags: 日月天束模块


[global_resource_日耀]
displayName: 日耀
displayColor: #A0FF9500
priority: 0.3

[global_resource_月曜]
displayName: 月曜
displayColor: #A04060FF
priority: 0.3

[resource_月曜T1攻速]
displayName: 月曜T1攻速
hidden: true

[resource_月曜T2攻速]
displayName: 月曜T2攻速
hidden: true

[graphics]
drawLayer: experimentals

total_frames: 1

image:        SHARED:blank.png
image_wreak:  NONE
image_turret: NONE

icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

[ai]
ai_upgradePriority: 0.2

