
[core]
name: 腐败建造虫
displayText: 腐败建造虫
displayDescription: -建造腐蚀的虫族建筑
class: CustomUnitMetadata
price: 150, 腐蚀=${corrode}
maxHp: 130
mass: 500

techLevel: 1
buildSpeed: 0.005
#availableInDemo: true

isUnrepairableUnit: true

radius: 10
displayRadius: 10
isBio: true
isBug: true
tags: units, 虫族, 小型虫, 建造虫, 虫筑系T1, 一次性建造, 固定射击

selfRegenRate: -0.01


softCollisionOnAll: 12



dieOnConstruct: true
nanoRange: 12

unitsSpawnedOnDeath: 资源返还(addResources=ammo:37|energy:3)

[hiddenAction_腐蚀价格]
@global corrode: 15
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}

[template_Build]
isLocked: if not self.globalTeamTags(includes='启')
isLockedMessage: 在母巢生成普拉克勒斯并选择腐蚀分支

[canBuild_1]
@copyFromSection: template_Build
name: 地雷
pos:  1
price: 250
forceNano: true


[canBuild_2]
@copyFromSection: template_Build
name: 腐败的虫巢
pos:  2


[canBuild_3]
@copyFromSection: template_Build
name: 腐败的飞虫地巢
pos:  3


[canBuild_4]
@copyFromSection: template_Build
name: 毒蚀塔
pos:  4


[canBuild_5]
@copyFromSection: template_Build
name: 腐朽墓穴
pos:  5


[canBuild_6]
@copyFromSection: template_Build
name: 邪恶之卵
pos:  6


[canBuild_7]
@copyFromSection: template_Build
name: 天神草
pos:  7
isLocked: if numberOfUnitsInTeam(withTag='天神草', greaterThan=0, incompleteBuildings=true)
isLockedMessage: -只能拥有一个普拉克勒斯


[canBuild_8]
@copyFromSection: template_Build
name: 赛法草
pos:  8
price: 腐蚀=5000
isLocked: if numberOfUnitsInTeam(withTag='赛法草', greaterThan=0, withinRange=300, incompleteBuildings=true)
isLockedMessage: 你不能赛法草距离300范围内......
isLockedAlt: if numberOfUnitsInTeam(withTag='腐蚀蔓延', withinRange=800, lessThan=1)
isLockedAltMessage: 需要在腐蚀蔓延之地


[canBuild_恐虐传送门]
name: 亚空间水晶
pos: 100
isVisible: if self.hasResources(混沌元素=1)


[hiddenAction_一次性建造优化检测]
@copyFromSection: template_一次性建造优化检测

[hiddenAction_一次性建造优化]
@copyFromSection: template_一次性建造优化

[graphics]
imageScale: 1.2
total_frames: 3
image:        腐败的建造虫.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO_ANIMATED
shadowOffsetX:1
shadowOffsetY:1


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 6

animation_idle_start: 0
animation_idle_end: 0

movementEffect: CUSTOM:trace
movementEffectRate: 10

[effect_trace]
priority: verylow
attachedToUnit: false
life: 200
image: SHARED:spark.png
color: #176917
scaleFrom: 2
scaleTo: 2
xOffsetRelativeRandom: 10
drawUnderUnits: true


[attack]

isMelee: true

canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

isFixedFiring: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 10
shootDelay: 30


[projectile_1]
tags= T-projectile
directDamage: 23
life: 50
instant: true


[movement]
movementType: LAND
moveSpeed: 0.8
moveAccelerationSpeed: 0.12
moveDecelerationSpeed: 0.12


maxTurnSpeed: 6.5
turnAcceleration: 0.4

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181

reverseSpeedPercentage:0



[ai]
useAsBuilder: true

[global_resource_混沌元素]
hidden: false
displayName: 混沌元素
displayColor: #FF1A00
priority: 1