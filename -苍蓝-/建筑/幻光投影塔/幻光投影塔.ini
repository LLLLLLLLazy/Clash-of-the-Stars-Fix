
[core]
name: 幻光投影塔
displayText: 幻光投影塔
displayDescription: -可建立脆弱的投影攻击敌军 \n -受到任意攻击后立刻隐形 \n -不会显示自身生命
price: 7000
maxHp: 700
mass: 9000
tags: units, 幻塔, 幻光投影塔
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 幻塔

buildSpeed: 0.00025
techLevel: 1

#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1
#used for placement, and placement of other buildings
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

radius: 20

isBio: false
isBuilding: true
isBuilder: true

softCollisionOnAll: 0

canRepairBuildings: true

nanoRange: 270
nanoBuildSpeed: 0.5
nanoRepairSpeed: 1000
canRepairUnitsOnlyWithTags: 幻

effectOnDeath: CUSTOM:投影消散

[canBuild_1]
name: 幻光投影
pos: 1

[action_cheat]
isActive: false
text: 隐形
description: -受击后自动隐形5s \n -期间不会攻击
displayType: infoOnly
convertTo: 幻光投影塔[隐形]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
autoTrigger:if self.hasTakenDamage(withinSeconds=0.1) and numberOfUnitsInEnemyTeam(withTag='真视之眼', lessThan=1)
pos: 0
buildSpeed: 0s
spawnEffects: CUSTOM:投影消散
isLocked: if numberOfUnitsInEnemyTeam(withTag='真视之眼', greaterThan=0)
isLockedMessage: 你正被注视着... \n -真视之眼- \n

[graphics]
total_frames:1
image: 幻光投影塔.png
image_wreak: NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

showHealthBar: false

repairEffect:CUSTOM:建造hit
repairEffectAtTarget:CUSTOM:建造hit2

[effect_投影消散]
image: 幻光投影塔.png
life: 25
fadeOut: true
scaleFrom: 1
scaleTo: 1
alpha: 0.8

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretTurnSpeed: 20

maxAttackRange: 270
shootDelay: 0.01

[turret_nano]
x: 0
y: 13
size: 0
warmup:10

isMainNanoTurret: true
canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.8

[turret_1]
x: 0
y: 13

chargeEffectImage:hit.png
warmup: 95

shoot_flame: CUSTOM:lightSlowFade, CUSTOM:建造hit

size:0

projectile: 1

[projectile_1]
tags= T-projectile
directDamage: 200
life: 80
speed: 0
targetSpeed: 16
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash
effectOnCreate: CUSTOM:projectileLight*3

[effect_建造hit]
image: hit.png
life: 40
fadeOut: true
scaleFrom: 0
scaleTo: 1.5
alpha: 1
#drawUnderUnits:true
[effect_建造hit2]
image: hit.png
life: 20
fadeOut: true
scaleFrom: 0.2
scaleTo: 2.25
alpha: 1

[effect_warmup]
priority:high
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:3.9

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.6
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

