[core]


name: 骨龙
maxHp: 3000
mass: 10000
price: 2000
tags: units, 恐虐, 骨龙
displayText: 红龙
displayDescription: -喷吐烈焰的装甲飞龙

radius: 45
armour: 3
armourMinDamageToKeep: 3
softCollisionOnAll: 20
selfRegenRate: 0.1

buildSpeed: 14s
energyMax: 20
energyNeedsToRechargeToFull: true
energyRegenWhenRecharging: 0.15
transportSlotsNeeded: 2

canNotBeGivenOrdersByPlayer: true

fogOfWarSightRange: 22

autoTriggerCooldownTime: 0.1s

[hiddenAction_$运输]
@copyFrom_skipThisSection:true

[hiddenAction_summon]
autoTriggerOnEvent: completeAndActive
spawnEffects: CUSTOM:红光, CUSTOM:红束波

[action_1]
isActive: false
text: 龙炎火球
description: -向敌人位置发射一颗火球造成800伤害\n -蓄力:1.5s
buildSpeed: 1.5s
displayType: infoOnlyStockpile
addActionCooldownTime: 6s
whenBuilding_cannotMove: true
whenBuilding_temporarilyConvertTo: 骨龙[停蓄]
whenBuilding_triggerAction: 延时属性更新
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}
playAnimation: attack
finishPlayingLastAnimation: true
isAlsoViewableByEnemies: true
isAlsoViewableByAllies: true

[hiddenAction_延时属性更新]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${DelayedConvertUpdate}

[hiddenAction_1C]
alsoQueueAction: 1



[graphics]
image: 龙体.png
splastEffect: true
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

[arm_1]
x: -13.5
y: 1
image_end: 左翼.png
image_end_shadow: SHADOW:左翼.png
image_end_teamColors: true
drawOverBody: true
moveSpeed: 18
[arm_2]
x: 13.5
@copyFromSection: arm_1
image_end: 右翼.png
image_end_shadow: SHADOW:右翼.png
[arm_3]
@copyFromSection: arm_1
x: 0
y: -16.3
drawDirOffset: 180
drawOverBody: false
image_end: 尾.png
image_end_shadow: SHADOW:尾.png
[arm_4]
@copyFromSection: arm_3
x: 8
y: -17
image_end: 爪.png
image_end_shadow: SHADOW:爪.png
[arm_5]
@copyFromSection: arm_4
x: -8
image_end: 爪.png
image_end_shadow: SHADOW:爪.png


[animation_idle]
onActions:move, idle
arm1_0s:{dir:37}
arm1_0.5s:{dir:29}
arm1_0.8s:{dir:16}
arm1_1.1s:{dir:0}
arm1_1.3s:{dir:-4}
arm1_1.8s:{dir:-8}

arm2_0s:{dir:-37}
arm2_0.5s:{dir:-29}
arm2_0.8s:{dir:-16}
arm2_1.1s:{dir:0}
arm2_1.3s:{dir:4}
arm2_1.8s:{dir:8}
blendIn: 1s
blendOut: 2s
KeyframeTimeScale: 0.35
pingPong: true

[animation_attack]
pingPong: false
arm1_0.0s:{dir:0}
arm1_0.25s:{dir:32}
arm1_0.5s:{dir:0}
arm1_0.58s:{dir:-8}
arm1_0.75s:{dir:5}
arm1_0.9s:{dir:0}

arm2_0.0s:{dir:0}
arm2_0.25s:{dir:-32}
arm2_0.5s:{dir:0}
arm2_0.58s:{dir:8}
arm2_0.75s:{dir:-5}
arm2_0.9s:{dir:0}

[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
maxAttackRange: 300
shootDelay:1
isFixedFiring:true
aimOffsetSpread:0
isMelee:true
meleeEngangementDistance:100000

[turret_1]
x: 0
y: 28
barrelY: 17
delay: 6s
projectile: 5红
onShoot_triggerActions: 1C

[projectile_5红]
tags= T-projectile
areaDamage: 800
areaRadius: 0
life: 9
speed: 99
invisible: true
explodeOnEndOfLife: true
deflectionPower: -1
targetGround: true
targetGroundSpread: 0
disableLeadTargeting: true
explodeEffect: CUSTOM:红圈1, CUSTOM:红1
explodeEffectOnShield: CUSTOM:红圈1, CUSTOM:红1
spawnProjectilesOnCreate: 5滞

[projectile_5滞]
tags= T-projectile
areaDamage: 0
areaRadius: 49
friendlyFire: only-ignoreEnemy
pushVelocity: 2.5
life: 90
speed: 0
invisible: true
deflectionPower: -1
explodeOnEndOfLife: true
spawnProjectilesOnEndOfLife: 5
disableLeadTargeting: true
explodeEffect: CUSTOM:炎光无随, CUSTOM:火散*3
explodeEffectOnShield: CUSTOM:炎光无随, CUSTOM:火散*3

[projectile_5]
tags= T-projectile
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
areaDamage: 800
areaRadius: 60
life: 999
deflectionPower: -1
speed: 5
targetSpeed: 10
targetSpeedAcceleration: 0.02
largeHitEffect: true
drawSize: 1.2
frame: 9
lightColor: #ff0000
lightSize: 1
initialUnguidedSpeedHeight: 1
gravity: 0.12
targetGround: true
targetGroundSpread: 0
lightCastOnGround: true
disableLeadTargeting: true
trailEffect: CUSTOM:炎烟
trailEffectRate:2
effectOnCreate: CUSTOM:火光, CUSTOM:炎放波
explodeEffect: CUSTOM:炎爆, CUSTOM:炎火波, CUSTOM:炎光, CUSTOM:火散*5, CUSTOM:炎风
explodeEffectOnShield: CUSTOM:炎爆, CUSTOM:炎火波, CUSTOM:炎光, CUSTOM:火散*5, CUSTOM:炎风
spawnProjectilesOnExplode: 爆炸效果

[projectile_爆炸效果]
tags= T-projectile
directDamage: 0
largeHitEffect: true
life: 0
explodeOnEndOfLife: true
explodeEffectOnShield: NONE

[effect_炎烟]
priority: veryhigh
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #FF3A28
fadeInTime:2
scaleFrom: 0.6
scaleTo: 0.6
alpha: 0.6
drawUnderUnits: false
atmospheric: true
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

[effect_火光]
priority: veryhigh
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #FF3A28
fadeInTime:2
scaleFrom: 1.2
scaleTo: 1.2
alpha: 0.6
drawUnderUnits: false
liveAfterAttachedDies: false

[effect_炎爆]
priority: veryhigh
life: 30
scaleFrom: 2
scaleTo: 6
color: #FF3A28
alpha: 0.8

image: ice1.png
total_frames: 13
animateFrameStart: 0
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5

[effect_炎火波]
priority: veryhigh
stripIndex: shockwave_large
life: 25
scaleFrom: 0
scaleTo: 1.5
alpha: 1
color: #ff0000

[effect_炎光]
priority: veryhigh
attachedToUnit: true
life: 25
alpha: 0.8
scaleFrom: 0.8
scaleTo: 1.25
image: SHARED:light_50.png
color: #FF3A28
drawUnderUnits: false

[effect_炎光无随]
@copyFromSection: effect_炎光
attachedToUnit: false

[effect_火散]
priority: veryhigh
life: 60
alpha: 1
scaleFrom: 1
scaleTo: 1
stripIndex: fire
drawUnderUnits: false
atmospheric: true
attachedToUnit: false
xSpeedRelativeRandom: 1.8
ySpeedRelativeRandom: 1.8

[effect_炎放波]
@copyFromSection: effect_炎火波
life: 30
scaleTo: 2
alpha: 1
color: #FF3A28

[effect_炎风]
@copyFromSection: effect_炎放波
image: disturbance.png

[effect_炎释]
@copyFromSection: effect_炎火波
life: 10
scaleFrom: 1
scaleTo: 0
alpha: 1
color: #FF3A28

[effect_红光]
priority: veryhigh
attachedToUnit: true
life: 60
alpha: 1
scaleFrom: 4
scaleTo: 0.5
image: SHARED:light_50.png
color: #ff0000
drawUnderUnits: false

[effect_红束波]
@copyFromSection: effect_炎火波
life: 30
scaleFrom: 2
scaleTo: 0
fadeOut: false


[effect_红圈1]
priority: critical
createWhenOffscreen: true
liveAfterAttachedDies: true
attachedToUnit: true
drawUnderUnits: true
image: 红圈粗.png
life: 90
scaleFrom: 0.24
scaleTo: 0.24
alpha: 2
dirSpeed: 10
fadeOut: false
fadeInTime: 20
color: #ff0000

[effect_红1]
priority: critical
createWhenOffscreen: true
liveAfterAttachedDies: true
attachedToUnit: true
drawUnderUnits: true
image: 红.png
life: 90
scaleFrom: 0
scaleTo: 0.24
alpha: 1.0
dirSpeed: 10
fadeOut: false
fadeInTime: 45
color: #ff0000

[movement]
movementType: air
moveSpeed: 0.9
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.03
maxTurnSpeed: 3
turnAcceleration: 0.1
targetHeight: 35
targetHeightDrift: 1.5
startingHeightOffset: 5
moveSlidingMode: true