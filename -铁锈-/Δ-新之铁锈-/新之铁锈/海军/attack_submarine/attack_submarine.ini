
[core]
name: A_attackSubmarine
class: CustomUnitMetadata
price: 3300
maxHp: 740
mass: 3000
tags: units
armour: 6

#overrideAndReplace:attackSubmarine
displayLocaleKey:attackSubmarine

techLevel: 1
buildSpeed: 0.00039
availableInDemo: false

energyMax:1
energyRegen:0.1
energyNeedsToRechargeToFull:true

radius: 13
#displayRadius: 11


isBio: false


[action_surface]

convertTo: A_attackSubmarineSurface
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
price:  0
text: Surface
text_zh:上浮
description: -Surface unit
description_zh: -使单位浮出水面
buildSpeed: 1
whenBuilding_cannotMove: false

spawnEffects:CUSTOM:shockwave



[graphics]
total_frames: 1

image:        base.png
image_wreak:  base_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



movementEffect:        CUSTOM:splash
#movementEffectReverse: CUSTOM:splash
#movementEffectReverseFlipEffects: true
movementEffectRate: 8

showEnergyBar:false




[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 0
turretTurnSpeed: 1.5

shootDelay:3s

maxAttackRange: 180

[turret_1]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: 1
size: 1.1
turnSpeed: 15

energyUsage:1

[turret_2]
#back turret
copyFrom: 1
x: 0
y: -3
idleDir:0
warmup:30
projectile: 1
linkDelayWithTurret:1


[projectile_1]
tags= T-projectile
#torpedo
directDamage: 231
life: 360
speed: 0.2
targetSpeed: 1.2
largeHitEffect: true

drawSize: 1.0
color: #551E1E96
lightSize: 0.1
lightColor: #000000
trailEffect: true
#largeHitEffect: true
drawUnderUnits: true

[movement]
movementType: WATER
moveSpeed: 0.7
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.05


#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45


targetHeight: -8
targetHeightDrift: 0.3

maxTurnSpeed: 1.5
turnAcceleration: 0.05



[effect_splash]

life: 70
stripIndex: effects
frameIndex: 13

scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.4
atmospheric:true

fadeInTime: 3
fadeOut:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#hSpeed:0.1

yOffsetRelative:-24

attachedToUnit: false
drawUnderUnits:true



[effect_splash2]

life: 80
stripIndex: effects
frameIndex: 13

scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.8
atmospheric:true

fadeInTime: 3
fadeOut:true

dirOffsetRandom:180

xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
xOffsetAbsoluteRandom: 0.2
yOffsetAbsoluteRandom: 0.2


attachedToUnit: false
drawUnderUnits:false


[effect_shockwave]
alsoEmitEffects:CUSTOM:splash2*4

life: 80
stripIndex:shockwave
frameIndex:0

scaleFrom: 0.1
scaleTo: 1.0
alpha: 0.6

fadeInTime: 3
fadeOut:true

attachedToUnit: false
drawUnderUnits:true