[core]



name: 捕猎虫
maxHp: 600
mass: 7000
price: 1200
radius: 14
softCollisionOnAll: 14
isBug: true
isBio: true
techLevel: 2
selfRegenRate: 0.1
energyMax:1
energyRegen:0.001
displayDescription: -虫族空军拦截\n-近身撕咬\n-每过一段时间可喷吐毒液以突袭
buildSpeed: 16.7s
tags: units, 虫族, 中型虫, 捕猎虫, AI仅对空
showActionsWithMixedSelectionIfOtherUnitsHaveTag:捕猎虫

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU: true

[action_Upgrade]
convertTo: 幻影猎手
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:腐蚀=800
text:腐蚀 - 幻杀
displayType:upgrade
buildSpeed:33.3s
pos:1
description:-追不上吗……?\n-不,苦难不会摧毁希望\n-更快……还能更快!\n(提高下限降低上限?)
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0
isLocked: if self.globalTeamTags(includes='中刻{I}')
isLockedMessage: AI:停用低级腐蚀

[action_Upgrade2]
convertTo: 恐怖猎手
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:腐蚀=200
text:腐蚀 - 融液
displayType:upgrade
buildSpeed:19.8s
pos:1
description:-以喷吐毒弹代替撕咬 \n -经过极长时间后可远程突袭 \n -但喜欢冲向敌人的习惯仍然没有改掉
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
tags=腐蚀
setUnitMemory: 属性[24]=0
isLocked: if self.globalTeamTags(includes='中刻{I}')
isLockedMessage: AI:停用低级腐蚀

[action_battle]
autoTrigger: if self.isEnergyFull()
convertTo: 捕猎虫[突袭]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
isVisible: false

[hiddenAction_腐蚀中]
autoTrigger: if self.queueSize(withActionTag="腐蚀")>0 and not self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=-${movement.moveSpeed}*0.6
alsoTriggerAction: 属性变化
temporarilyAddTags: 腐蚀中

[hiddenAction_腐蚀停止]
autoTrigger: if self.queueSize(withActionTag="腐蚀")<1 and self.tags(includes='腐蚀中')
setUnitMemory: 属性[24]=0
alsoTriggerAction: 属性变化
temporarilyRemoveTags: 腐蚀中

[hiddenAction_自动腐蚀]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-幻影猎手") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade
addResourcesWithLogic: ${action_Upgrade.price}*-1

[hiddenAction_自动腐蚀2]
autoTrigger: if (self.hasUnitInTeam(withTag="腐蚀-恐怖猎手") and self.hasUnitInTeam(withTag="腐蚀之意")) and self.hasResources(${action_Upgrade2.price}) and self.queueSize(empty=true) and not self.isAttacking
alsoQueueAction: Upgrade2
addResourcesWithLogic: ${action_Upgrade2.price}*-1

[hiddenAction_无延迟追击B]
@copyFromSection: template_无延迟追击B
[hiddenAction_无延迟追击B2]
@copyFromSection: template_无延迟追击B2

[action_扩散移动点开]
@copyFromSection: template_扩散移动点开

[action_扩散移动点关]
@copyFromSection: template_扩散移动点关

[hiddenAction_设置扩散移动点]
@copyFromSection: template_设置扩散移动点

[hiddenAction_清除当前非巡逻路径]
@copyFromSection: template_清除当前非巡逻路径

[hiddenAction_锁定扩散移动点]
@copyFromSection: template_锁定扩散移动点

[hiddenAction_执行扩散移动点]
@copyFromSection: template_执行扩散移动点

[animation_1]
onActions:idle, move, attack
pingPong: true
scale_start: 1
scale_end: 1.04
speed: 70
[graphics]
image: 捕猎虫呐.png
scaleImagesTo: 40
image_turret: NONE
splastEffect: true
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1
[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: false
canAttackUnderwaterUnits: false
turretTurnSpeed: 20
maxAttackRange: 9
shootDelay: 25
isMelee: true
attackMovement: bomber

[turret_1]
x: 0
y: 0
invisible: true
projectile: 1
#turnSpeedAcceleration: 1.0
shoot_sound: NONE
shoot_sound_vol: 0
shoot_flame: small
shoot_light: #FFEECCCC
[projectile_1]
tags= T-projectile
directDamage: 50
life: 60
instant: true
[movement]
movementType: AIR
moveSpeed: 2.7
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.1

maxTurnSpeed: 3
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:true

[hiddenAction_AIcircle]
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_maxTime: 2s
addWaypoint_target_nearestUnit_tagged: 基地
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.energy(full=true) and self.hp(lessThan=580) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and not self.hasActiveWaypoint(type='touchTarget') and not self.hasFlag(id=1)

[hiddenAction_AIretreat]
clearAllWaypoints: true
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 修复点
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasActiveWaypoint(type='touchTarget') and self.hasFlag(id=1)
[hiddenAction_AIsetFlag]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hp(lessThan=100)
addResources: setFlag=1
[hiddenAction_AIunsetFlag]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hp(full=true)
addResources: unsetFlag=1

[hiddenAction_AI集群进攻]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 群虫成体
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasFlag(id=1) and not self.hasActiveWaypoint(type='guard') and self.globalTeamTags(includes='开端{I}') and not self.globalTeamTags(includes='战隙{I}')

[hiddenAction_AI集群进攻2]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 电盘虫
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasFlag(id=1) and not self.hasActiveWaypoint(type='guard') and not self.isAttacking and self.globalTeamTags(includes='中刻{I}')
