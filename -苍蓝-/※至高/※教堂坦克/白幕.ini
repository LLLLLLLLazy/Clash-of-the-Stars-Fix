
[core]
name: 白暮
displayText: 神圣之光
displayDescription: 
class: CustomUnitMetadata
price: 0
maxHp: 10000
mass: 0
radius: 35

isBuilding: true
isBuilder: true

canNotBeDamaged: true
canOnlyBeAttackedByUnitsWithTags: 不可被攻击, 不会受伤

#隐藏单位本身
showInEditor: false
fogOfWarSightRange: 0
showOnMinimap: false
disableAllUnitCollisions: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 0.2s

[hiddenAction_幕雾]
autoTrigger: if not self.hasFlag(id=5)
spawnEffects: CUSTOM:烟雾*2, CUSTOM:雾光

[hiddenAction_圣幕]
autoTrigger: if self.hasFlag(id=5)
spawnEffects: CUSTOM:圣光*2

[hiddenAction_消失]
autoTrigger: if self.timeAlive(laterThanSeconds=60) and not self.hasFlag(id=5)
deleteSelf: true


[action_order]
isActive: if not self.hasFlag(id=5)
isGuiBlinking: if self.hasFlag(id=5)
iconExtraImage: 光印十字.png
iconExtraIsVisible: if self.hasFlag(id=5)
price: 250000
text: 秩序重构
description: -请让白神为你带来温暖的光……
displayType: Upgrade
iconImage: 时之轮刻.png
buildSpeed: 0
pos: 1
addResources: setFlag=5
allowMultipleInQueue: false
playSoundAtUnit: vision.ogg:1.0
resetCustomTimer: true
spawnEffects: CUSTOM:光环, CUSTOM:光时

[hiddenAction_重秩]
autoTrigger: if self.customTimer(laterThanSeconds=30) and self.hasFlag(id=5)
addResources: unsetFlag=5
spawnEffects: CUSTOM:光回环, CUSTOM:秩序之光1, CUSTOM:秩序之光2, CUSTOM:秩序之光3, CUSTOM:秩序之光4, CUSTOM:秩序之光5
playSoundAtUnit: vision.ogg:1.5
convertTo: 教堂坦克
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setResourcesWithLogic: credits=0, 苍蓝能量=0
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0

[hiddenAction_光耀]
autoTrigger: if self.hasFlag(id=5)
spawnEffects: CUSTOM:光耀

[effect_光耀]
createWhenZoomedOut: false
priority:low
image: pain.png
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 20
scaleFrom: 0
scaleTo: 10
alpha: 0.9
dirOffsetRandom: 360
drawUnderUnits: true
atmospheric: true

[effect_光环]
createWhenZoomedOut: false
#priority:low
dirSpeed: 1
image: pain.png
life: 1800
fadeOut: false
attachedToUnit: true
scaleFrom: 10.0
scaleTo: 5.0
alpha: 0.9
drawUnderUnits: false

[effect_光时]
createWhenZoomedOut: false
dirSpeed: 0.24
image: 光印十字.png
life: 1800
fadeOut: true
attachedToUnit: true
scaleFrom: 6
scaleTo: 6
alpha: 0.3
drawUnderUnits: true
#color: #FFE000

[effect_光回环]
createWhenZoomedOut: false
#priority:low
dirSpeed: 1
image: pain.png
life: 100
fadeOut: true
attachedToUnit: true
scaleFrom: 5
scaleTo: 2.5
alpha: 0.7
drawUnderUnits: false

[effect_秩序之光1]
createWhenOffscreen: true
priority: veryhigh
image: 圣光.png
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 20
scaleFrom: 0
scaleTo: 15
alpha: 0.75
dirSpeed: 3
dirOffsetRandom: 360
drawUnderUnits: false

[effect_秩序之光2]
@copyFromSection: effect_秩序之光1
dirSpeed: -3

[effect_秩序之光3]
@copyFromSection: effect_秩序之光1
stripIndex: light_50
image: NONE

[effect_秩序之光4]
@copyFromSection: effect_秩序之光1
scaleFrom: 10
image: NONE
stripIndex: light_50

[effect_秩序之光5]
@copyFromSection: effect_秩序之光1
alpha: 1
image: pain.png
life: 60


[effect_烟雾]
stripIndex: effects
frameIndex: 0

life: 200
fadeOut: true
attachedToUnit: false
fadeInTime: 10
scaleFrom: 4
scaleTo: 5
alpha: 0.6
drawUnderUnits: false
atmospheric: true

dirOffsetRandom: 180

shadow: true

hSpeedRandom: 0.15
physics: true
physicsGravity: -0.06

xOffsetRelativeRandom: 25
yOffsetRelativeRandom: 25

xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5

[effect_雾光]
stripIndex: light_50
life: 200
fadeOut: true
attachedToUnit: false
fadeInTime: 10
scaleFrom: 3
scaleTo: 4
alpha: 0.5
drawUnderUnits: false
atmospheric: true

dirOffsetRandom: 180

xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20

xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5


[effect_圣光]
stripIndex: light_50
life: 120
fadeOut: true
attachedToUnit: false
fadeInTime: 10
scaleFrom: 2
scaleTo: 2
alpha: 0.5
color: #FFF9C2
drawUnderUnits: false
atmospheric: true

dirOffsetRandom: 180

xSpeedAbsoluteRandom: 1.2
ySpeedAbsoluteRandom: 1.2


[graphics]
image: SHARED:blank.png

[arm_1]
x: 0
y: 0
image_end: 光圈.png
spinRate: 0.8
hidden: if self.hasFlag(id=5)

[attack]
canAttack: false

[projectile_1]
life: 0
speed: 0
explodeOnEndOfLife:true
invisible: true

areaDamage: 0
areaRadius: 400
areaExpandTime: 100

areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true

deflectionPower: -1

pushVelocity: 30

explodeEffect: NONE
explodeEffectOnShield: NONE

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.0
moveDecelerationSpeed: 0.0

