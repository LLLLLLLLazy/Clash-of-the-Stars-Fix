
[core]
name: 贝露维修模块
copyFrom: common_slot.ini

displayDescription: -单位修复模块 \n -能量回满后生成治疗精灵以维修周围的单位 \n -每1能源供应提供1能量恢复/每秒(基础值:6能量恢复/每秒)

price: 2000

#autoRepair: true
#nanoRange: 360
#nanoRepairSpeed: 0.3
#nanoBuildSpeed: 2
#canRepairBuildings: true
#canRepairUnits:	true

energyMax: 200
energyRegen: 0.1

tags: units, 贝露模块

#autoTriggerCooldownTime: 0.1s

[hiddenAction_canRepair]
autoTrigger: if self.isEnergyFull()
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset:0,0
addEnergy: -200

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_setValue: 0
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: 1

[action_升级T2]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)

buildSpeed: 30s
convertTo: 贝露维修模块T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 5000

iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[graphics]
image: 苍影建造塔.png

[turret_1]
x:0
y:0

[projectile_1]
tags= T-projectile
life: 50
speed: 1000

image: null.png
deflectionPower: -1

targetGround:true
targetGroundSpread: 100

areaDamage: 0
areaRadius: 0

explodeEffect: CUSTOM:light, CUSTOM:lightFlashs
spawnUnit: 治疗精灵

[effect_light]
priority: verylow
image: SHARED:light_50.png
fadeInTime: 3
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 0
scaleTo: 1
alpha: 0.6
drawUnderUnits:false

[effect_lightFlashs]
priority: verylow
image: SHARED:light_50.png
fadeInTime: 5
life: 17
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 2
scaleTo: 2
alpha: 0.3
drawUnderUnits:false