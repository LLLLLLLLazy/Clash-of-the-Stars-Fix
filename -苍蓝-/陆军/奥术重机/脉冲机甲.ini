
[core]
name: 脉冲机甲[对地]
displayText: 奥术重机
displayDescription: -两门聚能奥术炮 \n -攻击地面与空中 \n -可消耗苍能紧急维修 \n “奥术飞弹是基础的攻击手段，奥术重机也正如此”

price: 5000
maxHp: 1800
maxShield: 550
shieldRegen: 0.2
mass: 6000
tags: units, 奥术重机, 神代战斗单位, 能量冷却, 转向攻击
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 奥术重机

techLevel: 2
buildSpeed: 0.0006

radius: 23
displayRadius: 25
isBio: false
softCollisionOnAll: 0

energyMax: 10
energyRegen: 0.01

[action_painting]
isVisible: if self.globalTeamTags(includes='利贝拉涂装')
convertTo: 脉冲机甲[利贝拉]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
text: “利贝拉”
description: -个性涂装 \n(不影响战斗属性)
displayType: upgrade
buildSpeed: 3.3s
pos: 2
spawnUnits: 雷霆

[hiddenAction_涂装解锁]
autoTrigger: if ( self.kills(greaterThan=2) or self.playerName=="孙狗" or self.playerName=="坚果先知" or self.playerName=="首富孙" ) and not self.globalTeamTags(includes='利贝拉涂装')
addGlobalTeamTags: 利贝拉涂装

[action_reply]
displayType: action
price: 苍蓝能量=0.2
text: 装甲再生
description: -回复300血量与护盾 \n -并将奥术炮完全充能

addActionCooldownTime: 30s
addResources: hp=300, shield=300, energy=10
spawnEffects: CUSTOM:arcane, CUSTOM:purple

buildSpeed: 3s
pos: 1

allowMultipleInQueue: false

[effect_arcane]
image: arcane_charge.png
life: 50
fadeOut: true
attachedToUnit: true
scaleFrom: 3
scaleTo: 2.5
alpha: 0.6
drawUnderUnits:false

[effect_purple]
image: purple_shield.png
life: 50
fadeOut: true
attachedToUnit: true
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.9
drawUnderUnits:false

[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        奥术重机.png
image_wreak:  奥术重机残骸.png
image_turret: NONE
image_shield: purple_shield.png

image_shadow: SHADOW:脉冲机甲.png
shadowOffsetX:2
shadowOffsetY:2


#animation_moving_start: 0
#animation_moving_end: 7
#animation_moving_speed: 6


#lock_shadow_rotation_with_main_turret: true
lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 225
shootDelay: 90
turretRotateWithBody: false

[turret_1]
x: 0
y: 0
barrelY: 24
barrelX: 14

shoot_sound: plasma_fire
shoot_sound_vol: 0.1
shoot_light: #AC70FF
shoot_flame: CUSTOM:fireLightFlash

chargeEffectImage: arcane_charge.png
warmupStartEffect: CUSTOM:warmup

warmup:10
energyUsage: 1

recoilOffset: -3
recoilOutTime: 6
recoilReturnTime: 18

[turret_2]
copyFrom: 1
x: 0
y: 0
barrelY: 24
barrelX: -14

[projectile_1]
tags= T-projectile
directDamage: 135
life: 80
speed: 0.1
targetSpeed: 16
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1
color: #AC70FF
trailEffect: CUSTOM:projectileTrail, CUSTOM:projectileTrailParticle
trailEffectRate: 0.6

wobbleAmplitude: 1.0
wobbleFrequency: 0.3s

autoTargetingOnDeadTarget: true

explodeEffect: CUSTOM:projectilePassThough, CUSTOM:explodeSmall, CUSTOM:hitLightFlash, CUSTOM:lightSparks*2, CUSTOM:lightSpot*3
explodeEffectOnShield: CUSTOM:hitLightFlash
effectOnCreate: CUSTOM:projectileLight, CUSTOM:lightSlowFade*2

[effect_warmup]
priority: high
image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: true
color: #791AFF
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative: 5

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #791AFF
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.8
drawUnderUnits:true
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20
ySpeedRelative: 0.6
ySpeedRelativeRandom: 0.2
liveAfterAttachedDies: true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #791AFF
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1

[effect_projectileTrailParticle]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #791AFF
fadeInTime: 2
scaleFrom: 0.2
scaleTo: 0.2
alpha: 0.7
drawUnderUnits: true
dirSpeedRandom: 5
xOffsetRelativeRandom: 20
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
priority: verylow
spawnChance: 0.8


[effect_projectileLight]
priority:veryhigh
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #791AFF
fadeInTime: 2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.5
drawUnderUnits:false
liveAfterAttachedDies: false


[effect_hitLightFlash]
priority:high
image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #791AFF
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_fireLightFlash]
@copyFromSection: effect_hitLightFlash
life: 17
scaleFrom: 1.5
scaleTo: 1.5

[effect_lightSparks]
attachedToUnit: false
life: 60
xSpeedRelativeRandom: 2
ySpeedRelativeRandom: 2
hSpeed: 1
color: #791AFF
scaleFrom: 0.3
scaleTo: 0.3
alpha: 0.8
image: SHARED:light_50.png
priority: verylow

dirSpeedRandom: 3
delayedStartTimerRandom: 6

[effect_lightSpot]
priority: verylow
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: false
color: #791AFF
scaleFrom: 1
scaleTo: 0
alpha: 1.2
fadeInTime: 20
delayedStartTimerRandom: 10
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20
dirOffsetRandom: 180


[effect_explodeSmall]
color: #791AFF
life: 25
attachedToUnit: true
image: 白爆.png
scaleFrom: 1
scaleTo: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

[effect_projectilePassThough]
priority:high
frameIndex: 4
stripIndex: projectiles2
life: 40
fadeOut: true
attachedToUnit: false
color: #8859C9
scaleFrom: 1
scaleTo: 0.8
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true

[leg_1]
x: -20
y: 0
attach_x: -13
attach_y: 0
moveSpeed: 1.9
moveWarmUp:0.1s


rotateSpeed: 7

heightSpeed: 0.7
resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: true
#dust_effect: false

holdDisMin: 22
holdDisMax: 42

[leg_2]
x: 20
y: 0
attach_x: 13
attach_y: 0
copyFrom: 1




[movement]
movementType: OVER_CLIFF
moveSpeed: 0.6
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

maxTurnSpeed: 5.0
turnAcceleration: 0.5

moveSlidingMode :false
moveIgnoringBody:false

reverseSpeedPercentage:1

