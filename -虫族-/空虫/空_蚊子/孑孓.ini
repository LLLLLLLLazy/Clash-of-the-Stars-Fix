
[core]
name: 孑孓
displayDescription: -蚊子的幼虫 \n -一段时间后可成长为成体 \n -极其脆弱 \n -较为敏捷 \n -回收不退还资金
price: 160
maxHp: 10
mass: 10
reclaimPrice: 0

techLevel: 1
buildSpeed: 2s

radius: 3
isBug: true
isBio: true
tags: units, 虫族, 小型虫, 蚊, 固定射击
selfRegenRate: 0.01

softCollisionOnAll: 1

fogOfWarSightRange: 2

[action_upgrade]
isVisible: if self.timeAlive(laterThanSeconds=33.3)
convertTo: 蚊子
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
price: 0
text: 成长
description: -完成体
descriptionAddUnitStats: ${section.convertTo}
displayType: upgrade
buildSpeed: 3s
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true
spawnEffects: shockwave

[hiddenAction_1]
autoTrigger: if self.timeAlive(laterThanSeconds=60)
convertTo: 蚊子
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnEffects: shockwave

[hiddenAction_干涸]
autoTrigger: if not self.isOverwater
addResources: hp=-1

[hiddenAction_召唤物单位]
autoTriggerOnEvent: created
requireConditional: if self.hasFlag(id=0)
temporarilyAddTags: 召唤物

[hiddenAction_水下出厂]
@copyFromSection: template_水下出厂

[graphics]
total_frames: 1
imageScale: 0.6
image:        小黑子.png
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

maxAttackRange: 2
shootDelay: 100

meleeEngangementDistance: 100
isMelee: true
isFixedFiring: true

[turret_1]
x:0
y:0
invisible: true
projectile: 1

[projectile_1]
tags= T-projectile
directDamage: 3
invisible: true
life: 10
instant: true
explodeEffect: CUSTOM:shockwave

[effect_shockwave]
stripIndex: shockwave
life: 10
alpha: 0.2
scaleFrom: 0
scaleTo: 1

[movement]
movementType: WATER
moveSpeed: 0.9
moveAccelerationSpeed: 0.8
moveDecelerationSpeed: 0.03
reverseSpeedPercentage: 0

maxTurnSpeed: 6.4
turnAcceleration: 0.5

targetHeight: -3
targetHeightDrift: 0.7

moveSlidingMode: true
moveSlidingDir: 181

[ai]
lowPriorityTargetForOtherUnits: true