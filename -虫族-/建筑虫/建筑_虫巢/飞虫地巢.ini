
[core]
name: 飞虫地巢
displayDescription: -养育虫族空军
class: CustomUnitMetadata
price: 800
maxHp: 600
mass: 9000

footprint: 0,0,1,1
constructionFootprint: 0,0,1,1
buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 1
buildSpeed: 0.001

radius: 18

isBio: true
isBug: true
isBuilding: true
tags: units, 虫族, 虫建筑, 虫筑系T1, 虫飞巢
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 虫飞巢

selfRegenRate: 0.06
selfBuildRate: 0.001

nanoFactorySpeed:1

softCollisionOnAll: 3

exit_x:0
exit_y:-1

canBuild_1_name:setRally
canBuild_1_pos:1

[canBuild_bugFly]
name: bugFly
pos: 2
isVisible: if not self.globalTeamTags(includes='AI系统') or numberOfUnitsInTeam(withTag='建造飞虫', greaterThan=1)

[canBuild_T1-1]
name:bugPickup
pos:2.1
isLocked: if self.globalTeamTags(includes='战隙{I}') and self.globalTeamTags(includes='AI系统')
isLockedMessage: AI:进入前期阶段,低级单位已停止建造

[canBuild_T1-2]
name:bugWasp
pos:2.2
isVisible: if not self.globalTeamTags(includes='AI系统') or (not self.tags(includes='一号空巢') and not self.globalTeamTags(includes='AI屯兵'))
isLocked: if self.globalTeamTags(includes='战隙{I}') and self.globalTeamTags(includes='AI系统')
isLockedMessage: AI:进入前期阶段,低级单位已停止建造

[canBuild_T1-3]
name:bugBee, 黄蜂
pos:2.3
isVisible: if not self.globalTeamTags(includes='AI系统') or not numberOfUnitsInEnemyTeam(withTag='地震塔T2', greaterThan=0) or self.globalTeamTags(includes='开端计攻2')
isLocked: if self.globalTeamTags(includes='战隙{I}') and self.globalTeamTags(includes='AI系统')
isLockedMessage: AI:进入前期阶段,低级单位已停止建造

[action_up2]
text:进化 - T2
description:-解锁生产T2飞行兵种
descriptionAddUnitStats: ${section.convertTo}
price:2000
buildSpeed:30s
pos:-2
iconImage:icon_upgrade.png
convertTo:飞虫地巢T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType:upgrade

[graphics]
total_frames: 1

image:        虫巢_空.png
image_wreak:  NONE

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 150
animation_idle_scale_start:1
animation_idle_scale_end:1.05
animation_idle_pingPong: true

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 10
shootDelay: 50

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[ai]
buildPriority: 0.3
ai_upgradePriority: 0.19
recommendedInEachBaseNum: 3
recommendedInEachBasePriorityIfUnmet: 0.6

[action_AI建造飞虫征集]
isVisible: if self.globalTeamTags(includes='AI系统') and not numberOfUnitsInTeam(withTag='建造飞虫', greaterThan=1)
unitShownInUI: bugFly
textAddUnitName: bugFly
descriptionAddFromUnit: bugFly
descriptionAddUnitStats: bugFly
produceUnits: bugFly
buildSpeed: 0.005
price: 400
pos: 2

[action_AI战斗飞虫征集]
isVisible: if self.globalTeamTags(includes='AI系统') and self.tags(includes='一号空巢') and not self.globalTeamTags(includes='中刻{I}')
unitShownInUI: bugWasp
textAddUnitName: bugWasp
descriptionAddFromUnit: bugWasp
descriptionAddUnitStats: bugWasp
produceUnits: bugWasp
buildSpeed: 0.002
price: 800
pos: 2.2

[action_AI自爆飞虫征集]
isVisible: if self.globalTeamTags(includes='AI系统') and numberOfUnitsInEnemyTeam(withTag='地震塔T2', greaterThan=0) and not self.globalTeamTags(includes='开端计攻2')
unitShownInUI: bugBee
textAddUnitName: bugBee
descriptionAddFromUnit: bugBee
descriptionAddUnitStats: bugBee
produceUnits: bugBee
buildSpeed: 0.005
price: 700
pos: 2.3

[hiddenAction_AI一号空巢]
autoTrigger: if self.globalTeamTags(includes='AI系统') and not numberOfUnitsInTeam(withTag='一号空巢', greaterThan=0) and self.hasResources(4000)
temporarilyAddTags: 一号空巢
alsoQueueAction: AI战斗飞虫征集, AI建造飞虫征集, up2
addResources: credits=-3200

[hiddenAction_AIbuildbugFly]
autoTrigger:if self.globalTeamTags(includes='AI系统') and self.hasResources(400) and not self.globalTeamTags(includes='中刻{I}') and not numberOfUnitsInTeam(withTag='建造飞虫', greaterThan=1) and self.queueSize(empty=true)
alsoQueueAction: AI建造飞虫征集
addResources: credits=-400

[hiddenAction_AIbuildbugBee]
autoTrigger:if self.globalTeamTags(includes='AI系统') and self.hasResources(700) and not self.globalTeamTags(includes='中刻{I}') and numberOfUnitsInEnemyTeam(withTag='地震塔T2', greaterThan=0) and not self.globalTeamTags(includes='开端计攻2') and self.queueSize(empty=true)
alsoQueueAction: AI自爆飞虫征集
addResources: credits=-700

[hiddenAction_AIupgrade]
autoTrigger:if self.globalTeamTags(includes='AI系统') and self.hasResources(4000) and self.queueSize(empty=true) and self.globalTeamTags(includes='开端{I}') and (self.globalTeamTags(includes='AI屯兵') or self.globalTeamTags(includes='战隙{I}'))
alsoQueueAction: up2
addResources: credits=-2000
