
[core]
name: 极恶电臭虫
displayText: 极恶⚡臭虫
displayDescription: -攻击地面单位 \n -击杀敌人后短时间内强化攻击 \n -对建筑物伤害稍低 \n \n -2023.8.29 冠军限定-

copyFrom: bug_bed.ini

price: credits=900, 腐蚀=${corrode}

maxHp: 330

tags: units, 虫族, 小型虫, 开端辅虫, 转向攻击, 极恶电臭虫, 未充能电臭虫
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 极恶电臭虫

unitsSpawnedOnDeath: 资源返还(addResources=ammo:225|energy:62)

energyMax: 5
energyRegen: -0.01667
energyStartingPercentage: 0

fogOfWarSightRange: 16

[hiddenAction_亡灵生成]
autoTriggerOnEvent: destroyed
requireConditional: if self.globalTeamTags(includes='狂猎') and self.globalTeamTags(includes='皎红')
spawnUnits: 极恶电臭虫[亡灵]

[action_冠军签名]
iconImage: 文一-签名.png
isVisible: if self.timeAlive < 10
isActive: false
id: 冠军签名
description: -冠军签名- \n (10s后隐藏)
pos: 99
displayType: infoOnlyStockpile
buildSpeed: 0s


[hiddenAction_腐蚀价格]
@global corrode: 220
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}

[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[action_charge]
isActive: false
autoTriggerOnEvent: killedAnyUnit
id: ${section.text}
text: 残骸电能转换
description: -击杀目标后将能量充满 \n -有能量时强化攻击 \n -周围己方或盟友臭虫击杀也可传输残骸电能
pos: 1
displayType: infoOnly
buildSpeed: 0s
iconImage: btn_dropdown_pressed.png
addResources: energy=5

[effect_charge]
priority:high
image: btn_dropdown_pressed.png
life: 60
fadeOut: true
fadeInTime: 15
attachedToUnit: true
scaleFrom: 0.2
scaleTo: 0.2
alpha: 0.8
drawUnderUnits:false
alwayStartDirAtZero:true

[hiddenAction_rage]
autoTrigger: if not self.isEnergyEmpty()
convertTo: 极恶电臭虫[Rage]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
spawnEffects: CUSTOM:charge

[action_Upgrade]
isVisible: false

[hiddenAction_自动腐蚀]
@copyFrom_skipThisSection:true

[graphics]
image: 极恶臭虫.png
showEnergyBar: false

[attack]
maxAttackRange: 290
shootDelay: 102

[turret_1]
shoot_sound:lighting_burst
shoot_sound_vol:0.2
shoot_flame:CUSTOM:sparks2*3
shoot_light:#FFcceeee

chargeEffectImage: SHARED:lighting_charge.png


[projectile_1]
tags= T-projectile
directDamage: 80
life: 15

instant: true

lightingEffect: true
largeHitEffect: true

shieldDamageMultiplier: 1
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.5

explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false


[effect_lightningShock]
life: 60


hOffset: 0
dirOffset: 0

fadeInTime: 0
fadeOut: false

attachedToUnit: true


image: SHARED:lightning_shock.png
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5



[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow

[effect_sparks2]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 0.5
hSpeed: 1
image: SHARED:spark.png
priority: verylow

[movement]
movementType: LAND
moveSpeed: 0.9

[ai]
upgradedFrom: bugBed