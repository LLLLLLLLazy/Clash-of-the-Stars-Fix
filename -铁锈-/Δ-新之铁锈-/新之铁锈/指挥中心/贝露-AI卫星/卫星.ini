
[core]
showInEditor: false
name: 卫星
displayDescription: -数光之执 \n -红星之力保护基地不受弹射物伤害 \n -蓝星之力歼灭来犯的敌人 \n “宇宙与新星......执行”

class: CustomUnitMetadata
price: 0
maxHp: 5000
armour: 10
mass: 999999999
tags=卫星

energyMax: 100
energyRegen: 0.05
energyRegenWhenRecharging: 0.015
energyNeedsToRechargeToFull: true

techLevel: 1
buildSpeed: 0s

radius: 6
isBio: false
softCollisionOnAll: 1

selfRegenRate: 0.2

#canBuild_1_name: 重等离子部队
#canBuild_1_pos: 1

#canBuild_2_name: 超坦部队
#canBuild_2_pos: 2

#canBuild_3_name: 空迁部队
#canBuild_3_pos: 3

autoTriggerCooldownTime: 0.1s

@memory 锁定坐标:unit

[hiddenAction_锁定坐标]
autoTriggerOnEvent: completeAndActive
setUnitMemory: 锁定坐标=nearestUnit(withTag='基地', relation='own').getAsMarker

[hiddenAction_坐标传送]
autoTrigger: if distanceBetween(self, memory.锁定坐标)>1
teleportTo: memory.锁定坐标

[graphics]
total_frames: 1
image:        双星之间.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: NONE
shadowOffsetX:0
shadowOffsetY:0

[decal_星光]
layer: afterBody
image: light.png
imageScale: 0.4
alpha: 0.5

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 0
turretTurnSpeed: 20

maxAttackRange: 500
shootDelay: 0

[turret_laser]
x: 0
y: 0
canShoot: false
invisible: true
laserDefenceEnergyUse: 1

[turret_1]
x: 0
y: 0
barrelHeight: 10000

shoot_sound: plasma_fire
shoot_sound_vol: 0.2

warmup: 77
chargeEffectImage: light.png

[projectile_1]
directDamage: 500
life: 30
speed: 99

beamImage:      SHARED:beam3.png
beamImageEnd:   SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
beamImageOffsetRate: 3
color: #2042f2f5

deflectionPower: -1

sweepSpeed: 5
sweepOffsetFromTargetRadius: 0.7

retargetingInFlight: true
retargetingInFlightSearchDelay: 50
retargetingInFlightSearchRange: 500

spawnProjectilesOnCreate: 1*5(offsetRandomX=500, offsetRandomY=500, recursionLimit=1)
spawnProjectilesOnEndOfLife: 3, 2

[projectile_2]
areaDamage: 100
areaRadius: 35
areaDamageNoFalloff: true
areaRadiusFromEdge: true
life: 20
largeHitEffect: true
instant: true
laserEffect: true

color: #3242f2f5

sweepSpeed: 5
sweepOffsetFromTargetRadius: 0.7

explodeEffect: smallExplosion, CUSTOM:lightSlowFade, CUSTOM:hitLightFlash, CUSTOM:shockwave
explodeEffectOnShield: CUSTOM:lightSlowFade, CUSTOM:hitLightFlash, CUSTOM:shockwave

[projectile_3]
areaDamage: 0
areaRadius: 0
life: 20
instant: true

beamImage:      SHARED:beam2.png
beamImageEnd:   SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
beamImageOffsetRate: 3
color: #2442f2f5

sweepSpeed: 5
sweepOffsetFromTargetRadius: 0.7

explodeEffect: NONE
explodeEffectOnShield: NONE


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 50
fadeOut: true
attachedToUnit: true
color: #42f2f5
scaleFrom: 2
scaleTo: 1.5
alpha: 0.2
drawUnderUnits:false

[effect_hitLightFlash]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #42f2f5
hSpeed: 1
hSpeedRandom: 0.5
scaleFrom: 0.5
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:false
xSpeedRelativeRandom: 1.5
ySpeedRelativeRandom: 1.5
delayedStartTimerRandom: 10

[effect_shockwave]
stripIndex: shockwave
life: 25
scaleFrom: 0
scaleTo: 1.5
alpha: 0.2
color: #42f2f5

[movement]
movementType: AIR
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

targetHeight: 50

maxTurnSpeed: 1
turnAcceleration: 1

ignoreMoveOrders: true