
[core]
name: 弩车
displayDescription: -破风之矢 \n -攻击地面单位 \n -攻击距离远 \n -命中后造成总计90的持续伤害 \n -箭矢被激光拦截需要较高能量

class: CustomUnitMetadata
price: 5000
maxHp: 1000
mass: 21000
tags: units

techLevel: 2
buildSpeed: 0.0005
#availableInDemo: true

radius: 22
displayRadius: 22

isBio: false
softCollisionOnAll: 0

fogOfWarSightRange: 18


[hiddenAction_已开火]
resetCustomTimer: true

[graphics]
total_frames: 2

image:        弩车.png
image_wreak:  NONE
#image_turret: 弩炮.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 1

dustEffect: true

[decal_炮塔]
onlyWhileAlive: true
order: 0.2
layer: afterBody
image: 空弩炮.png
basePositionFromTurret: 1

[decal_弩箭]
@copyFromSection: decal_炮塔
order: 0.1
image: 装填箭.png
alpha: min(self.customTimer/2, 1)


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 2

maxAttackRange: 310
shootDelay: 125

[turret_1]
x: 0
y: 0

projectile: 1

turnSpeedAcceleration: 0.9

shoot_sound:激光弓.wav
shoot_sound_vol:0.3
shoot_flame: CUSTOM:hitLightFlash

canShoot: true
onShoot_triggerActions: 已开火

recoilOffset: -4
recoilOutTime: 9
recoilReturnTime: 18



[projectile_1]
tags= T-projectile
life: 100
speed: 15

image: 弩箭.png
drawSize: 1.0

directDamage: 190

deflectionPower: 3

largeHitEffect: true

trailEffect: CUSTOM:矢羽
trailEffectRate: 1

explodeEffect: CUSTOM:没矢, CUSTOM:hitLightFlash, CUSTOM:explodeSmall, CUSTOM:星闪光, triangle*4
explodeEffectOnShield: CUSTOM:没矢, CUSTOM:hitLightFlash, CUSTOM:星闪光, triangle*4

spawnProjectilesOnExplode: 流血, 流血1, 流血2, 流血3, 流血4, 流血5, 流血6, 流血7, 流血8, 流血9

[projectile_流血]
tags= T-projectile
directDamage: 10
life: 100
speed: 100
drawSize: 0
delayedStartTimer: 60
deflectionPower: -1
explodeEffect:NONE
explodeEffectOnShield:NONE

[projectile_流血1]
@copyFromSection: projectile_流血
delayedStartTimer: 120
[projectile_流血2]
@copyFromSection: projectile_流血
delayedStartTimer: 180
[projectile_流血3]
@copyFromSection: projectile_流血
delayedStartTimer: 240
[projectile_流血4]
@copyFromSection: projectile_流血
delayedStartTimer: 300
[projectile_流血5]
@copyFromSection: projectile_流血
delayedStartTimer: 360
[projectile_流血6]
@copyFromSection: projectile_流血
delayedStartTimer: 420
[projectile_流血7]
@copyFromSection: projectile_流血
delayedStartTimer: 480
[projectile_流血8]
@copyFromSection: projectile_流血
delayedStartTimer: 540
[projectile_流血9]
@copyFromSection: projectile_流血
delayedStartTimer: 600

[effect_矢羽]
priority:low
image: 弩箭.png
life: 30
fadeOut: true
attachedToUnit: false
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.5
drawUnderUnits: true

[effect_没矢]
liveAfterAttachedDies: false
image: 弩箭.png
life: 600
fadeOut: false
attachedToUnit: true
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits: true
yOffsetRelative: -4

[effect_hitLightFlash]
priority: low
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: false
color: #47E0FF
scaleFrom: 1.2
scaleTo: 1.2
alpha: 1
drawUnderUnits:false

[effect_中光]
@copyFromSection: effect_hitLightFlash
life: 20
scaleFrom: 0.6
scaleTo: 0.6

[effect_explodeSmall]
color: #47E0FF
life: 20
attachedToUnit: true
image: ROOT:/素材/白爆.png
scaleFrom: 1
scaleTo: 1
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.6
fadeOut: false

[effect_星闪光]
image: ROOT:/素材/白星.png
life: 15
scaleFrom: 1
scaleTo: 0
alpha: 3
color: #47E0FF

[effect_triangle]
priority: verylow
life: 30
lifeRandom: 5
attachedToUnit: false
image: ROOT:/素材/效果三角.png
scaleFrom: 0.2
scaleTo: 0
color: #47E0FF
alpha: 1
atmospheric: true
dirSpeedRandom: 6
xOffsetRelativeRandom: 3
yOffsetRelativeRandom: 3
xSpeedRelativeRandom: 2
ySpeedRelativeRandom: 1
ySpeedRelative: 1
hSpeed: 1.5
hSpeedRandom: 0.5
physics: true

[movement]
movementType: LAND
moveSpeed: 0.6
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

maxTurnSpeed: 1.5
turnAcceleration: 0.03

moveSlidingMode :false
moveIgnoringBody:false


reverseSpeedPercentage:1



