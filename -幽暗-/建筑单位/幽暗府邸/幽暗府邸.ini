
[core]
name: 幽暗府邸
displayText: 幽暗府邸
displayDescription: -接通幽暗界的大门

class: CustomUnitMetadata
price: 12000
maxHp: 4000
mass: 9000
tags: units

footprint: -2, -1, 2, 1
constructionFootprint: -2, -1, 2, 1

generation_credits: 55
generation_delay: 40

techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

selfRegenRate: 0.2

radius: 40
#displayRadius: 30
isBio: false
isBuilding: true

softCollisionOnAll: 20

isPickableStartingUnit:	true

fogOfWarSightRange: 28

exit_x:0
exit_y:-5


[hiddenAction_create]
autoTrigger: if not self.hasFlag(id=1) and not self.globalTeamTags(includes='幽暗')
convertTo: 幽暗出场
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setResourcesWithLogic: 起始基地=1


[hiddenAction_破碎之星]
autoTriggerOnEvent: destroyed
requireConditional: if self.hasResources(起始基地=1)
spawnUnits: 碎星核, 基地亡语

[resource_起始基地]
displayName: 起始基地

[hiddenAction_阵营]
autoTrigger: if not self.globalTeamTags(includes='幽暗') and self.hasFlag(id=1)
addGlobalTeamTags: 幽暗


[hiddenAction_顶点之处]
autoTrigger: if self.globalTeamTags(includes="顶点") and not self.tags(includes="顶点之处")
temporarilyAddTags: 顶点之处

[hiddenAction_落下顶点]
autoTrigger: if not self.globalTeamTags(includes="顶点") and self.tags(includes="顶点之处")
temporarilyRemoveTags: 顶点之处


[canBuild_设置集结点]
name: setRally
pos:  -1

[canBuild_T1]
name:虚空爬虫
pos:1


[action_生存防御巩固]
@copyFromSection: template_生存防御巩固
pos: 0.1

[effect_生存防御巩固形]
@copyFromSection: template_生存防御巩固形

[graphics]
total_frames: 1
imageScale: 1
image:   幽暗府邸顶.png
image_back:   幽暗府邸.png
image_wreak: NONE

image_shadow: AUTO
shadowOffsetX:0
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 20

maxAttackRange: 280
shootDelay: 100

[turret_1]
x: 0
y: 0
invisible:true

projectile: 1

[projectile_1]
tags= T-projectile
directDamage: 100
life: 50
speed: 20
drawSize: 0
explodeEffect: NONE
explodeEffectOnShield: NONE
spawnUnit: 影兵
deflectionPower: -1

[movement]
movementType: BUILDING
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

