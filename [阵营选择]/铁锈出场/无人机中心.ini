
[core]
name: 无人机中心
tags: 无人机中心
maxHp: 1
mass: 100000
price: 0

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDamaged: true
canOnlyBeAttackedByUnitsWithTags: 不可被攻击

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

showOnMinimap: true

autoTriggerCooldownTime:0.01s
autoTriggerCooldownTime_allowDangerousHighCPU:true

isBuilder: true
canRepairBuildings: true
canRepairUnits: true
autoRepair: false
nanoRange: 200
nanoBuildSpeed: 0.0
nanoRepairSpeed: 0.0

[canBuild_10]
name: 指挥中心
pos: 1
price: 0

[hiddenAction_move]
autoTriggerOnEvent: completeAndActive
addWaypoint_type: move
addWaypoint_maxTime: 10s
addWaypoint_position_relativeOffsetFromSelf: 0, 370
addWaypoint_target_mapMustBeReachable: false

[hiddenAction_脱离卡死]
autoTrigger: if not self.isOverPassableTile(type="AIR")
fireTurretXAtGround: nano
fireTurretXAtGround_withOffset: 0, 1
fireTurretXAtGround_withProjectile: t

[hiddenAction_脱离卡死-一闪]
@copyFromSection: hiddenAction_脱离卡死
autoTrigger: if self.isOverPassableTile(type="AIR") and not self.hasFlag(id=1) and not self.hasFlag(id=2) and not self.hasFlag(id=3) and self.timeAlive(laterThanSeconds=3)
addResources: setFlag=3
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_maxTime: 10s
addWaypoint_target_nearestUnit_tagged: 铁锈出场
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_maxRange: 300

[hiddenAction_build]
autoTrigger: if numberOfUnitsInTeam(withTag='铁锈出场', greaterThan=0, withinRange=5, incompleteBuildings=true) and not self.hasFlag(id=1)
#addWaypoint_type: build
#addWaypoint_unitType: 指挥中心
#addWaypoint_prepend: true
#addWaypoint_triggerActionIfFailed: build
#addWaypoint_target_mapMustBeReachable: false
#addWaypoint_position_fromAction: true
#spawnUnits: 指挥中心[建造]
addResources: setFlag=1
convertTo: 无人机中心[静]
teleportTo: nearestUnit(withTag='铁锈出场', relation='own', incompleteBuildings=true)
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_消失]
autoTrigger: if self.timeAlive(laterThanSeconds=10)
deleteSelf: true

[attachment_1]
x:-50
y:-50
canAttack:true
keepAliveWhenParentDies:false
onCreateSpawnUnitOf:浮游无人机
canBeAttackedAndDamaged:false
[attachment_2]
x:50
y:-50
@copyFromSection: attachment_1
[attachment_3]
x:-50
y:50
@copyFromSection: attachment_1
[attachment_4]
x:50
y:50
@copyFromSection: attachment_1
[attachment_5]
x:25
y:35
onCreateSpawnUnitOf: 旋转定位
@copyFromSection: attachment_1

[graphics]
isVisibleToEnemies: false
image: null.png
image_turret:NONE

[attack]
canAttack: false

turretSize: 0
turretTurnSpeed: 999

[turret_nano]
x: 0
y: 0
invisible: true
warmup: 30

[projectile_t]
areaDamage:	0
life: 10
instant: true
teleportSource:true
explodeEffect:shockwave
areaHitAirAndLandAtSameTime: true

[movement]
movementType: AIR
moveSpeed: 4
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 5

maxTurnSpeed: 2.5
turnAcceleration: 0.4

targetHeight: 0
targetHeightDrift: 0
