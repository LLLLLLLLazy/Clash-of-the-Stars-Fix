

[core]
name:中心蜂防无人机
displayDescription:-对空对地\n-穿透护甲\n-电浆球机枪
tags: units, 蜂巢无人机, 召唤物
price:2000
reclaimPrice:0
maxHp:900
mass:3000
techLevel:1
buildSpeed:16.7s
radius:12
displayRadius:12
softCollisionOnAll:6
fogOfWarSightRange:15
isBio:false
canNotBeGivenOrdersByPlayer:true

isUnrepairableUnit: true

selfRegenRate: -0.55

explodeOnDeathGroundCollosion:true
effectOnDeathGroundCollosion: CUSTOM:lightningShock*2, CUSTOM:fireSmall*3

[hiddenAction_附从攻击目标]
autoTriggerOnEvent: completeAndActive
autoTrigger: if self.attacking!=customTarget1.attacking and self.activeWaypointTarget!=customTarget1.attacking
addWaypoint_type: attack
addWaypoint_target_fromReference: customTarget1.attacking
addWaypoint_prepend: true


[hiddenAction_归位]
addWaypoint_type:loadinto
addWaypoint_target_randomUnit_tagged:中心蜂巢
addWaypoint_prepend: true
autoTrigger:if not self.isAttacking

[hiddenAction_生命回复]
autoTrigger:if self.hasParent
addResources: hp=1000

[hiddenAction_脱离其他附属]
autoTriggerOnEvent: enteredTransport
requireConditional: if not parent.tags(includes='中心蜂巢')
disconnectFromParent: true

[hiddenAction_$运输]
@copyFrom_skipThisSection:true

[graphics]
imageScale:1.25
total_frames:2
image:蜂巢无人机.png
image_wreak:NONE
image_turret:NONE

#AUTO
image_shadow:AUTO
shadowOffsetX:1
shadowOffsetY:1
animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 2
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2

showHealthBar: false

lock_body_rotation_with_main_turret: true

[attack]
turretRotateWithBody: false
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
turretSize:0
turretTurnSpeed:3
maxAttackRange:150
shootDelay:20
aimOffsetSpread:0.4
isMelee:true
meleeEngangementDistance:350

[turret_0]
x:0
y:0
canShoot:false

[turret_1]
x:0
y:0
barrelY:20
barrelX:6
attachedTo:0
slave:true
canShoot:true
shoot_sound:gun_fire
shoot_sound_vol:0.4
shoot_flame:small
shoot_light:#FFccCCEE
invisible:true
[turret_2]
x:0
y:0
copyFrom:1
barrelY:20
barrelX:-6
[projectile_1]
tags= T-projectile
directDamage:35
life:320
speed:8
frame:11
drawSize: 0.9
lightColor: #eefbff
lightSize: 0.4
armourIgnoreAmount:15

[turret_3]
x:6
y:20
attachedTo:0
#slave:true
idleDir: -45
canAttackMaxAngle: 360
turnSpeedAcceleration: 0
turnSpeed: 0
projectile: 3-2
shouldResetTurret: true
shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:CUSTOM:sparks2*3
shoot_light:#FFcceeee
warmup:90
[turret_4]
x:-6
y:20
copyFrom:3
idleDir: 45
[projectile_3]
tags= T-projectile
life:25
speed:5
frame:10
areaDamage:20
areaRadius:45
instant: true
lightingEffect: true
largeHitEffect: true
shieldDamageMultiplier: 1
shieldDefectionMultiplier: 0.1
buildingDamageMultiplier: 0.5
explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash
effectOnCreate:CUSTOM:lightingburst
armourIgnoreAmount:20
[projectile_3-2]
tags= T-projectile
explodeOnEndOfLife: true
areaDamage:80
areaRadius:35
life: 10
effectOnCreate: NONE
speed: 1
frame:10
turnSpeed: 0.0
spawnProjectilesOnEndOfLife: 3-3,3
drawUnderUnits:true
instant: false
image: SHARED:lighting_charge.png
largeHitEffect: true
shieldDamageMultiplier: 1
shieldDefectionMultiplier: 0.1
buildingDamageMultiplier: 0.5
explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*8
explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash
armourIgnoreAmount:10

[projectile_3-3]
@copyFromSection:projectile_3-2
life: 20
spawnProjectilesOnEndOfLife: 3

[effect_lightingburst]
life:0
alsoPlaySound:lighting_burst
[effect_hitLightFlash]
priority: verylow
image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false
[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow
[effect_sparks2]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 0.5
hSpeed: 1
image: SHARED:spark.png
priority: verylow

[movement]
movementType:AIR
moveSpeed:2.0
moveAccelerationSpeed:0.02
moveDecelerationSpeed:0.01
targetHeight:17
targetHeightDrift:1
reverseSpeedPercentage:0.6
maxTurnSpeed:5.7
turnAcceleration:0.5
moveSlidingMode:true
moveIgnoringBody:true
moveSlidingDir:181
slowDeathFall:true
slowDeathFallSmoke:false

[effect_lightningShock]
life: 120

dirOffset: 0
dirOffsetRandom:180

fadeInTime: 0
fadeOut: false

attachedToUnit: false


image: SHARED:lightning_shock.png
total_frames: 14
animateFrameStart: 2
animateFrameStartRandomAdd: 2
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5
animateFrameSpeedRandom: 0.1

alpha:0.6


drawUnderUnits:true

scaleFrom: 0.4
scaleTo: 0.4


[effect_fireSmall]
life: 50
xOffsetRelativeRandom: 3
yOffsetRelativeRandom: 3

hOffset: 0.2
alwayStartDirAtZero: true
dirOffset: 0

fadeInTime: 10
fadeOut: true
attachedToUnit: false
atmospheric: true

stripIndex: 7
frameIndex: 0
frameIndexRandom: 2
alpha:1
drawUnderUnits:true
scaleFrom: 0.5
scaleTo: 0.5

delayedStartTimerRandom: 15
