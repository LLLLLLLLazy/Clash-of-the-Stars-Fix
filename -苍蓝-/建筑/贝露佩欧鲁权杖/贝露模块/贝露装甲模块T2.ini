
[core]
name: 贝露装甲模块T2
displayText: T2 - 贝露装甲模块
copyFrom: common_slot.ini

displayDescription: -护盾屏蔽模块 \n -盾能存储 \n -小幅提升血盾恢复 \n -护盾受损时消耗能量快速回复护盾(330/1s) \n -每1能源供应提供12能量恢复/每秒

price: 7000

energyMax: 4000

autoTriggerCooldownTime: 6

tags: units, 贝露模块

[hiddenAction_regen]
autoTrigger: true
takeResources: shield=-2, hp=-1
takeResources_includeParent: true
takeResources_discardCollected: true

[hiddenAction_shield]
requireConditional: if not self.hasParent(withTag="贝露之眼")
autoTrigger: if not self.parent.shield(full=true) and self.energy(greaterThan=${regen})

#33 / 6 = 5.5 per tick

@define regen: 33
addResourcesWithLogic: energy=-min(parent.maxShield-parent.shield, ${regen})
takeResources: shield=-${regen}
takeResources_includeParent: true
takeResources_discardCollected: true

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: 1.8

[action_升级T2]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)

buildSpeed: 60s
convertTo: 贝露装甲模块T3
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 12000

iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[graphics]
image: 苍影防护盾.png

