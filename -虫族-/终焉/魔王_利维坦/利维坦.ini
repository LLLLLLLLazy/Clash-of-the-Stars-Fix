
[core]
name:利维坦
displayText: 利维坦
price:1200000

maxHp:90000
mass:1000000

armour: 20
armourMinDamageToKeep: 20

fogOfWarSightRange:33

experimental: true

tags: units, 利维坦

radius:140
softCollisionOnAll:80
isBug:true
isBuilder:true

selfRegenRate:5

buildSpeed:300s
selfBuildRate: 1

maxTransportingUnits:20
transportUnitsRequireTag:盘绕之蛇
transportUnitsBlockAirAndWaterUnits:false
transportUnitsAddUnloadOption: false

transportSlotsNeeded:50

displayDescription:-前寒武纪就已经存在于海洋之中的远古巨兽\n-地球生命的真正"神袛"\n-这副庞大而沧桑的躯壳沉睡于地球的最深处\n"衪"的到来赐其以生机

disableDeathOnZeroHp: true

@memory 渊海计时:float
@memory 渊息计时:float
updateUnitMemory: 渊海计时=select(memory.渊海计时<10, memory.渊海计时+1, 0), 渊息计时=select(memory.渊息计时<1, memory.渊息计时+1, 0)
updateUnitMemoryRate: 60

autoTriggerCooldownTime: 0.1s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
showMessageToAllPlayers: "在那天,两个兽将要被分开,母的兽叫利维坦,祂住在海的深处,水的里面…"
addResources: 免疫渊海=1

[hiddenAction_沉渊之幕]
autoTriggerOnEvent: created
requireConditional: if numberOfUnitsInAllTeams(withTag="沉渊之海")<1
temporarilyAddTags: 沉渊之海
setUnitMemory: 渊海计时=9
fireTurretXAtGround: magic2
fireTurretXAtGround_withTarget: getOffsetAbsolute(y=900)
fireTurretXAtGround_withProjectile: 沉渊之幕

[action_swallow]
isActive: false
autoTriggerOnEvent: killedAnyUnit
requireConditional: if not eventSource.self.tags(includes="召唤物")
id: ${section.text}
text: 疵诟·圣洁之食
description: -击杀目标生成曲行游荡者
pos: 0
displayType: infoOnlyStockpile
buildSpeed: 0s
addUnitsIntoTransport: 曲行游荡者
spawnEffects: CUSTOM:windwave3
isAlsoViewableByAllies: true
isAlsoViewableByEnemies: true

[action_wind]
displayType: action
id: ${section.text}
text: 混沌·扭曲漩涡
description: -在指定位置生成扭曲漩涡
fireTurretXAtGround: wind
fireTurretXAtGround_withProjectile: eye
buildSpeed: 0
pos: 0.1
iconImage: 涡流.png
addActionCooldownTime: 20s

[action_bubble]
displayType: action
text: 沉渊·沧海遗珠
description: -使用后的3s内受击会在附近产生“泡泡”
addResources: setFlag=3
buildSpeed: 0
pos: 0.2
isGuiBlinking: if self.hasFlag(id=3)
unitShownInUI: 泡泡
addActionCooldownTime: 20s

[action_chong]
convertTo: 利维坦[冲刺]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
displayType: action
id: ${section.text}
text: 旧约·万物伊始
description: -向前方冲刺 \n -击杀的第一个单位会生成母巢
buildSpeed: 2s
whenBuilding_cannotMove: true
addActionCooldownTime: 100s
unitShownInUI: 隆卡
pos: 0.3
spawnEffects: CUSTOM:无形母体之影
clearAllWaypoints: true
convertTo_keepCurrentTags: true
alsoTriggerAction: 属性变化
attachments_addNewUnits: 利维坦前方定位
attachments_onlyOnSlots: 利维坦前方定位

[hiddenAction_扭曲泡]
autoTrigger: if self.hasFlag(id=3)
spawnEffects: CUSTOM:中曲波, CUSTOM:扭曲泡
addResources: 渊泳空泡=0.1

[hiddenAction_泡泡]
autoTrigger: if self.hasFlag(id=3) and self.hasTakenDamage(withinSeconds=0.2) and self.hasResources(遗珠=0.199)
spawnUnits: 泡泡(offsetRandomX=300, offsetRandomY=300, offsetRandomDir=360)
addResources: 遗珠=-0.2

[hiddenAction_泡影结束]
autoTrigger: if self.hasFlag(id=3) and self.hasResources(渊泳空泡=3)
addResources: unsetFlag=3, 渊泳空泡=-3


[hiddenAction_渊海之心]
autoTrigger: if numberOfUnitsInTeam(withTag="渊海之心")<1
temporarilyAddTags: 渊海之心

[hiddenAction_沉渊之海]
autoTrigger: if numberOfUnitsInAllTeams(withTag="沉渊之海")<1 and self.tags(includes="渊海之心") and self.timeAlive(laterThanSeconds=1)
temporarilyAddTags: 沉渊之海
setUnitMemory: 渊海计时=9

[hiddenAction_渊海之息]
autoTrigger: if self.tags(includes="沉渊之海") and memory.渊海计时>=10
fireTurretXAtGround: magic
fireTurretXAtGround_withTarget: getOffsetAbsolute(y=900)
fireTurretXAtGround_withProjectile: 渊海之息
spawnUnits: 隆卡之影(offsetRandomX=3000, offsetRandomY=3000, offsetRandomDir=360)
setUnitMemory: 渊海计时=0

[hiddenAction_渊海泡泡]
autoTrigger: if self.tags(includes="渊海之心")
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 渊海泡生成

[action_深渊之息]
@copyFrom_skipThisSection:true
isVisible: false
autoTrigger: if self.tags(includes="渊海之心") and memory.渊息计时==1
takeResources: hp=50, 减血倍率=-0.001
takeResources_excludeUnitsWithoutAllResources: false
takeResources_includeUnitsWithinRange: 999999
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithTheseResources: 免疫渊海=1
takeResources_excludeUnitsWithoutTags: units
takeResources_discardCollected: true
takeResources_maxUnits: 999999
setUnitMemory: 渊息计时=0


#[hiddenAction_load]
#autoTrigger:if self.customTimer(laterThanSeconds=5) and self.transportingCount(lessThan=20)
#addUnitsIntoTransport:曲行游荡者
#resetCustomTimer: true

[hiddenAction_Injured]
autoTrigger: if self.hasTakenDamage(withinSeconds=1.1) and self.transportingCount(greaterThan=0) and self.hasResources(曲行=0.2)
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround_withProjectile: summon
addResources: 曲行=-0.3

[hiddenAction_overload]
autoTrigger: if self.transportingCount(greaterThan=20)
forceUnloadTransportNow: true
forceUnloadTransportNow_onlyOnSlot: 21

[hiddenAction_recycle]
autoTrigger: if self.hasTakenDamage(laterThanSeconds=10) and numberOfUnitsInEnemyTeam(lessThan=1,withinRange=500) and numberOfUnitsInTeam(withTag='盘绕之蛇',greaterThan=0,withinRange=500)
fireTurretXAtGround: magic
fireTurretXAtGround_withOffset:0,0
fireTurretXAtGround_withProjectile: recycle

[hiddenAction_receive]
autoTrigger: if self.ammo(greaterThan=0) and self.transportingCount(lessThan=20)
addUnitsIntoTransport:曲行游荡者
addResources: ammo=-1

[hiddenAction_蓄力]
resetCustomTimer: true
attachments_addNewUnits: 附属光点*22(addResources=setFlag:1)
addResources: setFlag=2

[attachment_左预热光]
@define x: 45
x: -${x}
y: 105
[attachment_左预热光2]
@copyFromSection: attachment_左预热光
@define x: 45
y: 115
[attachment_左预热光3]
@copyFromSection: attachment_左预热光
@define x: 50
y: 125
[attachment_左预热光4]
@copyFromSection: attachment_左预热光
@define x: 50
y: 135
[attachment_左预热光5]
@copyFromSection: attachment_左预热光
@define x: 46
y: 143
[attachment_左预热光6]
@copyFromSection: attachment_左预热光
@define x: 45
y: 153
[attachment_左预热光7]
@copyFromSection: attachment_左预热光
@define x: 42
y: 163
[attachment_左预热光8]
@copyFromSection: attachment_左预热光
@define x: 39
y: 173
[attachment_左预热光9]
@copyFromSection: attachment_左预热光
@define x: 37
y: 183
[attachment_左预热光10]
@copyFromSection: attachment_左预热光
@define x: 33
y: 193
[attachment_左预热光11]
@copyFromSection: attachment_左预热光
@define x: 29
y: 203
[template_右]
x: ${x}
[attachment_右预热光]
@copyFromSection: attachment_左预热光, template_右
[attachment_右预热光2]
@copyFromSection: attachment_左预热光2, template_右
[attachment_右预热光3]
@copyFromSection: attachment_左预热光3, template_右
[attachment_右预热光4]
@copyFromSection: attachment_左预热光4, template_右
[attachment_右预热光5]
@copyFromSection: attachment_左预热光5, template_右
[attachment_右预热光6]
@copyFromSection: attachment_左预热光6, template_右
[attachment_右预热光7]
@copyFromSection: attachment_左预热光7, template_右
[attachment_右预热光8]
@copyFromSection: attachment_左预热光8, template_右
[attachment_右预热光9]
@copyFromSection: attachment_左预热光9, template_右
[attachment_右预热光10]
@copyFromSection: attachment_左预热光10, template_右
[attachment_右预热光11]
@copyFromSection: attachment_左预热光11, template_右

[hiddenAction_蓄力完成]
autoTrigger: if self.customTimer(laterThanSeconds=1.4) and self.hasFlag(id=2)
addResources: setFlag=1
[hiddenAction_攻击目标结束]
autoTrigger: if self.customTimer(laterThanSeconds=2) and self.hasFlag(id=1) and self.hasFlag(id=2)
addResources: unsetFlag=1-2
attachments_deleteNumUnits: 22

[hiddenAction_time1]
autoTrigger: if self.resource(type="曲行", lessThan=0.2)
addResources: 曲行=0.1
[resource_曲行]
displayName: 曲行

[resource_渊泳空泡]
displayName: 渊泳空泡

[hiddenAction_time2]
autoTrigger: if self.resource(type="遗珠", lessThan=0.2)
addResources: 遗珠=0.1

[resource_遗珠]
displayName: 遗珠

[resource_s]
displayName: s

[resource_免疫渊海]
displayName: 免疫渊海


[hiddenAction_死亡]
autoTrigger: if self.hp < 100
convertTo: 利维坦[归渊]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentTags: true


[attachment_利维坦前方定位]
x: 0
y: 1000

[graphics]
image:利维坦.png
image_turret:刺须.png

splastEffect:true
teamColorsOnTurret:true

scaleImagesTo:150
scaleTurretImagesTo:30

image_shadow:AUTO
shadowOffsetX:5
shadowOffsetY:5
lock_body_rotation_with_main_turret:true

disableLowHpFire: true
disableLowHpSmoke: true

[decal_胞裹]
onlyInPreview: true
layer: onTop
alpha: 0.6
imageScale: 1.2
image: 模糊神经元胞B.png
color: #26867F
basePosition: getOffsetRelative(x=0, y=0, dirOffset=self.timeAlive*3)

[attack]
canAttack:true
canAttackFlyingUnits: if self.queueSize(empty=true)
canAttackLandUnits: if self.queueSize(empty=true)
canAttackUnderwaterUnits:false

maxAttackRange:150
shootDelay:100

isMelee:true
isFixedFiring:true
showRangeUIGuide:false

aimOffsetSpread: 0

[turret_左1]
x:-70
y:-0
canShoot:false
idleDir:-140
turnSpeed:0

[turret_右1]
@copyFromSection: turret_左1
x:70
y:-0
idleDir:140

[turret_左2]
@copyFromSection: turret_左1
x:-65
y:-40
idleDir:-140

[turret_右2]
@copyFromSection: turret_左1
x:65
y:-40
idleDir:140

[turret_左3]
@copyFromSection: turret_左1
x:-60
y:-80
idleDir:-140

[turret_右3]
@copyFromSection: turret_左1
x:60
y:-80
idleDir:140

[turret_magic]
x: 0
y: 0
size: 0
canShoot:false
invisible:true

[turret_wind]
x: 0
y: 0
canShoot:true
canAttackFlyingUnits: if self.globalTeamTags(includes='AI系统')
canAttackLandUnits: if self.globalTeamTags(includes='AI系统')
onShoot_triggerActions: AIwindCD
showRangeUIGuide:false
invisible:true
delay: 20s

shoot_sound:large_gun_fire2
shoot_sound_vol:0.8
shoot_flame:CUSTOM:windwave
projectile: eye

limitingRange:600

[turret_1]
x: 0
y: 0
canShoot: false
image: 利维坦.png
turnSpeed: 0.9
turnSpeedAcceleration: 0.9
recoilOffset: 15
recoilOutTime: 2
recoilReturnTime: 15

[turret_1攻击蓄力]
x: 0
y: 0
delay: 190
invisible: true
projectile: null
onShoot_triggerActions: 蓄力
turnSpeed: 0.9
turnSpeedAcceleration: 0.9

[turret_1攻击]
x:0
y:0
attachedTo: 1
slave: true
invisible: true
shoot_sound: large_gun_fire2
shoot_sound_vol: 0.4
shoot_flame: CUSTOM:windwave2
projectile: 1
canAttackCondition: if self.hasFlag(id=1)
resourceUsage: unsetFlag=1-2
onShoot_triggerActions: 攻击目标结束

[projectile_1]
tags= T-projectile
areaDamage: 2590
areaRadius: 100
areaDamageNoFalloff: true
armourIgnoreAmount: 50
areaHitAirAndLandAtSameTime: true
largeHitEffect:true
life:50
instant:true
pushForce:5
pushVelocity:3
explodeEffect: explodeCore, 利刃波, 利刃光波, 光烁, wave3, displacement_ripple, displacement_wave3, displacement_wave3-2
explodeEffectOnShield: 利刃波, 利刃光波, 光烁, wave3, displacement_ripple, displacement_wave3, displacement_wave3-2

[projectile_2]
tags= T-projectile
areaDamage: 1410
areaRadius: 180
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
life: 0
explodeOnEndOfLife: true
pushVelocity: -6
explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_eye]
tags= T-projectile
areaDamage: 0
areaRadius: 200
life: 50
largeHitEffect:true
instant: true
areaHitAirAndLandAtSameTime: true
#drawUnderUnits: true
spawnUnit:扭曲漩涡

pushForce: -30
pushVelocity: -8

[projectile_summon]
tags= T-projectile
areaDamage:100
areaRadius:50

life: 999
speed: 4
targetSpeed: 6
speedSpread: 3
targetSpeedAcceleration: 0.02

targetGround: true
targetGroundSpread: 360

frame: 11
drawSize: 1

color: #ff3bff00

lightColor:#ff3bff00
lightSize:0.6

deflectionPower: -1
unloadUpToXUnitsFromSource:1

effectOnCreate: CUSTOM:projectileLight
explodeEffect: CUSTOM:projectileLight2
explodeEffectOnShield: CUSTOM:projectileLight2

[projectile_recycle]
tags= T-projectile
life:99
instant: true
areaDamage: 0
areaRadius: 500
friendlyFire: true
areaHitAirAndLandAtSameTime: true
explodeEffect: NONE
explodeEffectOnShield: NONE
mutatorX_ifUnitWithTags: 盘绕之蛇
mutatorX_areaDamageMultiplier: 0
mutatorX_addResourcesAreaHit: setFlag=1


[turret_magic2]
x: 0
y: 0
barrelHeight: 100
canShoot: false
invisible: true

[projectile_沉渊之幕]
tags= T-projectile
directDamage: 0
life: 1
speed: 0
invisible: true
turnSpeed: 999
delayedStartTimer: 1
deflectionPower: -1
spawnProjectilesOnEndOfLife: 沉渊之幕Y+(recursionLimit=51), 沉渊之幕Y-(recursionLimit=50, offsetY=-200)

[projectile_沉渊之幕Y+]
@copyFromSection: projectile_沉渊之幕
life: 0
turnSpeed: 0
spawnProjectilesOnEndOfLife: NONE
spawnProjectilesOnCreate: 沉渊之幕1(recursionLimit=99), 沉渊之幕Y+(recursionLimit=51, offsetY=200), 沉渊之幕X+(recursionLimit=50, offsetX=200), 沉渊之幕X-(recursionLimit=50, offsetX=-200)

[projectile_沉渊之幕Y-]
@copyFromSection: projectile_沉渊之幕Y+
spawnProjectilesOnCreate: 沉渊之幕1(recursionLimit=99), 沉渊之幕Y-(recursionLimit=50, offsetY=-200), 沉渊之幕X+(recursionLimit=50, offsetX=200), 沉渊之幕X-(recursionLimit=50, offsetX=-200)

[projectile_沉渊之幕X+]
@copyFromSection: projectile_沉渊之幕Y+
spawnProjectilesOnCreate: 沉渊之幕1(recursionLimit=99), 沉渊之幕X+(recursionLimit=50, offsetX=200)

[projectile_沉渊之幕X-]
@copyFromSection: projectile_沉渊之幕Y+
spawnProjectilesOnCreate: 沉渊之幕1(recursionLimit=99), 沉渊之幕X-(recursionLimit=50, offsetX=-200)

[projectile_沉渊之幕1]
tags= T-projectile
directDamage: 0
life: 40
speed: 0
image: 海幕.png
turnSpeed: 0
color: #FFFFFF
alwaysVisibleInFog: true
deflectionPower: -1
spawnProjectilesOnEndOfLife: 沉渊之幕2(recursionLimit=99)

[projectile_沉渊之幕2]
@copyFromSection: projectile_沉渊之幕1
life: 20
color: #68FFFFFF
spawnProjectilesOnEndOfLife: 沉渊之幕3(recursionLimit=99)

[projectile_沉渊之幕3]
@copyFromSection: projectile_沉渊之幕2
color: #54FFFFFF
spawnProjectilesOnEndOfLife: NONE


[projectile_渊海之息]
tags= T-projectile
directDamage: 0
life: 1
speed: 0
image: 深渊之息.png
turnSpeed: 999
color: #80FFFFFF
drawUnderUnits: false
alwaysVisibleInFog: true
deflectionPower: -1
explodeEffect: NONE
explodeEffectOnShield: NONE
spawnProjectilesOnEndOfLife: 渊海之息Y+(recursionLimit=51, offsetHeight=-20), 渊海之息Y-(recursionLimit=50, offsetY=-200, offsetHeight=-20)

[projectile_渊海之息Y+]
@copyFromSection: projectile_渊海之息
life: 601
turnSpeed: 0
spawnProjectilesOnEndOfLife: NONE
spawnProjectilesOnCreate: 渊海之息Y+(recursionLimit=51, offsetY=200), 渊海之息X+(recursionLimit=50, offsetX=200), 渊海之息X-(recursionLimit=50, offsetX=-200)

[projectile_渊海之息Y-]
@copyFromSection: projectile_渊海之息Y+
spawnProjectilesOnCreate: 渊海之息Y-(recursionLimit=50, offsetY=-200), 渊海之息X+(recursionLimit=50, offsetX=200), 渊海之息X-(recursionLimit=50, offsetX=-200)

[projectile_渊海之息X+]
@copyFromSection: projectile_渊海之息Y+
spawnProjectilesOnCreate: 渊海之息X+(recursionLimit=50, offsetX=200)

[projectile_渊海之息X-]
@copyFromSection: projectile_渊海之息Y+
spawnProjectilesOnCreate: 渊海之息X-(recursionLimit=50, offsetX=-200)

[projectile_null]
tags= T-projectile
areaDamage: 0
invisible: true
life: 0
explodeEffect: NONE
explodeEffectOnShield: NONE


[projectile_渊海泡生成]
tags= T-projectile
directDamage: 0
life: 10
speed: 9999
invisible: true
targetGround: true
targetGroundSpread: 5000
explodeEffect: NONE
explodeEffectOnShield: NONE
spawnProjectilesOnExplode: 渊海泡(offsetY=300), 小渊海泡*5(offsetY=300, offsetRandomXY=40, spawnChance=0.5)

[projectile_渊海泡]
tags= T-projectile
life: 500
speed: 0
speedSpread: 0.2
targetSpeed: 2
targetSpeedAcceleration: 0.01
turnSpeed: 3

wobbleAmplitude: 0.6
wobbleFrequency: 1.5s

targetGroundSpread: 30
explodeOnEndOfLife: true

image: bubble.png
color: #B4FFFFFF
effectOnCreate: 泡波
alwaysVisibleInFog: true

areaDamage: 300
areaRadius: 50
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true

pushForce: 5
pushVelocity: 3

explodeEffect: windwave2, displacement_ripples2

[projectile_小渊海泡]
tags= T-projectile
life: 500
speed: 0
speedSpread: 2
targetSpeed: 2
targetSpeedAcceleration: 0.02
turnSpeed: 3

wobbleAmplitude: 0.6
wobbleFrequency: 2s

targetGroundSpread: 30
explodeOnEndOfLife: true

image: bubble.png
color: #B4FFFFFF
drawSize: 0.75
effectOnCreate: 小泡波
alwaysVisibleInFog: true

areaDamage: 100
areaRadius: 25
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true

pushForce: 5
pushVelocity: 1

explodeEffect: small_windwave, small_displacement_ripples







[effect_explodeCore]
priority: veryhigh
life: 30
attachedToUnit: true
stripIndex: explode_big2
scaleFrom: 1.3
scaleTo: 1.3
alpha: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

alsoPlaySound: missile_hit

[effect_利刃波]
priority: veryhigh
stripIndex: shockwave_large
life: 30
scaleFrom: 0
scaleTo: 2.1
alpha: 0.5
alsoPlaySound: large_gun_fire2
color: #D8FFCC
alsoEmitEffects: CUSTOM:利刃虚波
[effect_利刃虚波]
@copyFromSection: effect_利刃波
delayedStartTimer: 3
scaleTo: 2.2
color: #bfD8FFCC
alsoEmitEffects: CUSTOM:利刃虚波2
[effect_利刃虚波2]
@copyFromSection: effect_利刃虚波
scaleTo: 2.3
color: #7fD8FFCC
alsoEmitEffects: CUSTOM:利刃虚波3
[effect_利刃虚波3]
@copyFromSection: effect_利刃虚波
scaleTo: 2.4
color: #3fD8FFCC

[effect_利刃光波]
image: shock.png
priority: veryhigh
life: 20
scaleFrom: 0
scaleTo: 2.1
alpha: 2
color: #D8FFCC

[effect_光烁]
priority: high
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #D8FFCC
scaleFrom: 2.1
scaleTo: 2.1
alpha: 0.7

[effect_wave3]
priority: veryhigh
image: wave3.png
life: 25
attachedToUnit: false
scaleFrom: 0
scaleTo: 1
alpha: 1
dirSpeedRandom: 10.0

[effect_displacement_ripple]
priority: veryhigh
drawType: displacement
image: SHARED:ripple.png
life: 30
attachedToUnit: true
scaleFrom: 1.6
scaleTo: 2.1
alpha: 0.2
showInFog: true

[effect_displacement_wave3]
priority: veryhigh
drawType: displacement
image: wave3.png
life: 40
fadeInTime: 5
attachedToUnit: false
scaleFrom: 0.5
scaleTo: 1.6
alpha: 0.2
dirSpeedRandom: 10.0
showInFog: true

[effect_displacement_wave3-2]
@copyFromSection: effect_displacement_wave3
life: 25
scaleFrom: 0
scaleTo: 1
alpha: 1



[effect_泡波]
priority: verylow
image: bubble.png
life: 25
scaleFrom: 1
scaleTo: 1.2
alpha: 1.0
showInFog: true

[effect_小泡波]
priority: verylow
image: bubble.png
life: 20
scaleFrom: 0.5
scaleTo: 0.6
alpha: 1.0
showInFog: true

[effect_small_windwave]
image: shockwave.png
life: 30
scaleFrom: 0
scaleTo: 1
alpha: 0.8
color:#FF3BFF00
showInFog: true

[effect_small_displacement_ripples]
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 60
fadeOut: true
fadeInTime: 3

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 0.7
alpha: 0.2
drawUnderUnits:false
showInFog: true

dirOffsetRandom: 180
dirSpeed: 1


[movement]
movementType:AIR
moveSpeed:0.7
moveAccelerationSpeed:0.02
moveDecelerationSpeed:0.05

maxTurnSpeed:0.9
turnAcceleration:0.02

targetHeight:20
startingHeightOffset: -100

moveSlidingDir: 0
moveSlidingMode: false
moveIgnoringBody: true

[leg_7]
x:15
y:-140
moveSpeed:0.001
moveWarmUp:1
attach_x:5
attach_y:-45
rotateSpeed:999
heightSpeed:1
resetAngle:0.001
image_leg:老乙吧.png
dust_effect:true
holdDisMin:1
holdDisMax:1
estimatingPositionMultiplier:0.5

[leg_8]
x:-15
y:-140
attach_x:-5
attach_y:-45
copyFrom:7

[leg_9]
x:0
y:-140
attach_x:0
attach_y:-35
copyFrom:7


[effect_projectileLight]
priority:veryhigh
image: SHARED:light_50.png
life: 200
fadeOut: true
attachedToUnit: true
color: #FF3BFF00
fadeInTime:20
scaleFrom: 2.4
scaleTo: 2.4
alpha: 1
drawUnderUnits: true
liveAfterAttachedDies: false

[effect_projectileLight2]
@copyFromSection: effect_projectileLight
life: 60
fadeInTime: 15
scaleFrom: 2.4
scaleTo: 1.2
alpha: 2
drawUnderUnits: false

[effect_windwave]
image: shockwave.png
life: 30
scaleFrom: 0
scaleTo: 5
alpha: 1.0
#dirSpeed: 10
color:#FF3BFF00

[effect_windwave2]
image: shockwave.png
life: 30
scaleFrom: 0
scaleTo: 2
alpha: 1.0
#dirSpeed: 10
color:#FF3BFF00
showInFog: true

[effect_windwave3]
image: shockwave.png
life: 20
scaleFrom: 5
scaleTo: 0
alpha: 1.0
#dirSpeed: 10
color:#FF3BFF00

[effect_中曲波]
showInFog: true
createWhenOffscreen: true
stripIndex: shockwave
life: 30
fadeOut: true
attachedToUnit: false
color: #ff3bff00
scaleFrom: 0.8
scaleTo: 0
alpha: 0.6
teamColorRatio: 1

[effect_扭曲泡]
priority: veryhigh
showInFog: true
createWhenOffscreen: true
stripIndex: shockwave
life: 60
fadeOut: true
attachedToUnit: false
color: #ff3bff00
scaleFrom: 0
scaleTo: 1.5
alpha: 1.7
dirSpeedRandom: 5
dirOffsetRandom: 180
xOffsetRelativeRandom: 150
yOffsetRelativeRandom: 150

[effect_displacement_ripples]
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 50
fadeOut: true

attachedToUnit: false
color: #FFFFFF
scaleFrom: 5.5
scaleTo: 0
alpha: 0.7
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 1
delayedStartTimerRandom: 5
spawnChance: 0.6

[effect_displacement_ripples2]
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 60
fadeOut: true
fadeInTime: 3

attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 1.2
alpha: 0.3
drawUnderUnits:false
showInFog: true

dirOffsetRandom: 180
dirSpeed: 1


[effect_无形母体之影]
attachedToUnit: true
createWhenOffscreen: true
showInFog: true
priority: critical
image: 利维坦？.png
life: 126
fadeInTime: 180
scaleFrom: 6
scaleTo: 6
alpha: 1
yOffsetRelative: -40

[effect_s1]
createWhenOffscreen: true
stripIndex: shockwave
life: 30
scaleFrom: 10
scaleTo: 0
dirSpeed: -5
color: #ff3bff00

[effect_s2]
createWhenOffscreen: true
stripIndex: shockwave
life: 20
scaleFrom: 0
scaleTo: 15
dirSpeed: 5
color: #ff3bff00

[effect_s3]
attachedToUnit: true
createWhenOffscreen: true
showInFog: true
priority: critical
image: 利维坦？.png
life: 20
scaleFrom: 6.5
scaleTo: 8
alpha: 2
ySpeedRelative: -1

[effect_影回]
@copyFromSection: effect_s3
life: 20
scaleFrom: 8
scaleTo: 6

[effect_影散]
attachedToUnit: false
createWhenOffscreen: true
priority: critical
image: 利维坦？.png
life: 30
scaleFrom: 6.5
scaleTo: 7
alpha: 1


[effect_水冲粒]
image: 光粒子.png
life: 90
lifeRandom: 10
scaleFrom: 0.7
scaleTo: 0.6
alpha: 0.6
color: #26867F
fadeInTime: 20

dirSpeed: 5
delayedStartTimerRandom: 10
attachedToUnit: false
drawUnderUnits: true
showInFog: true

yOffsetRelative: 60
xOffsetRelativeRandom: 20
yOffsetRelativeRandom: 20
xSpeedRelativeRandom: 6
ySpeedRelativeRandom: 0.5

alsoEmitEffectsOnDeath: displacement_ripples2

[effect_小水冲粒]
@copyFromSection: effect_水冲粒
scaleFrom: 0.35
scaleTo: 0.3
xSpeedRelativeRandom: 5
alsoEmitEffectsOnDeath: small_displacement_ripples

[effect_排水]
priority: critical
image: waketail.png
life: 120
fadeInTime: 10
attachedToUnit: false
color: #89ABA9
scaleFrom: 5
scaleTo: 5
alpha: 0.3
drawUnderUnits:false
yOffsetRelative: 520
ySpeedRelative: -0.5
createWhenOffscreen: true
showInFog: true

[effect_扭曲混乱]
priority: critical
drawType: displacement

image: SHARED:cone_inverted_normal_128.png
life: 120
lifeRandom: 40
fadeInTime: 20

attachedToUnit: false
color: #FFFFFF
scaleFrom: 3
scaleTo: 3
alpha: 0.4
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 1

hSpeedRandom: 0.2
xOffsetRelativeRandom: 60
yOffsetRelativeRandom: 10
xSpeedRelativeRandom: 6
ySpeedRelativeRandom: 1

createWhenOffscreen: true
showInFog: true

[effect_扭曲冲击]
drawType: displacement

image: SHARED:shockwave_normal_128.png
life: 150
fadeOut: true
fadeInTime: 10

attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 8
alpha: 0.1
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 3

yOffsetRelative: 260
ySpeedRelative: -0.3
atmospheric: true

createWhenOffscreen: true
showInFog: true

[hiddenAction_AIwindCD]
addActionCooldownTime: 20s
addActionCooldownApplyToActions: wind
