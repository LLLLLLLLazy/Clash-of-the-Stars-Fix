
[core]
name: 天神草
altNames: 普拉克勒斯
displayText: 普拉克勒斯
displayDescription: -要进行何种腐蚀呢?
class: CustomUnitMetadata
price: 腐蚀=500
maxHp: 2000
mass: 9000

reclaimPrice: 0

shieldRenderRadius: 22
shieldDisplayOnlyDeflection: true

tags: units, 天神草, 虫族, 虫建筑

#generation_resources: credits=1

#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1

#used for placement, and placement of other buildings
constructionFootprint: 0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 1
buildSpeed:1s
selfBuildRate:1s

selfRegenRate:0.1

radius: 20

isBio: true
isBug: true
isBuilding: true

energyMax: 200
energyRegen: 0.0167
energyStartingPercentage: 0

fogOfWarSightRange: 22

disableDeathOnZeroHp: true

@memory 锁定坐标:unit

[hiddenAction_生成]
autoTriggerOnEvent: created
alsoTriggerAction: 初代天神草, 天神复生
setBuilt: 0

resetCustomTimer: true

[hiddenAction_初代天神草]
requireConditional: if not self.globalTeamTags(includes='天神草初唤')
addGlobalTeamTags: 天神草初唤
temporarilyAddTags: 初代天神草

[hiddenAction_天神复生]
requireConditional: if numberOfUnitsInTeam(withTag='天神草虚影')>0
sendMessageTo: globalSearchForFirstUnit(withTag='天神草虚影', relation='own')
sendMessageWithTags: 天神复生
sendMessageWithData: 位置=self.getAsMarker
deleteSelf: true


[hiddenAction_死亡虚化]
autoTriggerOnEvent: tookDamage
requireConditional: if self.hp<10
autoTrigger: ${section.requireConditional}

convertTo: 天神草[虚影]
convertTo_keepCurrentTags: true
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setUnitMemory: 锁定坐标=self.getAsMarker
spawnEffects: CUSTOM:毒雾3*4

temporarilyRemoveTags: units, 天神草, 初代天神草
temporarilyAddTags: 天神草虚影

alsoTriggerAction: 狂猎死亡资源

[hiddenAction_狂猎死亡资源]
requireConditional: if not self.tags(includes='初代天神草') and self.globalTeamTags(includes='狂猎')
spawnUnits: 资源返还(addResources=energy:125)


[action_1]
isGuiBlinking: if self.globalTeamTags(includes='衍黎')
isActive: if not self.globalTeamTags(includes='启') and self.queueSize(withActionTag='启', lessThan=1)
id: ${section.text}
text: -衍黎-
description:${DescriptionYanLi}
pos: 1
displayType: action
buildSpeed: 0
tags=启

addGlobalTeamTags: 衍黎, 启

highPriorityQueue: true
ai_isHighPriority: true

[action_2]
isGuiBlinking: if self.globalTeamTags(includes='狂猎')
isActive: if not self.globalTeamTags(includes='启') and self.queueSize(withActionTag='启', lessThan=1)
id: ${section.text}
text: -狂猎-
description:${DescriptionKuangLie}
pos: 1.5
displayType: action
buildSpeed: 0
tags=启

addGlobalTeamTags: 狂猎, 启

highPriorityQueue: true

[hiddenAction_自动1]
autoTrigger: if self.hasFlag(id=1) and not self.globalTeamTags(includes='启')
alsoQueueAction: 1

[hiddenAction_自动2]
autoTrigger: if self.hasFlag(id=2) and not self.globalTeamTags(includes='启')
alsoQueueAction: 2


[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2
@define addV: and self.globalTeamTags(includes='衍黎')


[action_reclaim]
isVisible: if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')
id: ${section.text}
text: 自毁
description: -自我回收 \n -只退还50%资源(腐蚀:250) \n [衍黎]
displayType: action
pos: 2
ai_isDisabled: true
allowMultipleInQueue: false
buildSpeed: 2s
addResources: 腐蚀=250
setResourcesWithLogic: hp=-99999
alsoTriggerAction: 死亡虚化

#[action_eye]
#displayType: action
#price: 腐蚀=300
#text: 繁荣之眼
#description: -召唤普拉克勒斯之眼 \n -监视战场
#buildSpeed: 3s
#pos: 3
#spawnUnits: 普拉克勒斯之眼(offsetY=-60)


[action_turret]
isVisible: if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')
displayType: action
price: 5000
id: ${section.text}
text: 枝繁叶茂
description: -在指定位置蔓延数个虫塔 \n -蔓延中心需在陆地 \n [衍黎] \n %{select(self.globalTeamTags(includes='皎红'), '-产生持续60秒的虚红感染区', '')}
fireTurretXAtGround: magic2
fireTurretXAtGround_withProjectile: magic1
fireTurretXAtGround_onlyOverPassableTileOf: LAND
allowMultipleInQueue: false
buildSpeed: 0
pos: 3.1
iconImage: green_shields.png
iconExtraImage: 绿雾.png
iconExtraColor: #16FFFFFF
spawnEffects: CUSTOM:hitLightFlash
isAlsoViewableByAllies: true

onlyOneUnitAtATime: true
addActionCooldownTime: 200s
addActionCooldownApplyToActions: turret, delicacy
addGlobalTeamTags: CD
addAllActionCooldownsTime: 2s
isLocked: if globalSearchForFirstUnit(withTag='单位系统', relation='own').resource.虫族CD>0
addResources: setFlag=0, energy=-200
alsoQueueAction: flag重置

takeResources: 虫族CD=-200
takeResources_includeReference: globalSearchForFirstUnit(withTag='单位系统', relation='own')
takeResources_discardCollected: true

[action_delicacy]
isVisible: if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='狂猎')
displayType: action
price: 腐蚀=800
id: ${section.text}
text: 仙肴圣餐
description: -在指定位置释放狂热泡泡 \n -展开治愈领域 \n [狂猎]
fireTurretXAtGround: magic
fireTurretXAtGround_withProjectile: magic2
fireTurretXAtGround_showGuideDecals: 仙肴范围
#fireTurretXAtGround_onlyOverPassableTileOf: LAND
allowMultipleInQueue: false
buildSpeed: 0
pos: 3.1
iconImage: bubble.png
spawnEffects: CUSTOM:hitLightFlash
isAlsoViewableByAllies: true

onlyOneUnitAtATime: true
addActionCooldownTime: 200s
addActionCooldownApplyToActions: turret, delicacy
addGlobalTeamTags: CD
addAllActionCooldownsTime: 2s
isLocked: if globalSearchForFirstUnit(withTag='单位系统', relation='own').resource.虫族CD>0
addResources: setFlag=0, energy=-200
alsoQueueAction: flag重置

takeResources: 虫族CD=-200
takeResources_includeReference: globalSearchForFirstUnit(withTag='单位系统', relation='own')
takeResources_discardCollected: true

[decal_仙肴范围]
layer: inactive
image: SHARED:area_guide.png
@define area_guide_size: 100
imageScale: 200/${area_guide_size /2}
alpha: 0.6
color: #BE5BFF

[action_exchange]
isVisible: if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='狂猎')
text: 资源兑换
description: -使用资金获取腐蚀 \n -腐蚀产出:1000 \n [狂猎]
price: 8000
pos: 3
displayType: action
buildSpeed: 5s
addResources: 腐蚀=1000

iconImage: green_bubble.png
iconExtraImage: icon_sell_top.png
iconExtraColor: #AAFFFFFF


[hiddenAction_能量冷却条]
autoTrigger: if globalSearchForFirstUnit(withTag='单位系统', relation='own').resource.虫族CD>0 and self.isEnergyFull
setResourcesWithLogic: energy=200 - globalSearchForFirstUnit(withTag='单位系统', relation='own').resource.虫族CD

[hiddenAction_CD]
autoTrigger: if self.globalTeamTags(includes='CD') and not self.hasFlag(id=0)
removeGlobalTeamTags: CD
addActionCooldownTime: 200s
addActionCooldownApplyToActions: turret, delicacy
addResources: energy=-200

[hiddenAction_flag重置]
id: flag重置
buildSpeed: 1s
addResources: unsetFlag=0


[hiddenAction_衍黎半腐]
autoTrigger: if self.globalTeamTags(includes='衍黎') and not self.globalTeamTags(includes='衍黎半腐') and ${HalfCorrosion} ${HalfCorrosionLimit}
addGlobalTeamTags: 衍黎半腐
takeResources: energy=-1
takeResources_discardCollected: true
takeResources_includeUnitsWithinRange: 99999
takeResources_excludeUnitsWithoutTags: 资源提取器
takeResources_maxUnits: 99

[hiddenAction_衍黎全腐]
autoTrigger: if self.globalTeamTags(includes='衍黎') and not self.globalTeamTags(includes='衍黎全腐') and (${CompleteCorrosion} ${CompleteCorrosionLimit})
addGlobalTeamTags: 衍黎全腐
@copyFromSection: hiddenAction_衍黎半腐
takeResources_excludeUnitsWithoutTags: 腐蚀蔓延

[hiddenAction_母巢管子森林]
@copyFromSection: hiddenAction_管子森林
requireConditional: true
autoTrigger: if self.customTimer(laterThanSeconds=150) and self.globalTeamTags(includes='衍黎')
takeResources_excludeUnitsWithoutTags: 母巢
alsoTriggerAction: 管子森林

[hiddenAction_管子森林]
requireConditional: if ${HalfCorrosion} ${HalfCorrosionLimit}
takeResources: energy=-1
takeResources_discardCollected: true
takeResources_includeUnitsWithinRange: 99999
takeResources_excludeUnitsWithoutTags: 资源提取器
takeResources_maxUnits: 99
resetCustomTimer: true


[hiddenAction_狂猎半腐]
autoTrigger: if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='狂猎') and not self.tags(includes="狂猎护盾")
temporarilyAddTags: 狂猎护盾
setUnitMemory: 属性[15]=memory.属性[15]+2000
alsoTriggerAction: 属性变化



[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 24
fadeOut: true
attachedToUnit: false
color: #AEFF00

yOffsetAbsolute: -66
scaleFrom: 1.8
scaleTo: 3.6
alpha: 0.8
drawUnderUnits:false



[action_指意之信]
@copyFromSection: action_腐蚀之意
isVisible: if not self.globalTeamTags(includes='腐蚀之意')
id: ${section.text}0
price: 腐蚀=50
buildSpeed: 3.3s
spawnEffects: 蚀光
iconImage: glow_green.png
addGlobalTeamTags: 腐蚀之意

[action_腐蚀之意]
isVisible: if self.globalTeamTags(includes='腐蚀之意') and not self.tags(includes="腐蚀之意")
displayType: queueUnit
id: ${section.text}
text: 腐蚀之意
description: -全局指令 \n -祂的渴望......
buildSpeed: 0s
pos: 5
iconImage: SHARED:beam1_start.png
iconExtraImage: 六边形.png
alwaysSinglePress: true
highPriorityQueue: true
ai_isHighPriority: true
allowMultipleInQueue: false
temporarilyAddTags: 腐蚀之意
isAlsoViewableByAllies: true

[action_腐蚀之意2]
@copyFromSection: action_腐蚀之意
isVisible: if self.globalTeamTags(includes='腐蚀之意') and self.tags(includes="腐蚀之意")
id: ${section.text}2
description: -全局指令 \n -关闭列表也会暂停指令 \n -祂的渴望......
iconImage: glow_green.png
temporarilyAddTags: NONE
temporarilyRemoveTags: 腐蚀之意
isGuiBlinking: true


[template_腐蚀指令]
isVisible: if not self.tags(includes="腐蚀-${unit}") and self.tags(includes="腐蚀之意")
id: 腐蚀-${unit}
text: 腐蚀 - ${unit}
description: -腐蚀值足够后自动腐蚀
buildSpeed: 0s
pos: 5.2
unitShownInUI: ${unit}
temporarilyAddTags: 腐蚀-${unit}
iconExtraImage: icon_off.png
iconExtraColor: #30FFFFFF
isGuiBlinking: if self.tags(includes="腐蚀-${unit}")
alwaysSinglePress: true
highPriorityQueue: true
allowMultipleInQueue: false
isAlsoViewableByAllies: true

[template_腐蚀指令关]
@copyFromSection: template_腐蚀指令
isVisible: if self.tags(includes="腐蚀-${unit}") and self.tags(includes="腐蚀之意")
id: 腐蚀-${unit}关
iconExtraImage: icon_on.png
temporarilyAddTags: NONE
temporarilyRemoveTags: 腐蚀-${unit}


[template_腐蚀指令tag]
isVisible: if not self.tags(includes="${tags}") and self.tags(includes="腐蚀之意")
id: 腐蚀tag-${tags}
description: -腐蚀值足够后自动腐蚀
buildSpeed: 0s
pos: 5.2
temporarilyAddTags: ${tags}
iconExtraImage: icon_off.png
iconExtraColor: #30FFFFFF
isGuiBlinking: if self.tags(includes="${tags}")
alwaysSinglePress: true
highPriorityQueue: true
allowMultipleInQueue: false
isAlsoViewableByAllies: true

[template_腐蚀指令tag关]
@copyFromSection: template_腐蚀指令tag
isVisible: if self.tags(includes="${tags}") and self.tags(includes="腐蚀之意")
id: 腐蚀tag-${tags}关
iconExtraImage: icon_on.png
temporarilyAddTags: NONE
temporarilyRemoveTags: ${tags}



[action_腐蚀蔓延]
@copyFromSection: template_腐蚀指令tag
@define tags: 腐蚀-蔓延
text: 腐蚀 - 蔓延
description: -资源足够时自动消耗资源升级虫族资源抽取器
unitShownInUI: 虫族资源抽取器
iconExtraColor: #50FFFFFF
[action_腐蚀蔓延关]
@copyFromSection: action_腐蚀蔓延, template_腐蚀指令tag关
description: -资源足够时自动消耗资源升级虫族资源抽取器
iconExtraColor: #50FFFFFF

[action_腐蚀巨噬虫]
@copyFromSection: template_腐蚀指令
@define unit: 巨噬虫
[action_腐蚀巨噬虫关]
@copyFromSection: action_腐蚀巨噬虫, template_腐蚀指令关

[action_腐蚀重型战斗虫]
@copyFromSection: template_腐蚀指令
@define unit: 重型战斗虫
[action_腐蚀重型战斗虫关]
@copyFromSection: action_腐蚀重型战斗虫, template_腐蚀指令关

[action_腐蚀极恶电臭虫]
@copyFromSection: template_腐蚀指令
@define unit: 极恶电臭虫
text: 腐蚀 - 极恶⚡️臭虫
[action_腐蚀极恶电臭虫关]
@copyFromSection: action_腐蚀极恶电臭虫, template_腐蚀指令关

[action_腐蚀布克布克]
@copyFromSection: template_腐蚀指令
@define unit: 布克布克
[action_腐蚀布克布克关]
@copyFromSection: action_腐蚀布克布克, template_腐蚀指令关

[action_腐蚀重型冲射虫]
@copyFromSection: template_腐蚀指令
@define unit: 重型冲射虫
[action_腐蚀重型冲射虫关]
@copyFromSection: action_腐蚀重型冲射虫, template_腐蚀指令关

[action_成长群虫]
@copyFromSection: template_腐蚀指令tag
@define tags: 成长-群虫
text: 成长 - 群虫
description: -群虫数量达标后自动消耗腐蚀成长
unitShownInUI: 群虫
[action_成长群虫关]
@copyFromSection: action_成长群虫, template_腐蚀指令tag关
description: -群虫数量达标后自动消耗腐蚀成长

[action_腐蚀巨型运输虫]
@copyFromSection: template_腐蚀指令
@define unit: 巨型运输虫
[action_腐蚀巨型运输虫关]
@copyFromSection: action_腐蚀巨型运输虫, template_腐蚀指令关

[action_腐蚀火烧云]
@copyFromSection: template_腐蚀指令
@define unit: 火烧云
[action_腐蚀火烧云关]
@copyFromSection: action_腐蚀火烧云, template_腐蚀指令关

[action_腐败黑寡妇]
@copyFromSection: template_腐蚀指令tag
@define tags: 腐败-黑寡妇
text: 腐败 - 黑寡妇
unitShownInUI: 腐败的黑寡妇
[action_腐败黑寡妇关]
@copyFromSection: action_腐败黑寡妇, template_腐蚀指令tag关

[action_腐蚀毒刺]
@copyFromSection: template_腐蚀指令
@define unit: 毒刺
[action_腐蚀毒刺关]
@copyFromSection: action_腐蚀毒刺, template_腐蚀指令关

[action_腐蚀电盘虫]
@copyFromSection: template_腐蚀指令
@define unit: 电盘虫
[action_腐蚀电盘虫关]
@copyFromSection: action_腐蚀电盘虫, template_腐蚀指令关

[action_腐蚀角盘虫]
@copyFromSection: template_腐蚀指令
@define unit: 角盘虫
[action_腐蚀角盘虫关]
@copyFromSection: action_腐蚀角盘虫, template_腐蚀指令关

[action_腐蚀危险流浪者]
@copyFromSection: template_腐蚀指令
@define unit: 危险流浪者
[action_腐蚀危险流浪者关]
@copyFromSection: action_腐蚀危险流浪者, template_腐蚀指令关

[action_腐蚀光辉噬菌体]
@copyFromSection: template_腐蚀指令
@define unit: 光辉噬菌体
[action_腐蚀光辉噬菌体关]
@copyFromSection: action_腐蚀光辉噬菌体, template_腐蚀指令关

[action_腐蚀火山蛞蝓]
@copyFromSection: template_腐蚀指令
@define unit: 火山蛞蝓
[action_腐蚀火山蛞蝓关]
@copyFromSection: action_腐蚀火山蛞蝓, template_腐蚀指令关

[action_腐蚀顶级掠食者]
@copyFromSection: template_腐蚀指令
@define unit: 顶级掠食者
[action_腐蚀顶级掠食者关]
@copyFromSection: action_腐蚀顶级掠食者, template_腐蚀指令关

[action_腐蚀破滅者]
@copyFromSection: template_腐蚀指令
@define unit: 破滅者
[action_腐蚀破滅者关]
@copyFromSection: action_腐蚀破滅者, template_腐蚀指令关

[action_腐蚀幻影猎手]
@copyFromSection: template_腐蚀指令
@define unit: 幻影猎手
[action_腐蚀幻影猎手关]
@copyFromSection: action_腐蚀幻影猎手, template_腐蚀指令关

[action_腐蚀恐怖猎手]
@copyFromSection: template_腐蚀指令
@define unit: 恐怖猎手
[action_腐蚀恐怖猎手关]
@copyFromSection: action_腐蚀恐怖猎手, template_腐蚀指令关

[action_腐蚀音波回响]
@copyFromSection: template_腐蚀指令
@define unit: 音波回响
[action_腐蚀音波回响关]
@copyFromSection: action_腐蚀音波回响, template_腐蚀指令关

[action_腐蚀溃烂]
@copyFromSection: template_腐蚀指令
@define unit: 溃烂
[action_腐蚀溃烂关]
@copyFromSection: action_腐蚀溃烂, template_腐蚀指令关

[action_腐蚀君王]
@copyFromSection: template_腐蚀指令
@define unit: 君王
[action_腐蚀君王关]
@copyFromSection: action_腐蚀君王, template_腐蚀指令关

[action_腐蚀航灵穿刺虫]
@copyFromSection: template_腐蚀指令
@define unit: 航灵穿刺虫
[action_腐蚀航灵穿刺虫关]
@copyFromSection: action_腐蚀航灵穿刺虫, template_腐蚀指令关

[action_腐蚀瘟疫巨蜂]
@copyFromSection: template_腐蚀指令
@define unit: 瘟疫巨蜂
[action_腐蚀瘟疫巨蜂关]
@copyFromSection: action_腐蚀瘟疫巨蜂, template_腐蚀指令关

[action_腐蚀熔毁巨蜂]
@copyFromSection: template_腐蚀指令
@define unit: 熔毁巨蜂
[action_腐蚀熔毁巨蜂关]
@copyFromSection: action_腐蚀熔毁巨蜂, template_腐蚀指令关





[action_衍黎生长]
isVisible: if self.globalTeamTags(includes='衍黎') and self.globalTeamTags(includes='腐蚀之意') and not self.tags(includes="衍黎生长")
displayType: queueUnit
id: ${section.text}
text: 衍黎生长
description: -生长指令 \n -进化......
buildSpeed: 0s
pos: 5
iconImage: 虫塔淡珠.png
iconExtraImage: 六边形.png
alwaysSinglePress: true
highPriorityQueue: true
ai_isHighPriority: true
allowMultipleInQueue: false
temporarilyAddTags: 衍黎生长
isAlsoViewableByAllies: true

[action_衍黎生长2]
@copyFromSection: action_衍黎生长
isVisible: if self.globalTeamTags(includes='衍黎') and self.globalTeamTags(includes='腐蚀之意') and self.tags(includes="衍黎生长")
id: ${section.text}2
description: -生长指令 \n -关闭列表不会停止指令 \n -进化......
iconImage: 虫塔珠.png
temporarilyAddTags: NONE
temporarilyRemoveTags: 衍黎生长
isGuiBlinking: true

[hiddenAction_AI腐蚀之意优先]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hasResources(腐蚀=1800) and self.globalTeamTags(includes='腐蚀之意') and not self.tags(includes='腐蚀之意') and self.queueSize(empty=true)
alsoQueueAction: 腐蚀之意

[hiddenAction_AI衍黎生长优先]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hasResources(腐蚀=2600) and self.globalTeamTags(includes='衍黎') and self.tags(includes='腐蚀之意') and not self.tags(includes='衍黎生长') and self.queueSize(empty=true)
alsoQueueAction: 衍黎生长


[template_生长指令]
@copyFromSection: template_腐蚀指令
isVisible: if not self.tags(includes="生长-${unit}") and self.tags(includes="衍黎生长")
id: 生长-${unit}
text: 生长 - ${unit}
description: -生长值达标后自动进化
iconExtraColor: #30FFFFFF
pos: 5.1
temporarilyAddTags: 生长-${unit}
isGuiBlinking: if self.tags(includes="生长-${unit}")

[template_生长指令关]
@copyFromSection: template_生长指令
isVisible: if self.tags(includes="生长-${unit}") and self.tags(includes="衍黎生长")
id: 生长-${unit}关
iconExtraImage: icon_on.png
temporarilyAddTags: NONE
temporarilyRemoveTags: 生长-${unit}

[action_生长虫塔T2]
@copyFromSection: template_生长指令
@define unit: 虫塔T2
[action_生长虫塔T2关]
@copyFromSection: action_生长虫塔T2, template_生长指令关

[action_生长虫塔T3]
@copyFromSection: template_生长指令
@define unit: 虫塔T3
[action_生长虫塔T3关]
@copyFromSection: action_生长虫塔T3, template_生长指令关

[action_生长虫高塔T2]
@copyFromSection: template_生长指令
@define unit: 虫高塔T2
[action_生长虫高塔T2关]
@copyFromSection: action_生长虫高塔T2, template_生长指令关

[action_生长虫高塔T3]
@copyFromSection: template_生长指令
@define unit: 虫高塔T3
[action_生长虫高塔T3关]
@copyFromSection: action_生长虫高塔T3, template_生长指令关

[action_生长地震塔]
@copyFromSection: template_生长指令
@define unit: 地震塔
[action_生长地震塔关]
@copyFromSection: action_生长地震塔, template_生长指令关

[action_生长地震塔T2]
@copyFromSection: template_生长指令
@define unit: 地震塔T2
[action_生长地震塔T2关]
@copyFromSection: action_生长地震塔T2, template_生长指令关

[action_生长管道虫]
@copyFromSection: template_生长指令
@define unit: 管道虫
[action_生长管道虫关]
@copyFromSection: action_生长管道虫, template_生长指令关

[action_生长无源之源]
@copyFromSection: template_生长指令
@define unit: 无源之源
unitShownInUI: 管道虫T2
[action_生长无源之源关]
@copyFromSection: action_生长无源之源, template_生长指令关
unitShownInUI: 管道虫T2

[action_生长冲射虫塔]
@copyFromSection: template_生长指令
@define unit: 冲射虫塔
[action_生长冲射虫塔关]
@copyFromSection: action_生长冲射虫塔, template_生长指令关

[action_生长不洁之源]
@copyFromSection: template_生长指令
@define unit: 不洁之源
unitShownInUI: 冲射虫塔T2
[action_生长不洁之源关]
@copyFromSection: action_生长不洁之源, template_生长指令关
unitShownInUI: 冲射虫塔T2


[effect_蚀光]
priority:high

image: SHARED:light_50.png
life: 48
fadeOut: true
attachedToUnit: false
color: #AEFF00

yOffsetAbsolute: -66
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false


[graphics]
total_frames: 1

image:        普拉克勒斯.png
image_wreak:  NONE
image_shield:  腐蚀护盾.png

[attack]
canAttack: true
canAttackFlyingUnits:  if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')
canAttackLandUnits:  if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 20

maxAttackRange: 400
shootDelay: 150

turretMultiTargeting: true

[turret_magic]
x:0
y:0
invisible:true
canAttack:false
limitingRange:9999

[turret_magic2]
@copyFromSection: turret_magic
limitingRange: 1500

[projectile_magic1]
tags= T-projectile
areaDamage:0
life: 50
invisible:true
instant:true
explodeEffect:NONE
explodeEffectOnShield:NONE
spawnUnit:枝繁叶茂
targetGround: true

[projectile_magic2]
tags= T-projectile
areaDamage:0
life: 50
invisible:true
instant:true
explodeEffect:NONE
explodeEffectOnShield:NONE
spawnUnit:仙肴圣餐
targetGround: true

[turret_1]
x:0
y:0
limitingMinRange:200
projectile:1

canAttackFlyingUnits: false
canAttackLandUnits:  if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')

[projectile_1]
tags= T-projectile
life:20
speed:2
image: null.png

areaDamage:170
areaRadius:35
areaDamageNoFalloff:true

explodeOnEndOfLife:true
spawnProjectilesOnEndOfLife: 1(recursionLimit=10)

largeHitEffect:true

deflectionPower: -1

explodeEffect:CUSTOM:尘*3
explodeEffectOnShield:CUSTOM:尘*3

spawnUnit:地刺

[turret_2]
x: 0
y: 0
limitingRange:200
projectile:2

canAttackFlyingUnits: false
canAttackLandUnits:  if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')

[projectile_2]
tags= T-projectile
life:0
speed:0
explodeOnEndOfLife:true
areaDamage:0
areaRadius:200
targetGround:true
explodeEffect:NONE
spawnProjectilesOnExplode:2附*50(offsetRandomXY=200)

[projectile_2附]
tags= T-projectile
life:20
speed:2
image: null.png

areaDamage:140
areaRadius:35
areaDamageNoFalloff:true

explodeOnEndOfLife:true

largeHitEffect:true
targetGround:true

explodeEffect:CUSTOM:尘*2
explodeEffectOnShield:CUSTOM:尘*2

spawnUnit:地刺

[turret_3]
x: 0
y: 60
projectile:3

canAttackFlyingUnits:  if ${HalfCorrosion} ${HalfCorrosionLimit} and self.globalTeamTags(includes='衍黎')
canAttackLandUnits: false

shoot_sound:plasma_fire
shoot_sound_vol:0.5
shoot_flame:CUSTOM:lightSlowFade

warmup: 50

chargeEffectImage: SHARED:glow_green.png

[projectile_3]
tags= T-projectile
directDamage: 550
life: 15

largeHitEffect: true

instant:true

laserEffect:true

instantReuseLast:true

color:#AEFF00

explodeEffect: CUSTOM:lightSlowFade
explodeEffectOnShield: CUSTOM:lightSlowFade

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #AEFF00
scaleFrom: 1.6
scaleTo: 0.8
alpha: 1.0
drawUnderUnits:false

[effect_尘]
createWhenOverLiquid: false
createWhenZoomedOut: false
priority:veryhigh
life: 50
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.7
scaleTo: 3.2
alpha: 0.9
drawUnderUnits:true
xSpeedRelativeRandom:0.2
ySpeedRelativeRandom:0.2
atmospheric: true
stripIndex:dust


[effect_毒雾3]
stripIndex: effects
frameIndex: 0
priority:low
life: 120
lifeRandom: 20
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime: 5
hSpeed: 0.8
scaleFrom: 1.0
scaleTo: 2.5
alpha: 0.3
drawUnderUnits:false
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10

shadow: true
atmospheric: true

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1


[resource_虫族CD]
hidden: true

[resource_AI分支随机]
hidden: true




[ai]
buildPriority: 10.0
lowPriorityTargetForOtherUnits: true


[hiddenAction_AI衍黎]
requireConditional: if self.globalTeamTags(includes='AI系统')
autoTriggerOnEvent: created
setResourcesWithLogic: AI分支随机=rnd(0,100)

[hiddenAction_AI随机衍黎]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.timeAlive(laterThanSeconds=0.15) and not self.tags(includes='AI分支已选') and not self.globalTeamTags(includes='启') and self.resource(type='AI分支随机', lessThan=50)
alsoQueueAction: 1
temporarilyAddTags: AI分支已选

[hiddenAction_AI随机狂猎]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.timeAlive(laterThanSeconds=0.15) and not self.tags(includes='AI分支已选') and not self.globalTeamTags(includes='启') and self.resource(type='AI分支随机', greaterThan=49)
alsoQueueAction: 2
temporarilyAddTags: AI分支已选
