
[core]
name: mmheavyTank
displayText: 纳米重型坦克
displayDescription:-全副武装\n-能攻击地面单位\n-一定对空能力\n-纳米机器人将突破装甲\n-自我修复\n-缓慢修复友方单位\n-在血量低于一半时自动开启范围护盾立场\n-对地范围: ${turret_1.limitingRange}

class: CustomUnitMetadata
price: 1300
maxHp: 800
mass: 8000
tags: units, 坦克, 重型坦克, 纳米重型坦克

maxShield: 170
shieldRegen: -0.2
startShieldAtZero:true

armour:10
armourMinDamageToKeep:10

techLevel: 2
buildSpeed: 15.2s
availableInDemo: true

selfRegenRate: 0.08

radius: 14
displayRadius: 16
shieldRenderRadius:	18

isBio: false
softCollisionOnAll: 6

energyMax: 60
energyRegen: 0.0166

[attachment_1]
x:0
y:0
isUnselectable: false
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
setDrawLayerOnTop: false
addTransportedUnits: 1
#lockRotation: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: 纳米修复

[hiddenAction_shield]
autoTrigger:if self.isEnergyFull() and self.hp(LessThan=300)
fireTurretXAtGround: base
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround_withProjectile: shield
addResources: energy=-60

[graphics]
total_frames: 3

image:       mmheavy_tank.png
image_wreak:  heavy_Tank_dead.png
image_turret: mmheavy_tank_turret.png
image_shield: 护盾.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

showEnergyBar: false
showShieldBar: false

animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 200
shootDelay: 52

[turret_1]
#
x: 0
y: 0
attachedTo: base
slave: true
projectile: 1
size: 20

shoot_sound: firing4
shoot_sound_vol:0.3
shoot_flame:small,smoke

canShoot:true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
limitingRange: 160

#resourceUsage:hp=-10

[turret_2]
#
x: 0
y: 0
projectile: 2
size: 0

invisible: true

shoot_sound:missile_fire
shoot_sound_vol:0.3
#shoot_flame:small
shoot_light:#FFccCCEE

canShoot:true
canAttackFlyingUnits: true
canAttackLandUnits: false
canAttackUnderwaterUnits: false

#resourceUsage:hp=-10

[turret_base]
#Base
x: 0
y: 0
canShoot: false
canAttackFlyingUnits: false
limitingRange: 160

recoilOffset: -2
recoilOutTime: 7
recoilReturnTime: 10


[projectile_1]
tags= T-projectile
directDamage: 25
areaDamage: 25
areaRadius: 35
armourIgnoreAmount:10
life: 90
speed: 5

color:#FF3BFF00
drawSize: 1.8
lightColor: #FF3BFF00
lightSize: 0.6
trailEffect: CUSTOM:Nanometer
largeHitEffect: true
deflectionPower:1

spawnProjectilesOnExplode: 1+

[projectile_1+]
tags= T-projectile
directDamage: 0
life:0
explodeOnEndOfLife:true
explodeEffect:CUSTOM:Nanometer*5
explodeEffectOnShield:CUSTOM:Nanometer*5

[projectile_2]
tags= T-projectile
areaDamage: 40
areaRadius: 35
armourIgnoreAmount:10
life: 300
speed: 0.4
targetSpeed: 5
drawSize: 2
color: #FF3BFF00
trailEffect: true
largeHitEffect: true

ballistic:  true
ballistic_height: 35

autoTargetingOnDeadTarget: true

[projectile_shield]
tags= T-projectile
areaDamage: -1
areaRadius: 160
shieldDamageMultiplier: 100
life: 50
instant: true
targetGround: true
friendlyFire: only-ignoreEnemy
explodeEffect: CUSTOM:shield
spawnProjectilesOnCreate: shield+

[projectile_shield+]
tags= T-projectile
areaDamage: -1
areaRadius: 160
areaDamageNoFalloff: true
shieldDamageMultiplier: 100
life: 50
instant: true
targetGround: true
friendlyFire: only-ignoreEnemy
explodeEffect: NONE

[effect_shield]
image: 护盾.png
life: 100
fadeOut: true
attachedToUnit: true
scaleFrom: 1.6
scaleTo: 1.6
alpha: 0.3
dirSpeedRandom: 2
drawUnderUnits:false

[effect_Nanometer]
priority:low

attachedToUnit:false
life:50
alpha:0.6
image: SHARED:spark.png
scaleFrom: 1
scaleTo: 2
color: #11E57E
drawUnderUnits:false
atmospheric:true
xOffsetRelativeRandom:3
yOffsetRelativeRandom:3
xSpeedRelativeRandom:0.2
ySpeedRelativeRandom:0.2

[movement]
movementType: LAND
moveSpeed: 0.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

maxTurnSpeed: 2.4
turnAcceleration: 0.2

reverseSpeedPercentage:1.0

moveSlidingMode :true

[ai]
upgradedFrom: heavyTank