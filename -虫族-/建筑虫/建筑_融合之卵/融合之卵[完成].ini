[core]



showInEditor: false
name: 融合之卵[完成]
displayText: 融合之卵
maxHp: 3500
mass: 1000
price: 3000
radius: 25
isBuilding: true
footprint: -1,-1,1,1
constructionFootprint: -1,-1,1,1
placeOnlyOnResPool: false
selfRegenRate: 0.1
buildSpeed: 18s
selfBuildRate: 9s
isBug: true
isBio: true
tags: units, 虫族, 虫建筑
energyMax: 0
displayDescription: -孵化完成 \n -破卵后释放大量滞留毒雾 \n -产生炮弹虫与部分小型虫 \n -根据腐蚀分支解锁不同破卵效果

[action_kill]
autoTrigger: if self.isControlledByAI
displayType: action
text: kill
description: -破卵
buildSpeed: 0.5s
pos: 0
allowMultipleInQueue: false
setResourcesWithLogic: hp=-99999

[hiddenAction_death]
autoTriggerOnEvent: destroyed
fireTurretXAtGround: explode
fireTurretXAtGround_withOffset: 0, 0
spawnUnits: bugMelee*4(maxSpawnLimit=5,spawnChance=0.25), 蚊子*4(maxSpawnLimit=5,spawnChance=0.25), bugMeleeSmall*4(maxSpawnLimit=5,spawnChance=0.25), 炮弹虫*4(maxSpawnLimit=5, addResources=setFlag:3)

[hiddenAction_狂猎]
autoTrigger: if self.globalTeamTags(includes='狂猎')
convertTo: 融合之卵[完成狂猎]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[animation_1]
onActions: idle, attack, move
pingPong: true
scale_start: 1
scale_end: 1.01
speed: 60

[graphics]
image: 中卵.png
scaleImagesTo: 50
image_wreak: 死了的卵_1.png

[attack]
canAttack: false

[turret_explode]
x: 0
y: 0
canShoot: false
projectile: explode

[projectile_explode]
tags= T-projectile
life: 99
instant: true
largeHitEffect: true
targetGround: true
areaDamage: 800
areaRadius: 180
spawnProjectilesOnExplode: explode2*5
spawnUnit: 滞留毒雾

[projectile_explode2]
tags= T-projectile
life: 99
#instant: true
explodeOnEndOfLife: true
largeHitEffect: true
targetGround: true
targetGroundSpread: 200
areaDamage: 200
areaRadius: 60
frame: 6
drawSize: 1.5

lightColor: #ff00ff00
lightSize: 0.5

initialUnguidedSpeedHeight: 1.2
gravity: 0.18

spawnUnit: 炮弹虫(skipIfOverlapping=true, addResources=setFlag:3), 滞留毒雾

[movement]
movementType: BUILDING

[hiddenAction_1]
autoTrigger: if self.isOverLiquid
deleteSelf: true

[effect_毒雾3]
stripIndex: effects
frameIndex: 0
priority: low

life: 200
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime: 5
hSpeed: 0.8
scaleFrom: 1.0
scaleTo: 2.5
alpha: 0.4
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
delayedStartTimerRandom: 25

shadow: true
atmospheric: true

[effect_毒雾4]
stripIndex: effects
frameIndex: 0
priority: low

life: 200
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime: 2
scaleFrom: 3.0
scaleTo: 5.0
alpha: 0.6

[action_蔓延虫塔]
isVisible: if self.globalTeamTags(includes='衍黎')
price: 3200
text: 蔓延 - 虫塔
description: -在当前位置释放枝繁叶茂蔓延数个虫塔 \n [衍黎] \n %{select(self.globalTeamTags(includes='皎红'), '-产生持续60秒的虚红感染区', '')}
displayType: upgrade
buildSpeed: 0s
pos: 1
deleteSelf: true
spawnUnits: 枝繁叶茂
spawnEffects: CUSTOM:毒雾3*4
allowMultipleInQueue: false

