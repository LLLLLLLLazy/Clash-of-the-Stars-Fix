
[core]
copyFrom: turret_common_land.ini
name:管道虫

price:2900
maxHp:530

techLevel:2
buildSpeed:0.002

tags: units, 虫族, 虫建筑, 虫筑系T2, 炮塔

selfRegenRate: 0.1

displayDescription:-攻击地面单位 \n -祂疏通了脉络……

fogOfWarSightRange: 20
fogOfWarSightRangeWhileNotBuilt: 15

[action_1]
isVisible: if self.resource(type="生长", lessThan=${action_1.price/10})
convertTo:管道虫T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: Upgrade
price:11000
id: 进化管道T2
text:进化 - T2
description:-祂无意识的搅乱……
descriptionAddUnitStats: ${section.convertTo}
buildSpeed:83.3s
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[action_衍1]
@copyFromSection: action_1, template_衍黎进化
isVisible: if self.resource(type="生长", greaterThan=${action_1.price/10-1})
addResources: 生长=-${action_1.price/10}
id: 生长${action_1.id}
textPostFix: (生长: ${action_1.price/10})
buildSpeed: 8.33s

[hiddenAction_自生长1]
autoTrigger: if self.hasUnitInTeam(withTag="生长-无源之源") and self.hasResources(生长=${action_1.price/10}) and self.queueSize(empty=true)
alsoQueueAction: 衍1

[graphics]
image:管道虫.png
scaleImagesTo:30

[attack]
canAttack:true
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false

maxAttackRange:350
shootDelay:225

[turret_1]
x:0
y:-4
shoot_light:#FF00CCCC

[projectile_1]
tags= T-projectile
directDamage: 1
life:300
speed:2
image:null.png
deflectionPower: -1

trailEffect:CUSTOM:scoutTrail
#trailEffectRate:3

ballistic:true
ballistic_delaymove_height:-4
ballistic_height:-4

spawnUnit:bugMeleeSmall(addResources=setFlag:0)
spawnProjectilesOnExplode:2*10(offsetRandomXY=60)

[projectile_2]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife:true
targetGround:true
areaDamage:50
areaRadius:30
explodeEffect:CUSTOM:scoutTrail

[effect_scoutTrail]
createWhenOverLiquid: false
createWhenZoomedOut: false
priority:veryhigh
life: 50
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.7
scaleTo: 3.2
alpha: 0.9
drawUnderUnits:true
ySpeedRelative:-0.1
xSpeedRelativeRandom:0.2
atmospheric: true
stripIndex:dust

[ai]
upgradedFrom: 虫塔

[hiddenAction_AIreclaim]
autoTrigger: if self.isControlledByAI and self.hp(lessThan=100) and self.queueSize(empty=true)
alsoQueueAction: reclaim