
[core]
showInEditor: false
copyFrom: 独角仙.ini
name: 独角仙[振翅]

energyMax: 1
energyRegen: 0

[hiddenAction_flight]
autoTrigger: if self.isEnergyEmpty()
convertTo: 独角仙
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
addEnergy: 1

[hiddenAction_飞行时间]
autoTrigger: if not self.isOverClift() and not self.isEnergyEmpty()
addEnergy: -0.02

[hiddenAction_飞行回复]
autoTrigger: if self.isOverClift()
addEnergy: 0.06

[hiddenAction_俯冲]
autoTrigger: if self.hasFlag(id=1)
convertTo: 独角仙
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
addEnergy: -1
addResources: unsetFlag=1


[graphics]
total_frames: 1
image: 独角仙[振翅].png

[animation_move]
@copyFrom_skipThisSection:true

[animation_idle]
@copyFrom_skipThisSection:true

[animation_振翅]
onActions : idle, move

arm1_.0s: {x:0, y:0, dir:0}
arm2_.0s: {x:0, y:0, dir:0}
arm1_.1s: {x:0, y:0, dir:-60}
arm2_.1s: {x:0, y:0, dir:60}
arm1_.2s: {x:0, y:0, dir:0}
arm2_.2s: {x:0, y:0, dir:0}

KeyframeTimeScale: 0.5


[attack]
maxAttackRange: 40
shootDelay: 45

isFixedFiring: true

[turret_1]
x: 0
y: 0

canAttackCondition: if self.lastConverted>0.3

shoot_sound: bug_attack
shoot_sound_vol: 0.4

recoilOffset: 3
recoilOutTime: 6
recoilReturnTime: 18

resourceUsage: setFlag=1

[projectile_1]
tags= T-projectile
teleportSource: true
directDamage: 160
life: 50
instant: true
explodeEffect: CUSTOM:shockwave, CUSTOM:土粒飞溅*2, CUSTOM:土粒飞溅2*2
explodeEffectOnShield: CUSTOM:shockwave, CUSTOM:土粒飞溅*2, CUSTOM:土粒飞溅2*2
spawnProjectilesOnExplode:爆炸效果

[projectile_爆炸效果]
tags= T-projectile
directDamage:0
largeHitEffect: true
life:0
explodeOnEndOfLife:true
explodeEffectOnShield:NONE

[arm_1]
x: -1
y: 3
endDirOffset: 75
image_end: 左翅膀.png
image_end_shadow: SHADOW:左翅膀.png
drawOverBody: true

[arm_2]
x: 1
y: 3
endDirOffset: -75
image_end: 右翅膀.png
image_end_shadow: SHADOW:右翅膀.png
drawOverBody: true

[arm_3]
x: 0.5
y: 2
endDirOffset: 75
image_end: 左甲壳.png
image_end_shadow: SHADOW:左甲壳.png
drawOverBody: true

[arm_4]
x: -0.5
y: 2
endDirOffset: -75
image_end: 右甲壳.png
image_end_shadow: SHADOW:左甲壳.png
drawOverBody: true

[effect_shockwave]
stripIndex: shockwave
life: 30
scaleFrom: 0
scaleTo: 1.0
drawUnderUnits: true
alsoPlaySound: large_gun_fire2:0.4

[effect_土粒飞溅]
attachedToUnit: false
priority: low
life: 80
alpha: 1
physics: true
xSpeedRelativeRandom: 1.2
ySpeedRelativeRandom: 1.2
hSpeed: 2
scaleFrom: 1.0
scaleTo: 1.0
image: particle.png
color: #9D7565
[effect_土粒飞溅2]
@copyFromSection: effect_土粒飞溅
color: #906857

[movement]
movementType: OVER_CLIFF
moveSpeed: 1

targetHeight: 10
targetHeightDrift: 0.5

[ai]
upgradedFrom: 独角仙

