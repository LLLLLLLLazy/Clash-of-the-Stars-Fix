[core]



name: 帝国建造者
maxHp: 150
mass: 2000
price: 600
radius: 12
displayRadius: 12
shieldRenderRadius: 9
softCollisionOnAll: 0
maxShield: 70
shieldRegen: 0.03
isBuilder: true
nanoRange: 150
nanoRepairSpeed: 0.2
canRepairBuildings: true
canReclaimResources: true
autoRepair: true
#nanoBuildSpeed: 1
nanoBuildSpeed: 1.0
buildSpeed: 8.3s
tags: units, 建造者, 帝建T1, 固定射击
displayDescription: -帝国远征的起点！\n-建造和维修建筑\n-没有攻击能力

copyFrom: 帝国建造列表.ini

[action_Upgrade]
convertTo: 帝国建造者T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 400
text: 升级 - T2
displayType: upgrade
buildSpeed: 6.9s
pos: 15
isVisible: if numberOfUnitsInTeam(withTag="帝国前哨站T2", greaterThan=0, withinRange=560)
description: 帝国远征！
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true

[graphics]
image: 帝国建造者.png
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1
imageScale: 1

[attack]
canAttack: false
isFixedFiring: true

[turret_1]
x: 0
y: 8
limitingRange: ${core.nanoRange}
showRangeUIGuide: true

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08
maxTurnSpeed: 3.5
turnAcceleration: 0.4

[leg_1]
x: -10
y: 10
attach_x: -4
attach_y: 4

moveSpeed: 4
moveWarmUp: 0.5
rotateSpeed: 10
heightSpeed: 0.4

image_leg: leg.png
dust_effect: false

holdDisMin: 1
holdDisMax: 3

favourOppositeSideNeighbours: true

[leg_2]
x: 10
y: 10
attach_x: 4
attach_y: 4
copyFrom: 1

[leg_3]
x: -10
y: -10
attach_x: -4
attach_y: -4
copyFrom: 1

[leg_4]
x: 10
y: -10
attach_x: 4
attach_y: -4
copyFrom: 1

[ai]
useAsBuilder: true

[hiddenAction_AI{AddTags}]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='AI系统', greaterThan=0) and numberOfUnitsInEnemyTeam(withTag='基地', greaterThan=0, withinRange=1000)
temporarilyAddTags: 建造者[侵]
[hiddenAction_AI{resetTags}]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='AI系统', greaterThan=0) and numberOfUnitsInEnemyTeam(lessThan=1, withinRange=1000)
resetToDefaultTags: true


[hiddenAction_AIMiner]
autoTrigger: if self.globalTeamTags(includes='AI系统') and not numberOfUnitsInTeam(withTag='造矿者', greaterThan=0)
temporarilyAddTags: 造矿者

[hiddenAction_AI-Build]
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasActiveWaypoint(type='build') and not numberOfUnitsInTeam(withTag='提取器建造中', greaterThan=0, withinRange=180, incompleteBuildings=true) and self.tags(includes='造矿者')
addWaypoint_type: build
addWaypoint_unitType: 帝国资源提取器T1
addWaypoint_prepend: true
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 矿点1
addWaypoint_target_nearestUnit_team: any

[hiddenAction_AI-BuildContinue]
autoTrigger: if self.globalTeamTags(includes='AI系统') and numberOfUnitsInTeam(withTag='提取器建造中', greaterThan=0, withinRange=180, incompleteBuildings=true) and not self.hasActiveWaypoint(type='repair') and self.tags(includes='造矿者')
addWaypoint_type: repair
addWaypoint_prepend: true
addWaypoint_target_mapMustBeReachable: false
addWaypoint_target_nearestUnit_tagged: 提取器建造中
addWaypoint_target_nearestUnit_team: own

[hiddenAction_AIBuildBlocked]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hasActiveWaypoint(type='build') and self.tags(includes='造矿者') and not self.isMoving
addResources: AI阻挡=1

[hiddenAction_AIBlockInformation]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hasActiveWaypoint(type='build') and self.tags(includes='造矿者') and not self.isMoving and self.hasResources(AI阻挡=12)
takeResources: setFlag=0
takeResources_includeUnitsWithinRange: 1000
takeResources_includeUnitsWithinRange_team: any
takeResources_excludeUnitsWithoutTags: 矿点1
takeResources_maxUnits: 1
resourceAmount: AI阻挡
resourceAmount_setValue: 0

[resource_AI阻挡]
displayName: AI阻挡