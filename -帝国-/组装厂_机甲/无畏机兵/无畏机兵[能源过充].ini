
[core]
showInEditor:false
name: 无畏机兵[能源过充]
copyFrom: 无畏机兵.ini

maxShield: 1600
shieldRegen: 1

energyMax: 12
energyRegen: 0.045

autoTriggerCooldownTime: 0.1s

[action_能源过充]
isActive: false
isVisible: true
text: 能源过充:[%{self.energy}!7]
isGuiBlinking: true

[hiddenAction_stop]
autoTrigger: if self.lastConverted(laterThanSeconds=12)
setResourcesWithLogic: 能源冷却=1
setUnitMemory: 属性[18]=-0.5, 属性[15]=1600
convertTo_keepCurrentFields: maxShield
convertTo: 无畏机兵
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_criticalEnergy]
autoTrigger: if self.energy > 7
addResources: hp=-25, shield=25

[hiddenAction_limit]
autoTrigger: if self.energy(full=true)
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: nuke
addResources: energy=-5, hp=-1800
alsoTriggerAction: stop

[hiddenAction_smog]
autoTrigger: if self.energy <= 7
spawnEffects: CUSTOM:smog

[hiddenAction_redSmoke]
autoTrigger: if self.energy > 7
spawnEffects: CUSTOM:redSmog

[effect_smog]
stripIndex: effects
frameIndex: 0
priority:low

life: 100
fadeOut: true
attachedToUnit: false
color: #000000
fadeInTime: 5
hSpeed: 0.5
scaleFrom: 0.5
scaleTo: 1.5
alpha: 0.3
drawUnderUnits:false
yOffsetRelative:-3
xOffsetRelativeRandom:15
yOffsetRelativeRandom:7

ySpeedRelative:0.3
xSpeedRelativeRandom:0.2
ySpeedRelativeRandom:0.2

shadow: true
atmospheric: true

[effect_redSmog]
@copyFromSection: effect_smog
color: #800000

[decal_能源红光]
isVisible: if not self.isEnergyEmpty
layer: onTop
image: 红光.png
imageScale: 2
alpha: 0.5*(self.energy/self.maxEnergy)
onlyWhileAlive: true


[attack]
aimOffsetSpread: 0.8

[turret_1]
turnSpeed: 5

[turret_2]
turnSpeed: 5

delay: 30
warmup: 25
warmupCallDownRate: 0.2

energyUsage: 0.7

[turret_3]
turnSpeed: 9

warmup: 75
warmupCallDownRate: 0.8
warmupShootDelayTransfer: 26

energyUsage: 0.17


[projectile_1]
tags= T-projectile
explodeEffect: CUSTOM:eff*12

[effect_hitLightFlash]
life: 25


[movement]
moveSpeed: 0.7


[projectile_nuke]
tags= T-projectile
life: 50
speed: 5
drawSize: 0

largeHitEffect: true

targetGround: true

areaDamage: 400
areaRadius: 50

friendlyFire: true

deflectionPower: -1

spawnProjectilesOnExplode: nuke附

[projectile_nuke附]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife: true
invisible: true
targetGround: true
directDamage: 0
explodeEffect: CUSTOM:explodeCore, CUSTOM:hitLightFlash2

[effect_explodeCore]
priority: veryhigh
life: 60
attachedToUnit: true
stripIndex: explode_big2
scaleFrom: 2
scaleTo: 2
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.25
fadeOut: false

