
[core]
name: 空骸
displayText: 空骸
displayDescription: -带有范围腐蚀性的攻击 \n -在水上时攻击水上 \n -在水下时攻击水下 \n -可短暂飞行并攻击空中 \n -毒素附加: 25 | 25
class: CustomUnitMetadata
price: 900
maxHp: 400
mass: 3000

techLevel: 1

buildSpeed: 0.0015
availableInDemo: true

radius: 13
displayRadius: 13

selfRegenRate:0.06

softCollisionOnAll: 8

isBio: true
isBug: true
tags: units, 虫族, 小型虫, 空骸
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 空骸

energyMax: 2
energyRegen: 0.008

[action_floatAndSink]
convertTo: 空骸[潜]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
id: ${section.text}
text: ↓下沉↓
description: -沉入水下
buildSpeed: 0.3s
pos:1
highPriorityQueue: true
alwaysSinglePress: true
spawnEffects: CUSTOM:shockwave2, CUSTOM:displacement

[action_fly]
isLocked: if not self.energy(full=true)
isLockedMessage: 冷却中…
convertTo: 空骸[空]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
id: ${section.text}
text: ↑飞跃↑
description: -飞跃天空 \n -落在陆地上可缓慢爬行
buildSpeed: 0.3s
pos:2
highPriorityQueue: true
alwaysSinglePress: true
spawnEffects: CUSTOM:shockwave2, CUSTOM:displacement

[hiddenAction_automaticConversion]
autoTrigger: if self.isOverPassableTile(type="LAND")
convertTo: 空骸[陆]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[effect_shockwave]
priority:low
stripIndex: shockwave_large
life: 16
attachedToUnit: true
scaleFrom: 0
scaleTo: 0
alpha: 0
alsoEmitEffectsOnDeath: CUSTOM:shockwave2, CUSTOM:displacement

[effect_shockwave2]
priority:low
stripIndex: shockwave_large
life: 45
fadeOut: true
fadeInTime: 3
attachedToUnit: false
color: #66B6E4
scaleFrom: 0
scaleTo: 0.65
alpha: 0.5
drawUnderUnits:true

[effect_displacement]
drawType: displacement

image: SHARED:ripple_normal_128.png
life: 60
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #FFFFFF
scaleFrom: 0.1
scaleTo: 0.85
alpha: 0.03
drawUnderUnits:false

dirOffsetRandom: 180
dirSpeed: 1

[hiddenAction_水下出厂]
@copyFromSection: template_水下出厂

[graphics]

total_frames: 1
image:        空骸.png
image_wreak:  NONE
image_turret: NONE

#AUTO
image_shadow: NONE
shadowOffsetX: 0
shadowOffsetY: 0

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 100
animation_idle_scale_start: 1
animation_idle_scale_end: 1.01
animation_idle_pingPong: true

lock_body_rotation_with_main_turret: true

movementEffect: CUSTOM:splash
movementEffectRate: 8

[effect_splash]
priority:verylow
stripIndex: effects
frameIndex: 13

life: 60
fadeOut: true
fadeInTime: 3
attachedToUnit: false

scaleFrom: 0.8
scaleTo: 1.1
alpha: 0.4
atmospheric:true

dirOffsetRandom:180

ySpeedRelative:-0.2
yOffsetRelative:-11
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1

drawUnderUnits:true

[attack]
canAttack: true
canAttackFlyingUnits: if self.isFlying
canAttackLandUnits:   if self.isAtGroundHeight
canAttackUnderwaterUnits: if self.isUnderwater

turretSize: 12
turretTurnSpeed: 4.5

maxAttackRange: 140
shootDelay: 52

[turret_1]
x: 0
y: 0

shoot_light:#FF00CCCC

warmup: 20

chargeEffectImage: glow_green.png

recoilOffset: -3
recoilOutTime: 6
recoilReturnTime: 24

[projectile_1]
tags= T-projectile
directDamage: 35
areaDamage: 30
areaRadius: 35
largeHitEffect:true
life: 80
speed: 3
targetSpeed: 6
#frame: 0
frame: 6

lightColor:#00ff00
lightSize:0.9

trailEffect: 尾气雾

explodeEffect: CUSTOM:explode, CUSTOM:hit-shockwave

spawnUnit: 有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesDirectHit: 毒素=25
mutatorX_addResourcesAreaHit: 毒素=25

[resource_毒素]
displayName: 毒素

[effect_尾气雾]
stripIndex: effects
frameIndex: 0

life: 30
fadeOut: true
attachedToUnit: false
color: #FF3BFF00
hSpeed: 0.3
scaleFrom: 0.8
scaleTo: 0.3
alpha: 0.6
drawUnderUnits: false
yOffsetRelative: -1
xSpeedRelativeRandom: 0.1


[effect_explode]
life: 25
fadeOut: false
attachedToUnit: false
image: explode_big2.png
scaleFrom: 0.9
scaleTo: 0.9
alpha: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
alsoPlaySound: missile_hit:0.5

[effect_hit-shockwave]
stripIndex: shockwave_large
life: 25
scaleFrom: 0
scaleTo: 0.75
alpha: 1
color: #B1FF99

[movement]
movementType: WATER
moveSpeed: 1
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.06

reverseSpeedPercentage: 0.3

targetHeight: -0.7
targetHeightDrift: 0.3

maxTurnSpeed: 3.7
turnAcceleration: 0.4

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181





