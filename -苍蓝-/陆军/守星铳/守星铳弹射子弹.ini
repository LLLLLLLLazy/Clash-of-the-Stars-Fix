
[core]
showInEditor:false

name: 守星铳弹射子弹
displayDescription: -
class: CustomUnitMetadata

price: 0
maxHp: 1
mass: 999999

tags=magic

disableAllUnitCollisions:  true
isUnselectable:true
ignoreInUnitCapCalculation: true

canNotBeDirectlyAttacked:true

showOnMinimapToEnemies: false

techLevel: 1
buildSpeed: 3.33s
#availableInDemo: true

energyMax: 1

radius: 10
displayRadius: 10

isBio: false
softCollisionOnAll: 0

numBitsOnDeath: 0
explodeOnDeath: false
hideScorchMark: false

autoTriggerCooldownTime: 0.1s

[hiddenAction_height]
autoTriggerOnEvent: completeAndActive
setHeight: attacking.height

[hiddenAction_attack]
autoTriggerOnEvent: created
addWaypoint_type: attack
addWaypoint_prepend: true
addWaypoint_target_randomUnit_tagged: units
addWaypoint_target_randomUnit_team: enemy
addWaypoint_target_randomUnit_maxRange: 50

[action_kill]
autoTrigger: if self.energy(empty=true) or self.timeAlive(laterThanSeconds=0.1)
deleteSelf: true
isVisible: false

[graphics]
isVisible: false
image: SHARED:blank.png

disableLowHpSmoke: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretTurnSpeed: 100

maxAttackRange: 50
shootDelay: 0

turretMultiTargeting: true

aimOffsetSpread: 0

[turret_1]
x: 0
y: 0
barrelHeight: 6
energyUsage: 1
limitingMinRange: 20
warmup: 1

[turret_2]
x: 0
y: 0
barrelHeight: 6
energyUsage: 1
limitingRange: 20
canAttackCondition: if not self.hasFlag(id=2)
warmup: 2

[turret_3]
x: 0
y: 0
warmup: 100
limitingRange: 20

[projectile_1]
directDamage: 50
areaDamage: 0
areaRadius: 30

buildingDamageMultiplier: 0.75

largeHitEffect: true

trailEffect: CUSTOM:残光
trailEffectRate: 1

life: 200
speed: 1
targetSpeed: 15

initialUnguidedSpeedY: -5

deflectionPower: 1

image: 能量子弹.png
drawSize: 0.0

lightColor: #ffffcc
lightSize: 0.5

effectOnCreate: CUSTOM:黄金回旋

spawnUnit: 守星铳弹射子弹(addResources=setFlag:2)

spawnProjectilesOnExplode:爆炸效果

[projectile_爆炸效果]
directDamage:0
life:0
explodeEffect: CUSTOM:气, CUSTOM:爆裂, CUSTOM:闪光
explodeEffectOnShield: CUSTOM:气, CUSTOM:爆裂, CUSTOM:闪光
explodeOnEndOfLife:true

[effect_残光]
priority:low
image: SHARED:light_50.png
life: 10
fadeOut: true
fadeInTime:2
attachedToUnit: false
color: #ffffcc

scaleFrom: 0.5
scaleTo: 0.2
alpha: 0.3
drawUnderUnits:false

[effect_黄金回旋]
priority:critical

image: 能量子弹.png
life: 200
fadeOut: false
attachedToUnit: true
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
dirSpeed: 10
dirSpeedRandom: 2
dirOffsetRandom: 180
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_闪光]
image: SHARED:light_50.png
life: 35
fadeOut: true
attachedToUnit: false
color: #FFF9C2

scaleFrom: 1.0
scaleTo: 0.6
alpha: 0.8
drawUnderUnits:false

[effect_爆裂]
priority:veryhigh
life: 30

scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.9

dirOffsetRandom: 180
drawUnderUnits:false

image: Breath.png
total_frames: 15
animateFrameStart: 4
animateFrameEnd: 14
animateFramePingPong: false
animateFrameSpeed: 0.4

[effect_气]
priority: low
life: 50
fadeOut: true
fadeInTime:10
attachedToUnit: false
image: 白雾.png
color: #FFF9C2
scaleFrom: 0.4
scaleTo: 0.7
alpha: 0.7
dirOffsetRandom: 180
drawUnderUnits: false

[movement]
movementType: LAND
moveSpeed: 0
moveAccelerationSpeed: 0.0
moveDecelerationSpeed: 0.0
targetHeight: 0

heightChangeRate: 0

maxTurnSpeed: 0.0
turnAcceleration: 0.0

moveSlidingMode :false
moveIgnoringBody:false

[ai]
disableUse:true