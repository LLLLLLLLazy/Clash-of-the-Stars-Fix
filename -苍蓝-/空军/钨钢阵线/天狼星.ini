
[core]
name: 天狼星
displayText: 钨钢阵线
displayDescription: -全副武装 强化装甲 \n -发射带有击退力的能量弹 \n -可消耗资金展开防护盾 \n -自我修复

class: CustomUnitMetadata
price: 9000, 苍蓝能量=1
maxHp: 7000
mass: 20000

tags: units, 天狼星, 转向攻击

selfRegenRate: 0.12

maxShield: 4000
shieldRegen: -10
startShieldAtZero: true

techLevel: 2
buildSpeed: 33.3s

radius: 23
shieldRenderRadius: 27
isBio: false
softCollisionOnAll: 16

soundOnAttackOrder:	WulfrumDroidHurry1.ogg:0.3, WulfrumDroidHurry2.ogg:0.3
soundOnMoveOrder: WulfrumDroidRepair.ogg:0.3
soundOnNewSelection: WulfrumDroidChirp1.ogg:0.3, WulfrumDroidChirp2.ogg:0.3, WulfrumDroidChirp3.ogg:0.3, WulfrumDroidChirp4.ogg:0.3

[action_defence]
isVisible: true
isActive: if not self.queueSize(greaterThan=0)
convertTo: 天狼星[护盾]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
price: 500
addResources: shield=500
id: ${section.text}
text: 防护盾展开
description: -展开防护盾抵挡伤害 \n -移速下降 \n -开启时持续消耗资金
buildSpeed: 5s
pos: 2
iconImage: WulfrumDroidBuff.png
highPriorityQueue: true
playSoundAtUnit: WulfrumBastionBreak.ogg:0.5
spawnEffects: 护盾展开
autoTrigger: if self.hasFlag(id=3) and not self.isAttacking() and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=600)
ai_isDisabled: true

[action_苍蓝升级]
displayType: upgrade
id: ${section.text}
text: 结构重组
description: -击杀单位或脱离战斗时回复血量与护盾 \n -回复波会击退敌军
buildSpeed: 62.2s
pos: 3
price: 苍蓝能量=3
allowMultipleInQueue: false
canPlayerCancel: false
highPriorityQueue: true
whenBuilding_triggerAction: 苍蓝特效
spawnEffects: custom:星
addResources=setFlag=3
iconImage: SiriusBuff.png
isActive: if not self.hasFlag(id=3)
isGuiBlinking: if self.hasFlag(id=3)

[hiddenAction_苍蓝特效]
spawnEffects: 苍, 苍2

[effect_苍]
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: true
image: ROOT:/素材/hit.png
life: 3792
scaleFrom: 3.3
scaleTo: 3.3
alpha: 10
dirSpeed: 3
color: #337EE8
priority: high
alsoPlaySound: laser_deflect
[effect_苍2]
@copyFromSection:effect_苍
dirSpeed: -3
color: #99CBCC
scaleFrom: 2
scaleTo: 2
[effect_星]
image: ROOT:/素材/light.png
liveAfterAttachedDies: false
attachedToUnit: true
drawUnderUnits: false
color: #D4FFD7
life: 60
scaleFrom: 1
scaleTo: 1
alpha: 1

[graphics]
total_frames: 1

image:        天狼星.png
image_wreak:  天狼星残骸.png
image_turret: NONE
image_shield: 护盾.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

showShieldBar: false

lock_body_rotation_with_main_turret: true

[attack]
turretRotateWithBody: true

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 15
turretTurnSpeed: 1.6

maxAttackRange: 170
shootDelay: 45

aimOffsetSpread: 0

[turret_1]
invisible: true
canShoot: false
x: 0
y: 0

[turret_2]
x: 0
y: 0
attachedTo: 1
slave: true

shoot_sound:WulfrumDroidFire.ogg
shoot_sound_vol:0.35
shoot_flame:开火光*2
shoot_light:#D4FFD7

projectile:1

[projectile_1]
tags= T-projectile
directDamage: 65
areaDamage: 20
areaRadius: 30

pushVelocity: 1

life: 100
speed: 5

deflectionPower: 2

image: 绿球.png
drawSize: 0.9

lightColor: #D4FFD7
lightSize: 0.6

explodeEffect: 绿爆, 小绿波, 小绿光
explodeEffectOnShield: 绿爆, 小绿光*2

[turret_magic]
x: 0
y: 0
canShoot: false
attachedTo: 1
slave: true

barrelHeight: 1000

shoot_sound:WulfrumBastionBreak.ogg
shoot_sound_vol:0.6

[projectile_天束]
tags= T-projectile
areaDamage: 0
areaRadius: 500
areaExpandTime: 30
areaHitAirAndLandAtSameTime: true
pushVelocity: 1
laserEffect: true
instant: true
life: 20
color: #D4FFD7
drawUnderUnits: true
moveWithParent: true
targetGroundHeightOffset: 30
explodeEffect: NONE

[effect_hitLightFlash]
image: SHARED:light_50.png
life: 20
color: #D4FFD7
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_星波]
stripIndex: shockwave_large
life: 30
scaleFrom: 0
scaleTo: 10
alpha: 0.2
color: #D4FFD7

[effect_绿爆]
life: 25
fadeOut: false
attachedToUnit: false
image: 白爆.png
color: #D4FFD7
scaleFrom: 1.0
scaleTo: 1.0
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5

[effect_小绿波]
stripIndex: shockwave_large
life: 25
fadeOut: true
attachedToUnit: false
color: #D4FFD7
scaleFrom: 0
scaleTo: 0.7
alpha: 0.9
drawUnderUnits:false

[effect_小绿光]
life: 65
fadeOut: true
attachedToUnit: false
image: SHARED:light_50.png
color: #D4FFD7
scaleFrom: 1.0
scaleTo: 1.0
alpha: 0.4
drawUnderUnits:false

[effect_护盾展开]
life: 100
fadeOut: true
fadeInTime: 15
attachedToUnit: true
image: 护盾.png
scaleFrom: 0.7
scaleTo: 0.6
alpha: 0.8
drawUnderUnits:false

[effect_开火光]
life: 45
fadeOut: true
attachedToUnit: false
image: SHARED:light_50.png
color: #D4FFD7
scaleFrom: 0.6
scaleTo: 0.3
alpha: 0.6
drawUnderUnits:false

[movement]
movementType: AIR
moveSpeed: 1.1
moveAccelerationSpeed: 0.012
moveDecelerationSpeed: 0.01

targetHeightDrift: 1

#landOnGround: onlyIdle

maxTurnSpeed: 1.6
turnAcceleration: 0.06

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  50

slowDeathFall: true

