
[core]
name: 星际战士[远程]
displayText: 基因战士
displayDescription: -为战斗而诞生 \n-灵活切换爆弹枪与链齿刀作战
class: CustomUnitMetadata
price: 2000, 基因种子=1
maxHp: 1200
mass: 6000

maxShield: 600
shieldRegen: -0.5
startShieldAtZero: true

tags: units, 星际步兵, 星际战士, 转向攻击

energyMax: 12
energyRegen: 0.02
energyNeedsToRechargeToFull: true

armour: 20
armourMinDamageToKeep: 20

fogOfWarSightRange: 18

techLevel: 2
buildSpeed: 18.5s

radius: 14
displayRadius: 16

isBio: true

#softCollisionOnAll: 3

selfRegenRate:0.08

transportSlotsNeeded:1

#generation_resources: 基因种子=0.006

showActionsWithMixedSelectionIfOtherUnitsHaveTag: 星际步兵

[hiddenAction_created]
autoTriggerOnEvent: created
setResourcesWithLogic: 近战护盾=600

[action_1]
id: 切换近战武器
text: 切换武器 - 刀
description: -拿出链齿刀 \n -展开防护盾
convertTo: 星际战士[近战]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
buildSpeed: 0.5s
pos: 0

setUnitStats: shield=self.resource.近战护盾

alwaysSinglePress: true

[action_基因升级]
price: 1600, 基因种子=1
id: 基因重型武装
text: 升级 - 重型武装
displayType: upgrade
buildSpeed: 12.8s
pos: 5
convertTo: 星际老兵[远程]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
isLocked: if self.resource(type='EXP', lessThan=1)
isLockedMessage: -需要击杀一个单位
setResourcesWithLogic: EXP=0

descriptionAddUnitStats: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
iconExtraImage: icon_upgrade_top.png
iconExtraColor: #80FFFFFF
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true

spawnEffects: 黑光, displacement

[hiddenAction_经战击杀]
autoTriggerOnEvent: killedAnyUnit
requireConditional: if not eventSource.self.tags(includes="召唤物")
addResources: EXP=1

[hiddenAction_近战护盾]
autoTrigger: if self.resource.近战护盾<600
setResourcesWithLogic: 近战护盾=min(self.resource.近战护盾+${0.25*60}, 600)

[resource_近战护盾]
displayName: 近战护盾
displayRoundedDown: true

#[hiddenAction_死亡返还]
#autoTriggerOnEvent: destroyed
#addResources: 基因种子=0.5

[effect_黑光]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 1.7
scaleTo: 1.7
alpha: 1.7
drawUnderUnits:false

[effect_displacement]
drawType: displacement
image: SHARED:shockwave_normal_128.png
life: 25
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #ffffff
scaleFrom: 0.1
scaleTo: 0.7
alpha: 0.3
drawUnderUnits:false

[graphics]
total_frames: 1
image:       星际战士.png
image_wreak: NONE
image_turret: NONE

teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

showShieldBar: false

lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3.0

maxAttackRange: 190
shootDelay: 15

[turret_1]
#主体
x: 0
y: 0
idleDir:0

turnSpeed: 4.1
turnSpeedAcceleration: 0.3

canShoot: false

recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 10

[turret_2]
#炮
x: 1.5
y: 0
attachedTo: 1
slave: true
invisible: true

projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_flame: small
shoot_sound: tank_firing
shoot_sound_vol: 0.8
shoot_light: #FFccCCEE

canShoot: true

barrelY: 22
energyUsage: 1

[projectile_1]
tags= T-projectile
directDamage: 60
life:600
speed:7
frame:5
drawSize:1.3
largeHitEffect:true
lightColor: #FFF12B
lightSize: 0.5

spawnProjectilesOnExplode: 2*3(offsetRandomXY=30)

[projectile_2]
tags= T-projectile
life: 0
speed: 0
explodeOnEndOfLife:true
image: null.png

largeHitEffect:true
targetGround:true

areaDamage: 25
areaRadius: 25
areaHitAirAndLandAtSameTime:true

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.7
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

reverseSpeedPercentage: 1.0

maxTurnSpeed: 4.1
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:true

[resource_exp]
displayName: EXP
displayColor: #ff6c00