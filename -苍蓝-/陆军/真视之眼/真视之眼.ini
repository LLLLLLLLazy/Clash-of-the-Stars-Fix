
[core]
dont_load:true
name: 真视之眼
class: CustomUnitMetadata
price: 70000, 苍蓝能量=1
maxHp: 1000
mass: 800
buildSpeed:463.4s
displayDescription:-超级视野\n-超远射程\n祂似乎与"明亮之星"敌对…
tags: units, 转向攻击, 遥望宙恒, 能量冷却

maxShield:40
shieldRegen:40
shieldDisplayOnlyDeflection:true

experimental: true

techLevel: 1

availableInDemo: true

radius: 11
displayRadius: 15


fogOfWarSightRange: 1000


isBio: false

energyMax: 2.0
energyRegen: 0.003
energyNeedsToRechargeToFull: true


[hiddenAction_create]
autoTriggerOnEvent: completeAndActive
showMessageToAllPlayers: [苍蓝的流体从天穹滴落]

[action_order]
isVisible: if self.hasResources(credits=200000) or self.hasFlag(id=5)
isActive: if not self.hasFlag(id=5)
isGuiBlinking: if self.hasFlag(id=5)
iconExtraImage: 光印十字.png
iconExtraIsVisible: if self.hasFlag(id=5)
price: 200000
text: 秩序重构
description: -请让白神为你带来温暖的光……
displayType: Upgrade
iconImage: 时之轮刻.png
buildSpeed: 0
pos: 1
addResources: setFlag=5
allowMultipleInQueue: false
playSoundAtUnit: vision.ogg:1.0
resetCustomTimer: true
spawnEffects: CUSTOM:光环, CUSTOM:光时

[hiddenAction_重秩]
autoTrigger: if self.customTimer(laterThanSeconds=30) and self.hasFlag(id=5)
addResources: unsetFlag=5, 苍蓝能量=-9999
spawnEffects: CUSTOM:光回环, CUSTOM:秩序之光1, CUSTOM:秩序之光2, CUSTOM:秩序之光3, CUSTOM:秩序之光4, CUSTOM:秩序之光5
playSoundAtUnit: vision.ogg:1.5
spawnUnits: 教堂坦克(offsetHeight=-10)
resourceAmount: credits
resourceAmount_setValue: 0
deleteSelf: true

[hiddenAction_光耀]
autoTrigger: if self.hasFlag(id=5)
spawnEffects: CUSTOM:光耀

[effect_光耀]
createWhenZoomedOut: false
priority:low
image: pain.png
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 20
scaleFrom: 0
scaleTo: 10
alpha: 0.9
dirOffsetRandom: 360
drawUnderUnits: true
atmospheric: true

[effect_光环]
createWhenZoomedOut: false
#priority:low
dirSpeed: 1
image: pain.png
life: 1800
fadeOut: false
attachedToUnit: true
scaleFrom: 10.0
scaleTo: 5.0
alpha: 0.9
drawUnderUnits: false

[effect_光时]
createWhenZoomedOut: false
dirSpeed: 0.24
image: 光印十字.png
life: 1800
fadeOut: true
attachedToUnit: true
scaleFrom: 6
scaleTo: 6
alpha: 0.3
drawUnderUnits: true
#color: #FFE000

[effect_光回环]
createWhenZoomedOut: false
#priority:low
dirSpeed: 1
image: pain.png
life: 100
fadeOut: true
attachedToUnit: true
scaleFrom: 5
scaleTo: 2.5
alpha: 0.7
drawUnderUnits: false

[effect_秩序之光1]
createWhenOffscreen: true
priority: veryhigh
image: 圣光.png
life: 100
fadeOut: true
attachedToUnit: false
fadeInTime: 20
scaleFrom: 0
scaleTo: 15
alpha: 0.75
dirSpeed: 3
dirOffsetRandom: 360
drawUnderUnits: false

[effect_秩序之光2]
@copyFromSection: effect_秩序之光1
dirSpeed: -3

[effect_秩序之光3]
@copyFromSection: effect_秩序之光1
stripIndex: light_50
image: NONE

[effect_秩序之光4]
@copyFromSection: effect_秩序之光1
scaleFrom: 10
image: NONE
stripIndex: light_50

[effect_秩序之光5]
@copyFromSection: effect_秩序之光1
alpha: 1
image: pain.png
life: 60

[hiddenAction_AI凝视之光]
fireTurretXAtGround:2
autoTrigger: if self.isControlledByAI()

[graphics]

total_frames: 1
image:        真视之眼.png
image_wreak:  base_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9



lock_body_rotation_with_main_turret: true

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


splastEffect: false

#dustEffect: true
movementEffect: CUSTOM:scoutTrail
movementEffectRate: 14


[attack]
turretRotateWithBody: false

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 7
turretTurnSpeed: 4


maxAttackRange: 5000
shootDelay: 5

isFixedFiring: false



[turret_1]
invisible: true
x: 0
y: 0
idleDir:0

projectile: 1
size: 12
turnSpeed: 2.4

shoot_sound:plasma_fire
shoot_sound_vol:0.05
shoot_flame:NONE
shoot_light:#FFccCCEE

recoilOffset: -1
recoilOutTime: 5
recoilReturnTime: 15

energyUsage: 0.1

[turret_祈雨]
invisible: true
x: 0
y: 0
idleDir:0

projectile: 祈雨
turnSpeed: 2.4

delay: 999999

[projectile_1]
tags= T-projectile
directDamage: 5
life: 600
speed: 20
frame: 11

lightSize: 0.4
lightColor: #FFFF00EE

areaDamage: 10
areaRadius: 10

targetGround: true
targetGroundSpread: 5

trailEffect:true
trailEffectRate:2
explodeEffect:CUSTOM:1

[projectile_祈雨]
tags= T-projectile
life:50
directDamage:0
targetGround:true
instant:true
explodeEffect:NONE
spawnUnit:苍蓝降临

[effect_1]
image:特效.png
life:60
attachedToUnit: false
#fadeInTime:3
#scaleFrom:2
scaleTo:2
#alpha: 1
yOffsetRelative:0
xOffsetRelativeRandom:0
drawUnderUnits:false
fadeInTime:1
alpha: 1
scaleFrom: 0.5

[effect_scoutTrail]

createWhenOverLiquid: false

createWhenZoomedOut: false
priority:low


life: 50
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.7
scaleTo: 3.2
alpha: 0.9
drawUnderUnits:true
ySpeedRelative:-0.1
xSpeedRelativeRandom:0.2

atmospheric: true

stripIndex:dust

[turret_2]
x: 0
y: 0
size: 0
canShoot: false
invisible: true
projectile:2

[projectile_2]
tags= T-projectile
areaDamage: 10
areaRadius: 10000
life: 0
speed:0
targetGround: true
explodeOnEndOfLife: true
explodeEffect:CUSTOM:2
areaHitAirAndLandAtSameTime: true
areaDamageNoFalloff: true

[effect_2]
image:特效.png
life: 60
scaleTo: 1000
alpha: 0.1
showInFog: true


[movement]
movementType: HOVER
moveSpeed: 0.9
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.06

targetHeight: 10
targetHeightDrift: 1

maxTurnSpeed: 2.4
turnAcceleration: 0.2

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


[ai]
upgradedFrom: 真视之眼(未激活)

maxGlobal: 1

