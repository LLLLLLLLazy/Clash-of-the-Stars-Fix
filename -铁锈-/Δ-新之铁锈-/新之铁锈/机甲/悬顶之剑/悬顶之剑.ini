
[core]
showInEditor: false
name: 悬顶之剑
displayText: 悬顶之剑
displayDescription: -当想好要得到多少时,那就意味你已经失去了多少了 \n -强大的力量 \n -攻击地面与空中 \n -其死亡后,利剑会夺走你的金钱

class: CustomUnitMetadata
price: 3900
maxHp: 1200
mass: 9000
tags: units, 重型机甲, 悬顶之剑, 转向攻击

maxShield: 550
shieldRegen: 0.15

armour:5
armourMinDamageToKeep:1

techLevel: 1
buildSpeed: 0.0006

radius: 19
displayRadius: 22

disableDeathOnZeroHp: true

autoTriggerCooldownTime: 0.1s

builtFrom_1_name: A_mechFactory
builtFrom_1_pos: 1.9

builtFrom_2_name: A_mechFactoryT2
builtFrom_2_pos: 1.9

[action_kill]
convertTo: 悬顶之剑[亡语]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
spawnUnits: 达摩克里斯之剑(offsetHeight=200)
addResources: credits=-5000
autoTrigger: if self.hp(LessThan=10)
isVisible: false

[graphics]
total_frames: 1
image:       国王.png
image_wreak: NONE
image_turret: NONE

teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits:  true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 33
turretTurnSpeed: 2

maxAttackRange: 230
shootDelay: 17

aimOffsetSpread: 0.4

[hiddenAction_属性改变设定]
setUnitMemory: 属性[41]=cos(180)*(${turret_2.warmupShootDelayTransfer} / ${attack.shootDelay})

[turret_1]
#主体
invisible: true
canShoot: false
x: 0
y: 0
idleDir:0

[turret_2]
#右臂
image: 国王的新枪.png
attachedTo: 1
x: 15
y: 0
barrelX: -3
barrelOffsetX_onOddShots: 6
idleDir:-10

shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFFFCC00

warmup: 200

warmupCallDownRate: 1

warmupNoReset: true
#warmupShootDelayTransfer: 19
warmupShootDelayTransfer: 10

projectile: 1

#size: 33

turnSpeed: 1.5
turnSpeedAcceleration: 1

[turret_2A]
#右臂附属
invisible: true
attachedTo: 1
x: 15
y: 0

idleDir:-10

projectile: 2

delay: 0
warmup: 120

turnSpeed: 1.5
turnSpeedAcceleration: 1

[turret_3]
#肩甲
x: 0
y: 0
attachedTo: 1
slave: true
idleDir:0

turnSpeed: 0

canShoot: false
image: 国王.png

[projectile_1]
tags= T-projectile
life:400
speed:9

directDamage:20
areaDamage:20
areaRadius:35

largeHitEffect:true

frame:5
drawSize:1

lightColor: #ffe92b
lightSize: 0.3
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

#spawnUnit:达摩克里斯之剑(spawnChance=0.04,offsetHeight=200)

[projectile_2]
tags= T-projectile
directDamage: 0
life: 0
instant: true
explodeEffect: NONE
explodeEffectOnShield: NONE
spawnUnit:达摩克里斯之剑(offsetHeight=200)

[effect_projectileTrail]
image: SHARED:light_50.png
life: 9
fadeOut: true
attachedToUnit: false
color: #FFF06E
fadeInTime:2
scaleFrom: 0.3
scaleTo: 0.3
alpha: 0.6
drawUnderUnits:true

[leg_1]
x: -12
y: 0
attach_x: -8
attach_y: 0
moveSpeed: 2.2
moveWarmUp:0.1s


rotateSpeed: 7

heightSpeed: 0.7
resetAngle:25

image_leg:  leg.png
image_foot: foot_med.png

#draw_foot_on_top: true
#dust_effect: false

holdDisMin: 16
holdDisMax: 36

[leg_2]
x: 12
y: 0
attach_x: 8
attach_y: 0
copyFrom: 1

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.7
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

reverseSpeedPercentage:1.0

maxTurnSpeed: 3
turnAcceleration: 0.03

moveSlidingMode :true
moveIgnoringBody:true

#[hiddenAction_1]
#autoTrigger:if self.hasFlag(id=1)
#addResources:unsetFlag=1
#playAnimation:1
