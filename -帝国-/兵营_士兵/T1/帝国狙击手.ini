
[core]
name: 帝国狙击手
displayDescription: -攻击地面单位\n-静止不动时可远程射击\n-${turret_2A.limitingRange}范围内可移动攻击并迅速开火\n-搭载步兵装备后仅可远程射击\n-致命狙击\n“枪枪爆头，好运连连”

copyFrom: 帝国步兵模板.ini

price: 350
maxHp: 110
mass: 200

techLevel: 1
buildSpeed: 5.5s

tags: ${tags}, 固定射击

energyMax: 1
energyRegen: 0.008
energyNeedsToRechargeToFull: true

fogOfWarSightRange: 16

autoTriggerCooldownTime: 0.1s

[graphics]
image: 帝国狙击手.png

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 310
shootDelay: 125

aimOffsetSpread: 0

stopTargetingAfterFiring: true

[turret_1]
#主体
x: 0
y: 0
canShoot: false

turnSpeed: 4
turnSpeedAcceleration: 0.3

recoilOffset:-2
recoilOutTime:5
recoilReturnTime:20

[turret_2]
#狙击步枪
x: 0
y: 0
attachedTo: 1
slave: true

barrelX: 3
barrelY: 12

projectile: 1

shoot_sound:plasma_fire2
shoot_sound_vol:2.0
shoot_light:#FFff0000

warmup: 75
warmupCallDownRate: 0.5
energyUsage: 1

canAttackCondition: if not self.isMoving and not self.hasParent(withTag="步兵载体") and (distanceBetween(self, attacking) > ${turret_2A.limitingRange} or attacking.isFlying)

[turret_2载]
@copyFromSection: turret_2
canAttackCondition: if not self.isMoving and self.hasParent(withTag="步兵载体") and (distanceBetween(self, attacking) > ${turret_2A.limitingRange} or attacking.isFlying)
barrelX: 0
barrelY: 0

[turret_2A]
#近身狙击枪
x: 0
y: 0
copyFrom: 2
warmup: 0

limitingRange: 240

canAttackCondition: if not self.hasParent(withTag="步兵装备") and not self.hasParent(withTag="步兵载体") and (distanceBetween(self, attacking) <= ${turret_2A.limitingRange} and not attacking.isFlying)

[turret_2A载]
@copyFromSection: turret_2A
canAttackCondition: if not self.hasParent(withTag="步兵装备") and self.hasParent(withTag="步兵载体") and (distanceBetween(self, attacking) <= ${turret_2A.limitingRange} and not attacking.isFlying)
barrelX: 0
barrelY: 0


[projectile_1]
tags= T-projectile
directDamage: 100
life: 100

frame: 5

image: 激光弹.png
drawSize: 1.0

#speed: 2
speed: 10
#targetSpeed: 8
#targetSpeedAcceleration: 2

lightColor: #ff0000
lightSize: 0.3

trailEffect:CUSTOM:projectileLight
trailEffectRate: 0.3

explodeEffect: CUSTOM:hitLightFlash, CUSTOM:projectilePassThough, CUSTOM:lightSlowFade, CUSTOM:explodeSmall

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 19
fadeOut: true
attachedToUnit: false
color: #ff0000

scaleFrom: 1.5
scaleTo: 1.5
alpha: 0.6
drawUnderUnits:false

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: true
color: #FF0000
scaleFrom: 0.8
scaleTo: 0.4
alpha: 1.0
drawUnderUnits:false

[effect_projectilePassThough]
priority:high
#frameIndex: 4
#stripIndex: projectiles
image:激光弹.png
life: 10
#fadeOut: true
attachedToUnit: false
#color: #FFFFFF
scaleFrom: 1
scaleTo: 1
alpha: 1
drawUnderUnits:false
ySpeedRelative:5
atmospheric: true

[effect_projectileLight]
priority:high

image: 激光弹.png
life: 10
#fadeOut: true
attachedToUnit: false
color: #FFEECCCC
#fadeInTime:2
scaleFrom: 1.0
scaleTo: 1.0
alpha: 1.0
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_explodeSmall]
priority: low
color: #FF0000
life: 25
attachedToUnit: true
image: 白爆.png
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.8
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.5
fadeOut: false

[movement]
moveSpeed: 0.7
