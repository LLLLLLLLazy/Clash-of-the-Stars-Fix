
[core]
name: 至高天
displayText: 至高天
displayDescription: -远距离歼灭地面目标 \n -纯粹魔力束 \n -无法瞄准近距离的目标 \n -穿透护甲 \n -遥远视野 \n -非常脆弱

class: CustomUnitMetadata
price: 35000, 苍蓝能量=1
maxHp: 2500

mass: 30000
tags: units

techLevel: 2

buildSpeed: 0.00015

radius: 22
isBio: false

energyMax: 3
energyRegen: -0.017
energyStartingPercentage: 0

transportSlotsNeeded: 3

autoTriggerCooldownTime: 30

fogOfWarSightRange: 25

@memory 伤害来源:unit

[action_crushing]
isActive: false
text: 不稳定性
description: -受到伤害后额外损失500血量 \n -间隔:3s \n\n 伤害来源: [%{memory.伤害来源}]
pos: -1
displayType: infoOnly
buildSpeed: 0s
autoTrigger: if self.isEnergyEmpty() and self.hasTakenDamage(withinSeconds=0.5)
addResources: hp=-500, energy=5
playSoundAtUnit: large_gun_fire2
spawnEffects: CUSTOM:particle2*15, CUSTOM:hitLightFlash2

#[action_trigger]
#convertTo: 净火天
#displayType: action
#text: 概念更替
#description:-切换状态 \n -失去对空,但可造成群体伤害
#buildSpeed: 0.005

#iconExtraImage: 切换.png
#iconExtraColor:#AAFFFFFF

#highPriorityQueue: true
#spawnEffects: CUSTOM:trigger, CUSTOM:trigger1

[hiddenAction_伤害来源]
autoTriggerOnEvent: tookDamage
setUnitMemory: 伤害来源=eventSource

[graphics]
total_frames: 1

image:        至高天.png
image_wreak: 至高天残骸.png
image_turret: NONE

lock_body_rotation_with_main_turret: true

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

maxAttackRange: 420
shootDelay: 1

aimOffsetSpread: 0

[turret_1]
invisible: true
x: 0
y: 0
idleDir:0

projectile: 1
size: 10

turnSpeed: 2.1
turnSpeedAcceleration: 0.05

canShoot: false

[turret_2]
x: 0
y: 15
projectile: 0
size: 1
attachedTo: 1
slave: true

turnSpeed: 0
turnSpeedAcceleration: 0

shoot_sound:plasma_fire
shoot_sound_vol:0.1
shoot_flame: CUSTOM:particle, CUSTOM:hitLightFlash

limitingMinRange: 200

[turret_3]
x: 0
y: 0
attachedTo: 1
slave: true

canShoot: false

limitingRange: 200

showRangeUIGuide: true

[projectile_0]
tags= T-projectile
directDamage: 10
life: 0
speed: 0

armourIgnoreAmount: 100

deflectionPower: -1

spawnProjectilesOnEndOfLife: 1, 2*2

[projectile_1]
tags= T-projectile
directDamage: 6
life: 2

armourIgnoreAmount: 100

instant: true
beamImage: 激光.png
beamImageEnd: SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png

explodeEffect:CUSTOM:light
explodeEffectOnShield:CUSTOM:light

[projectile_2]
tags= T-projectile
directDamage: 2

armourIgnoreAmount: 100

life: 2
instant: true
lightingEffect: true

explodeEffect: NONE
explodeEffectOnShield: NONE

[movement]
movementType: AIR
moveSpeed: 1.1
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

targetHeight: 40
targetHeightDrift: 2

landOnGround: false

reverseSpeedPercentage:0.8

maxTurnSpeed: 2.2
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true

[effect_particle]
priority: low

frameIndex: 4
stripIndex: projectiles2
attachedToUnit: true
fadeInTime: 1
life: 10
scaleFrom: 1
scaleTo: 0.6
dirOffsetRandom: 180
dirSpeedRandom: 3
color: #ffffff
drawUnderUnits: false

xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1
xSpeedRelativeRandom: 3.5
ySpeedRelativeRandom: 3.5

[effect_hitLightFlash]
image: SHARED:light_50.png
life: 3
fadeOut: true
attachedToUnit: true
color: #ffffff
scaleFrom: 1.2
scaleTo: 1.5
alpha: 0.8
drawUnderUnits:false

[effect_particle2]
priority: low

frameIndex: 4
stripIndex: projectiles2
attachedToUnit: true
fadeInTime: 1
life: 50
scaleFrom: 1
scaleTo: 0.6
dirOffsetRandom: 180
dirSpeedRandom: 3
color: #ffffff
drawUnderUnits: false

xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1
xSpeedRelativeRandom: 2
ySpeedRelative: -4
ySpeedRelativeRandom: 1

[effect_hitLightFlash2]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: true
color: #ffffff
scaleFrom: 1.5
scaleTo: 2.0
alpha: 0.6
drawUnderUnits:false

[effect_light]
image: light.png
life: 3
fadeOut: true
attachedToUnit: false
scaleFrom: 1.5
scaleTo: 1.2
alpha: 1.0
dirOffsetRandom: 180
drawUnderUnits:false



[effect_trigger]
image: 净火天.png
life: 20
fadeOut: true
attachedToUnit: true
fadeInTime: 2
alpha: 0.6
drawUnderUnits: false
xSpeedRelative: -4
atmospheric: true

[effect_trigger1]
image: 净火天.png
life: 20
fadeOut: true
attachedToUnit: true
fadeInTime: 2
alpha: 0.6
drawUnderUnits: false
xSpeedRelative: 4
atmospheric: true