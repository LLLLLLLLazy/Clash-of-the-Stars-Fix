
[core]
name: megaBuilder
class: CustomUnitMetadata
price: 1800
maxHp: 500
mass: 4000
tags: units
armour: 3

maxShield: 340
shieldRegen: 0.1


displayText: Mega Builder
displayDescription: -像一个建造者，但更好的\n-From the example mod

techLevel: 2

buildSpeed: 0.0007
availableInDemo: false

energyMax:5
energyRegen:0.008

radius: 17
displayRadius: 18

isBio: false

#No need for 'builtFrom' as this replaces the existing builder
#builtFrom_1_name: commandCenter
#builtFrom_1_pos:  1
#builtFrom_2_name: landFactory
#builtFrom_2_pos:  1


canRepairBuildings: true
canRepairUnits : false
autoRepair: true


nanoRange: 125
nanoBuildSpeed: 1.5
nanoRepairSpeed: 0.25
canReclaimResources:true
#canReclaimResourcesOnlyWithTags:woodResource, OreResource

canBuild_1_name: reclaim
canBuild_1_pos:  -1


canBuild_3_name: A_资源抽取器T1
canBuild_3_pos:  3

canBuild_4_name: A_landFactory
canBuild_4_pos:  4


canBuild_5_name: A_airFactory
canBuild_5_pos:  5


canBuild_6_name: A_seaFactory
canBuild_6_pos:  6


canBuild_7_name: A_资源制造仪T1
canBuild_7_pos:  7

canBuild_8_name: A_修复湾T1
canBuild_8_pos:  8


canBuild_10_name: A_炮塔
canBuild_10_pos:  3.1


canBuild_11_name: A_防空炮塔
canBuild_11_pos:  3.2

canBuild_12_name: A_激光防御塔
canBuild_12_pos:  12

canBuild_13_name: A_experimentalLandFactory
canBuild_13_pos:  13

canBuild_14_name: A_antiNukeLaucher
canBuild_14_pos:  14

canBuild_15_name: A_mechFactory
canBuild_15_pos:  4.1

[canBuild_恐虐传送门]
name: 亚空间水晶
pos: 100
isVisible: if self.hasResources(混沌元素=1)

[action_upgrade]
isVisible: true
isActive:true
convertTo: megaBuilder_B
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: action
text: 切换至快速修理模式
description: -大量增加对建筑的修复速度\n-但是射程缩小\n-失去攻击能力\n-无法建造新建筑
buildSpeed: 2s
pos:1
highPriorityQueue: true

[action_爆破]
displayType: action
text: 爆破
description: 在目标地点安置炸药以摧毁树木\n会对友方造成伤害\n对金矿最高造成40%损伤\n………\n -此星界没有障碍物\n -对目标造成300爆破损伤
price: 500
buildSpeed: 1
pos: 15.1
fireTurretXAtGround: 3
addActionCooldownTime: 3s
onlyOneUnitAtATime: true
#isLocked: true
#isLockedMessage: -此星界没有障碍物
#isVisible: true

[hiddenAction_megaBuilder适水性]
autoTrigger:if self.globalTeamTags(includes='megaBuilder适水性')
convertTo: megaBuilder走水升级
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_megaBuilder越岭步行]
autoTrigger:if self.globalTeamTags(includes='megaBuilder登山')
convertTo: megaBuilder登山升级
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}

[hiddenAction_megaBuilder翻山适水]
autoTrigger:if self.globalTeamTags(includes='megaBuilder登山') and self.globalTeamTags(includes='megaBuilder适水性')
convertTo: megaBuilder翻山走水
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}


[graphics]

total_frames: 1
image:        builder.png
image_wreak:  builder_dead.png
image_turret: SHARED:small_laser_turret.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2




[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

isFixedFiring: true

turretSize: 3
turretTurnSpeed: 3

maxAttackRange: 170
shootDelay: 50



[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 5
invisible: true
warmup: 30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[turret_2]
x: 0
y: 5
invisible: true

shoot_sound:plasma_fire
shoot_sound_vol:0.05
shoot_flame:small
shoot_light:#FFccCCEE

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

energyUsage: 1

[projectile_1]
tags= T-projectile
directDamage: 32
life: 70
speed: 7
frame: 11

lightColor: #FFccCCEE
lightSize: 0.5

[turret_3]
x: 0
y: 0
canShoot: false
invisible: true
projectile: 2

limitingRange: ${core.nanoRange}

[projectile_2]
tags= T-projectile
directDamage:0
life: 20
instant: true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true

beamImage: 线.png
beamImageOffsetRate: 1
drawUnderUnits: true
color: #64FF0000

spawnUnit: 摧毁树木的爆炸
deflectionPower: -1

explodeEffect: CUSTOM:LightFlash

[leg_1]
x: -10
y: 10
attach_x: -5
attach_y: 5

heightSpeed: 0.8
moveSpeed: 3.4
resetAngle:20
#rotateSpeed: 7


image_leg:  SHARED:leg.png
image_foot: SHARED:foot.png


#draw_foot_on_top: true
dust_effect: false

holdDisMin: 6
holdDisMax: 26


[leg_2]
x: 10
y: 10
attach_x: 5
attach_y: 5
copyFrom: 1

[leg_3]
x: -10
y: -10
attach_x: -5
attach_y: -5
copyFrom: 1

[leg_4]
x: 10
y: -10
attach_x: 5
attach_y: -5
copyFrom: 1


[effect_LightFlash]
priority: high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #FF0000

scaleFrom: 1
scaleTo: 0.1
alpha: 0.6
drawUnderUnits:false


[movement]
movementType: LAND
moveSpeed: 1.2
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08

#targetHeight: 2

maxTurnSpeed: 3.5
turnAcceleration: 0.25

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


[ai]
useAsBuilder: true


[global_resource_混沌元素]
hidden: false
displayName: 混沌元素
displayColor: #FF1A00
priority: 1
