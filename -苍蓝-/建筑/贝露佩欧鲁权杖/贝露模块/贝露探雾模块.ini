
[core]
name: 贝露探雾模块
copyFrom: common_slot.ini

displayDescription: -视野模块 \n -探开大范围迷雾(视野:43) \n -每隔[60s÷能源供应]会获取距离你最近的敌方单位视野

price: 3000

fogOfWarSightRange: 43
fogOfWarSightRangeWhileNotBuilt: 15

energyMax: 60
energyRegen: 0

tags: units, 贝露模块, 贝露探雾模块

[hiddenAction_canRepair]
autoTrigger: if self.isEnergyFull()
spawnUnits: 探雾精灵
addEnergy: -60

[hiddenAction_能源供应]
autoTrigger: if not self.isEnergyFull
resourceAmount: 能源转化
resourceAmount_setValue: 0
resourceAmount_addOtherResource: 能源供应
alsoTriggerAction: 能源转化

[hiddenAction_能源转化]
convertResource_from: 能源转化
convertResource_to: energy
convertResource_maxAmount: 9999
convertResource_multiplyAmountBy: 1

[hiddenAction_探雾附属]
autoTrigger: if self.hasParent(withTag="贝露佩欧鲁权杖") and numberOfUnitsInTeam(withTag="探雾模块附属", lessThan=1, withinRange=50)
temporarilyAddTags: 贝露探雾模块
spawnUnits: 探雾模块附属

[action_升级T2]
textAddUnitName: ${section.convertTo}
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
isActive: if self.queueSize(empty=true)

buildSpeed: 60s
convertTo: 贝露探雾模块T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 6000

iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

[hiddenAction_探针模块]
autoTrigger: if self.hasParent(withTag="贝露之眼")
temporarilyRemoveTags: 贝露探雾模块

[attack]
canAttack: false

[turret_fogOfWarSight]
x: 0
y: 0
canShoot: false
limitingRange: ${core.fogOfWarSightRange * 20 - 40}
showRangeUIGuide: true


[graphics]
image: 苍影瞭望塔.png



