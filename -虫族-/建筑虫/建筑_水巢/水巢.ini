
[core]
name: 水巢
maxHp: 700
mass: 1000
price: 800

radius: 30
selfRegenRate: 0.06

isBuilding: true
isBug: true
isBio: true

tags: units, 虫族, 虫建筑, 水下工厂, 虫水筑系T1
footprint: -1,-2,1,1
constructionFootprint: -1,-3,1,2
placeOnlyOnResPool: false

buildSpeed: 20s
selfBuildRate: 20s

displayDescription: -养育水生虫族 \n -可由建造虫在岸边建造
extraBuildRangeWhenBuildingThis: 70

canBuild_1_name: setRally
canBuild_1_pos: 1

[canBuild_T1]
name: 孑孓, 岩礁虫, 浸没仆从, 空骸, 水甲虫, 气垫蜱虫, 扬帆船虫
pos: 2
isLocked: if self.globalTeamTags(includes='战隙{I}') and self.isControlledByAI
isLockedMessage: AI:进入前期阶段,低级单位已停止建造

[action_up1]
text: 进化 - T2
description: -解锁生产T2兵种
descriptionAddUnitStats: ${section.convertTo}
price: 2200
buildSpeed: 30s
pos: -2
iconImage: SHARED:icon_upgrade.png
convertTo: 水巢T2
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
displayType: upgrade

[graphics]
image: 水巢_back.png
scaleImagesTo: 55

[attack]
canAttack: false

[movement]
movementType: WATER
targetHeight: -10

[animation_1]
onActions: idle
pingPong: true
scale_start: 1
scale_end: 1.02
speed: 100

[ai]
buildPriority: 0.32
noneInBaseExtraPriority: 0.04
noneGlobalExtraPriority: 0.13
maxEachBase: 1
ai_upgradePriority: 0.15

[action_AI岩礁虫征集]
isVisible: if self.globalTeamTags(includes='AI系统')
unitShownInUI: 岩礁虫
textAddUnitName: 岩礁虫
descriptionAddFromUnit: 岩礁虫
descriptionAddUnitStats: 岩礁虫
produceUnits: 岩礁虫
buildSpeed: 3.3s
price: 300
pos: 2.1

[action_AI空骸征集]
isVisible: if self.globalTeamTags(includes='AI系统') and self.globalTeamTags(includes='中刻{I}')
unitShownInUI: 空骸
textAddUnitName: 空骸
descriptionAddFromUnit: 空骸
descriptionAddUnitStats: 空骸
produceUnits: 空骸
buildSpeed: 9s
price: 900
pos: 2.2

[hiddenAction_AI一号水巢]
autoTrigger: if self.globalTeamTags(includes='AI系统') and not numberOfUnitsInTeam(withTag='一号水巢', greaterThan=0) and self.hasResources(1500)
temporarilyAddTags: 一号水巢
alsoQueueAction: AI岩礁虫征集, AI岩礁虫征集, AI空骸征集
addResources: credits=-1500

[hiddenAction_AIbuildReef]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hasResources(300) and self.queueSize(empty=true) and not self.globalTeamTags(includes='中刻{I}')
alsoQueueAction: AI岩礁虫征集
addResources: credits=-300

[hiddenAction_AIbuildWreck]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.globalTeamTags(includes='中刻{I}') and self.hasResources(900) and self.queueSize(empty=true)
alsoQueueAction: AI空骸征集
addResources: credits=-900

[hiddenAction_AIupgrade]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.globalTeamTags(includes='中刻{I}') and self.hasResources(2500) and self.queueSize(empty=true)
alsoQueueAction: up1
addResources: credits=-2200
