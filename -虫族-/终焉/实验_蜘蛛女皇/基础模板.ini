[core]

name:蜘蛛女皇
class:CustomUnitMetadata
price:85000
maxHp:7700
mass:75000
transportUnitsCanUnloadUnits:true
#transportUnitsAddUnloadOption:false
transportSlotsNeeded:8
maxTransportingUnits:12
transportUnitsRequireTag: 蜘蛛
transportUnitsUnloadDelayBetweenEachUnit:6
transportUnitsHealBy:0.2
energyMax:1
energyRegen:0.0010
techLevel:1
buildSpeed:0.00015
displayDescription:-生育蜘蛛跟随自身攻击\n-小蜘蛛拥有极远射程\n-使周围的黑寡妇射程+50\n-天罗地网\n-毒素附加: 100
#availableInDemo: true
tags: units, zz王, 虫族, 大型虫
radius:40
displayRadius:40
isBio:true
isBug:true
selfRegenRate:0.3
exit_y: 10

experimental: true

fogOfWarSightRange:24

softCollisionOnAll:12

[action_命令收回]
isActive: if numberOfUnitsInTeam(withTag='游荡小zz', greaterThan=0, withinRange=400) and self.transportingCount(lessThan=12)
text: 收回小蜘蛛
description: -命令小蜘蛛返回
buildSpeed: 0
alwaysSinglePress: true
allowMultipleInQueue: false
addActionCooldownTime: 1s
takeResources: setFlag=1
takeResources_excludeUnitsWithoutAllResources: false
takeResources_discardCollected: true
takeResources_includeUnitsWithinRange_team: own
takeResources_includeUnitsWithinRange: 1000
takeResources_excludeUnitsWithoutTags: 游荡小zz
takeResources_maxUnits: 12

[attachment_1]
x:0
y:0
isVisible:false
addTransportedUnits:true
canAttack:false
[attachment_2]
@copyFromSection:attachment_1
[attachment_3]
@copyFromSection:attachment_1
[attachment_4]
@copyFromSection:attachment_1
[attachment_5]
@copyFromSection:attachment_1
[attachment_6]
@copyFromSection:attachment_1
[attachment_7]
@copyFromSection:attachment_1
[attachment_8]
@copyFromSection:attachment_1
[attachment_9]
@copyFromSection:attachment_1
[attachment_10]
@copyFromSection:attachment_1
[attachment_11]
@copyFromSection:attachment_1
[attachment_12]
@copyFromSection:attachment_1

[graphics]
total_frames:1
showTransportBar:true
showEnergyBar:true
image:bug_ranged_t2.png
image_wreak:NONE
image_turret:NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
imageScale:1.15
#AUTO
image_shadow:AUTO
shadowOffsetX:3
shadowOffsetY:3

lock_body_rotation_with_main_turret:true

animation_moving_start:0
animation_moving_end:0
animation_moving_speed:3

animation_idle_start:0
animation_idle_end:0
animation_idle_speed:80
animation_idle_scale_start:1
animation_idle_scale_end:1.03
animation_idle_pingPong:true


animation_attack_start:0
animation_attack_end:0
animation_attack_speed:15
animation_attack_scale_start:1
animation_attack_scale_end:0.97
animation_attack_pingPong:true

[attack]

#turretRotateWithBody: true


canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false

isFixedFiring:true

turretSize:30
turretTurnSpeed:2.1

maxAttackRange:320
shootDelay:75

[turret_1]
x:0
y:0

shoot_light:#FF00CCCC

recoilOffset:-8
recoilOutTime:5
recoilReturnTime:20

#shoot_flame: smoke

[projectile_1]
tags= T-projectile
areaDamage:245
areaRadius:55
largeHitEffect:true
life:80
speed:5
targetSpeed:8
#frame: 0
frame:6
drawSize:1.3
lightColor:#00ff00
lightSize:0.6

trailEffect: CUSTOM:尾气雾

spawnUnit: 有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesAreaHit: 毒素=100

[resource_毒素]
displayName: 毒素


[effect_尾气雾]
stripIndex: effects
frameIndex: 0
priority: veryhigh

life: 25
fadeOut: true
attachedToUnit: false
color: #FF3BFF00
hSpeed: 0.3
scaleFrom: 0.9
scaleTo: 0.1
alpha: 0.6
drawUnderUnits: false
yOffsetRelative: -1
xOffsetRelativeRandom: 2
xSpeedRelativeRandom: 0.1
atmospheric: true


[leg_1]
x:-40
y:0
attach_x:0
attach_y:0
moveSpeed:3.8
resetAngle:20

heightSpeed:0.9

image_leg:leg.png
image_foot:NONE

drawLegWhenZoomedOut:true

dust_effect:false

holdDisMin:13
holdDisMax:24

[leg_2]
x:40
y:0
attach_x:0
attach_y:0
copyFrom:1

[leg_3]
x:-35
y:30
attach_x:0
attach_y:7
copyFrom:1

[leg_4]
x:35
y:30
attach_x:0
attach_y:7
copyFrom:1

[leg_5]
x:-35
y:-30
attach_x:0
attach_y:-7
copyFrom:1

[leg_6]
x:35
y:-30
attach_x:0
attach_y:-7
copyFrom:1




[movement]
movementType:OVER_CLIFF

moveSpeed:0.7
moveAccelerationSpeed:0.04
moveDecelerationSpeed:0.12

maxTurnSpeed:2.1
turnAcceleration:0.1

reverseSpeedPercentage:1

moveSlidingMode:false
moveIgnoringBody:false
moveSlidingDir:181

[hiddenAction_2]
autoTrigger:if self.energy(equalTo=1)
addUnitsIntoTransport:小蜘蛛
addEnergy:-1
requireConditional:if self.transportingCount(lessThan=12)
[action_1]
#autoTrigger: if self.isAttacking
startUnloadingTransport:true
isActive:false
isVisible:false
text:小蜘蛛自卫
[action_3]
isActive:false
isVisible:false
text:小蜘蛛自卫
autoTrigger:if self.transportingCount(greaterThan=12)
deleteNumUnitsFromTransport:2