
[core]
showInEditor:false
name: 星际老兵[近战]
displayText: 重装基因战士
displayDescription: -身经百战的基因战士所晋升
class: CustomUnitMetadata
price: 4500, 基因种子=2
maxHp: 1800
mass: 10000

tags: units, 星际步兵, 星际老兵, 坚韧意志, 转向攻击

maxShield: 900
shieldRegen: 0

armour: 30
armourMinDamageToKeep: 30

energyMax: 15
energyRegen: 0.023
energyNeedsToRechargeToFull: true

fogOfWarSightRange: 20

techLevel: 2
buildSpeed: 23.8s

radius: 16
displayRadius: 19

isBio: true

#softCollisionOnAll: 3

selfRegenRate:0.12

transportSlotsNeeded:2

#generation_resources: 基因种子=0.009

showActionsWithMixedSelectionIfOtherUnitsHaveTag: 星际步兵

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU: true

[action_1]
id: 切换远程武器
text: 切换武器 - 枪
description: -拿出爆弹枪
convertTo: 星际老兵[远程]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
buildSpeed: 0.3s
pos: 0

setUnitStats: shield=0

alwaysSinglePress: true

[hiddenAction_近战护盾]
autoTrigger: if not self.shield(full=true)
addResources: shield=0.5
setResourcesWithLogic: 近战护盾=self.resource.shield

[resource_近战护盾]
displayName: 近战护盾
displayWithRounding: true

#[hiddenAction_死亡返还]
#autoTriggerOnEvent: destroyed
#addResources: 基因种子=1

[effect_黑光]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #000000
scaleFrom: 2
scaleTo: 2
alpha: 1.7
drawUnderUnits:false

[effect_displacement]
drawType: displacement
image: SHARED:shockwave_normal_128.png
life: 25
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #ffffff
scaleFrom: 0.1
scaleTo: 0.8
alpha: 0.3
drawUnderUnits:false

[hiddenAction_无延迟追击B]
@copyFromSection: template_无延迟追击B
[hiddenAction_无延迟追击B2]
@copyFromSection: template_无延迟追击B2

[graphics]
total_frames: 4
image:       帝国终结者老兵近战.png
image_wreak: NONE
image_turret: NONE

teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO_ANIMATED
shadowOffsetX:2
shadowOffsetY:2

animation_attack_start: 1
animation_attack_end: 3
animation_attack_speed: 8

lock_body_rotation_with_main_turret: true

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3.0

maxAttackRange: 15
shootDelay: 36

isMelee: true
meleeEngangementDistance: 150

aimOffsetSpread: 0.4

[turret_1]
#主体
x: 0
y: 0
idleDir:0

turnSpeed: 2.9
turnSpeedAcceleration: 0.3

canShoot: false

#recoilOffset: -2
#recoilOutTime: 5
#recoilReturnTime: 8

[turret_2]
#锤子
x: 0
y: 0
attachedTo: 1
slave: true
invisible: true

projectile: 1

recoilOffset: 1

#shoot_flame: small
shoot_sound: large_gun_fire2
shoot_sound_vol: 0.2
#shoot_light: #FFccCCEE

canShoot: true

size: 20

[projectile_1]
tags= T-projectile
life: 50
instant: true

directDamage: 110
areaDamage: 110
areaRadius: 35
areaDamageNoFalloff: true

pushVelocity: 2

largeHitEffect: true

spawnProjectilesOnExplode: 锤击波

[projectile_锤击波]
tags= T-projectile
directDamage: 0
life: 9
invisible: true
instant: true
explodeEffect: CUSTOM:锤击波, CUSTOM:震荡

[effect_锤击波]
stripIndex: shockwave_large
life: 30
scaleFrom: 0
scaleTo: 1

[effect_震荡]
image: shock.png
life: 30
scaleFrom: 0
scaleTo: 0.9
alpha: 0.7

[movement]
movementType: OVER_CLIFF
moveSpeed:0.7
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.05

reverseSpeedPercentage: 1

maxTurnSpeed: 2.5
turnAcceleration: 0.15

moveSlidingMode :true
moveIgnoringBody:true

[resource_exp]
displayName: EXP
displayColor: #ff6c00