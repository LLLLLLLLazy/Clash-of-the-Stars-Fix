
[core]
name: 小星星
tags: 小星星
maxHp: 1
price: 0
mass: 100000

#隐藏单位本身
showInEditor: false
radius: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canOnlyBeAttackedByUnitsWithTags: 星空
canNotBeDamaged: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

showOnMinimap: true

autoTriggerCooldownTime: 0.11s

[hiddenAction_移动]
autoTrigger: if self.timeAlive(laterThanSeconds=1.5) and not self.hasActiveWaypoint(type='move')
addWaypoint_type: move
addWaypoint_maxTime: 60s
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_tagged: 七星汇聚点
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_mapMustBeReachable: false

[hiddenAction_脱离卡死]
autoTrigger: if not self.isOverPassableTile(type="AIR") and self.timeAlive(laterThanSeconds=2)
fireTurretXAtGround: 1
fireTurretXAtGround_withTarget: nearestUnit(withTag="七星汇聚点", relation="own")
fireTurretXAtGround_withProjectile: 2

[hiddenAction_脱离卡死-一闪]
@copyFromSection: hiddenAction_脱离卡死
autoTrigger: if self.isOverPassableTile(type="AIR") and not numberOfUnitsInTeam(withTag='七星汇聚点', greaterThan=0, withinRange=20) and not self.hasFlag(id=2) and self.timeAlive(laterThanSeconds=5)
addResources: setFlag=2

[hiddenAction_星汇号]
autoTrigger: if self.timeAlive(laterThanSeconds=15) and not numberOfUnitsInTeam(withTag='七星汇聚点', greaterThan=0, withinRange=20)
takeResources: ammo=-1
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: own
takeResources_excludeUnitsWithoutTags: 七星汇聚点
takeResources_maxUnits: 1
deleteSelf: true

[hiddenAction_白星]
autoTrigger: if self.hasFlag(id=1)
spawnEffects:CUSTOM:星光

[effect_星光]
fadeInTime:100
alpha: 1
attachedToUnit: true
life: 60
scaleFrom: 1
scaleTo: 1
image: light.png
color: #FFffff
priority: high
drawUnderUnits: false

[graphics]

image:        null.png
image_wreak: NONE
image_turret:NONE
disableLowHpSmoke: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: true
canAttackFlyingUnits: if self.hasFlag(id=1)
canAttackLandUnits:   if self.hasFlag(id=1)
canAttackUnderwaterUnits: false

turretSize: 0
turretTurnSpeed: 9999

maxAttackRange: 44
shootDelay: 20

[turret_1]
x: 0
y: 0
projectile: 1

[projectile_1]
areaDamage:	1000
areaRadius:	44
life: 0
explodeOnEndOfLife: true
areaDamageNoFalloff: true
areaRadiusFromEdge: true
areaHitAirAndLandAtSameTime: true

[projectile_2]
areaDamage:	1000
areaRadius:	44
life: 3
speed: 10
teleportSource: true
explodeOnEndOfLife: true
explodeEffect: shockwave
areaHitAirAndLandAtSameTime: true

[movement]
movementType: AIR
moveSpeed: 4
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 1
targetHeight: 2
targetHeightDrift: 0

moveIgnoringBody: true


