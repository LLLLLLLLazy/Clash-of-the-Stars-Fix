
[core]
name: 重型坦克
displayText: 重型坦克
displayDescription:-全副武装\n-能攻击地面单位\n-一定对空能力\n-对地范围: ${turret_1.limitingRange}

#displayLocaleKey: heavyTank
overrideAndReplace: heavyTank

class: CustomUnitMetadata
price: 800
maxHp: 850
mass: 8000
tags: units, 坦克, 重型坦克

techLevel: 2
buildSpeed: 9.2s
availableInDemo: true

radius: 14
displayRadius: 16

isBio: false
softCollisionOnAll: 6

[action_Upgrade]
convertTo:mmheavyTank
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price:500
text:升级 - 纳米核心
displayType:upgrade
buildSpeed:33.3s
pos:1
description: -配备纳米机器人以维修受损机械 \n -在攻击时纳米机器人会较为活跃 \n -拥有紧急护盾，血量少量降低 \n -获得10型装甲 \n -升级完成会回满血量
descriptionAddUnitStats: ${section.convertTo}
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor:#AAFFFFFF
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true
attachments_addNewUnits: 纳米修复
alsoTriggerAction: 升级恢复
isLocked: if self.globalTeamTags(includes='AI系统') and self.isAttacking
isLockedMessage: AI:正在战斗

[hiddenAction_升级恢复]
requireConditional: if not self.hp(full=true) or not self.shield(full=true)
addResources: hp=10000
spawnEffects: 治疗粒子*6

[effect_治疗粒子]
priority: verylow
life: 50
fadeInTime: 10
lifeRandom: 20
image: 加.png
scaleFrom: 1
scaleTo: 0.5
alpha: 0.8
hSpeed: 0.5
hSpeedRandom: 0.1
xOffsetRelativeRandom: ${core.radius}
yOffsetRelativeRandom: ${core.radius}
alwayStartDirAtZero: true
atmospheric: true
delayedStartTimerRandom: 20


[action_未来科技]
isVisible: if self.globalTeamTags(includes='未来科技')
convertTo: 未来重型坦克
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
price: 量子碳=30
text: 升级 - 未来科技
descriptionAddFromUnit: ${section.convertTo}
descriptionAddUnitStats: ${section.convertTo}
displayType: upgrade
buildSpeed: 9.8s
pos: 2
iconExtraImage: icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
whenBuilding_cannotMove: true
whenBuilding_rotateTo: 0
whenBuilding_rotateTo_orBackwards: true

spawnEffects: CUSTOM:light, CUSTOM:displacement

[effect_light]
image: SHARED:light_50.png
life: 30
fadeOut: true
attachedToUnit: false
color: #ffffff
scaleFrom: 1.5
scaleTo: 1.5
alpha: 1.0
drawUnderUnits:false

[effect_displacement]
drawType: displacement
image: SHARED:shockwave_normal_128.png
life: 30
fadeOut: true
fadeInTime: 5
attachedToUnit: false
color: #ffffff
scaleFrom: 0.1
scaleTo: 1.5
alpha: 0.5
drawUnderUnits:false

[attachment_1]
x:0
y:0
isUnselectable: false
canBeAttackedAndDamaged: false
keepAliveWhenParentDies: false
setDrawLayerOnTop: false
addTransportedUnits: 1
deattachIfWantingToMove: false

[graphics]
total_frames: 3

image:       heavy_Tank.png
image_wreak:  heavy_Tank_dead.png
image_turret: heavy_Tank_turret.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretMultiTargeting: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 200
shootDelay: 52

[turret_1]
#
x: 0
y: 0
attachedTo: base
slave: true
projectile: 1
size: 20

shoot_sound: firing4
shoot_sound_vol:0.3
shoot_flame:small,smoke

canShoot:true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
limitingRange: 160

[turret_2]
#
x: 0
y: 0
projectile: 2
size: 0

invisible: true

shoot_sound:missile_fire
shoot_sound_vol:0.3
#shoot_flame:small
shoot_light:#FFccCCEE

canShoot:true
canAttackFlyingUnits: true
canAttackLandUnits: false
canAttackUnderwaterUnits: false

[turret_base]
#Base
x: 0
y: 0
canShoot: false
canAttackFlyingUnits: false
limitingRange: 160

recoilOffset: -2
recoilOutTime: 7
recoilReturnTime: 10


[projectile_1]
tags= T-projectile
directDamage: 25
areaDamage: 25
areaRadius: 35
life: 90
speed: 5

color:#FF3BFF00
drawSize: 1.8
lightColor: #FF3BFF00 
lightSize: 0.6
largeHitEffect: true
deflectionPower:1

[projectile_2]
tags= T-projectile
areaDamage: 40
areaRadius: 35
life: 300
speed: 0.4
targetSpeed: 5
drawSize: 2
color: #FFFFD400
trailEffect: true
largeHitEffect: true

ballistic:  true
ballistic_height: 35

autoTargetingOnDeadTarget: true


[movement]
movementType: LAND
moveSpeed: 0.8
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

maxTurnSpeed: 2.4
turnAcceleration: 0.2

reverseSpeedPercentage:1.0

moveSlidingMode :true


[hiddenAction_生产跟随移动工厂]
@copyFromSection: template_生产跟随移动工厂


[global_resource_量子碳]
displayName: 量子碳
