
[core]
name: 湮灭
maxHp:1
price: 0
mass: 0
displayDescription: -湮灭

tags=magic
techLevel: 2
buildSpeed: 66.6s

#隐藏单位本身
showInEditor: false
radius: 0
fogOfWarSightRange: 0
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
isUnselectable:	true
canNotBeDirectlyAttacked: true

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 0.1s

[hiddenAction_湮灭阵]
autoTrigger: if self.timeAlive(laterThanSeconds=3) and not self.hasFlag(id=1) and not self.hasFlag(id=2) and not self.hasFlag(id=3)
resetCustomTimer: true
addResources: setFlag=1
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround_withProjectile: 魔降
alsoTriggerAction: 升束
[hiddenAction_升束]
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: -3000, 0
fireTurretXAtGround_withProjectile: 升束

[hiddenAction_湮灭.....]
autoTrigger: if self.timeAlive(laterThanSeconds=8)
deleteSelf: true

[hiddenAction_赤湮灭阵]
@copyFromSection: hiddenAction_湮灭阵
autoTrigger: if self.timeAlive(laterThanSeconds=3) and not self.hasFlag(id=1) and self.hasFlag(id=2)
fireTurretXAtGround_withProjectile: 赤魔降

[hiddenAction_赤塔]
@copyFromSection: hiddenAction_湮灭阵
autoTrigger: if not self.hasFlag(id=1) and self.hasFlag(id=3)
fireTurretXAtGround_withProjectile: 赤塔
alsoTriggerAction: NONE

[projectile_魔降]
directDamage: 0
spawnProjectilesOnCreate: 魔降(recursionLimit=50,offsetY=-50), 魔法(recursionLimit=1)
life: 0
invisible: true
explodeOnEndOfLife: true
explodeEffect: custom:焰旋场, custom:焰旋场2, custom:湮光, custom:赤光
explodeEffectOnShield: custom:焰旋场, custom:焰旋场2, custom:湮光, custom:赤光

[projectile_升束]
directDamage: 0
laserEffect: true
instant: true
life: 300
color: #ff0000
nukeWeapon: true
explodeEffect: NONE
explodeEffectOnShield: NONE

[projectile_魔法]
areaDamageNoFalloff: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
armourIgnoreAmount: 6666
areaDamage: 8
areaRadius: 60
life: 1
speed: 0
turnSpeed: 0
invisible: true
explodeOnEndOfLife: true
deflectionPower: -1
explodeEffect: CUSTOM:魔炎, CUSTOM:赤散
explodeEffectOnShield: CUSTOM:魔炎, CUSTOM:赤散
spawnProjectilesOnExplode: 魔法(recursionLimit=450)

[projectile_赤魔降]
@copyFromSection: projectile_魔降
spawnProjectilesOnCreate: 赤魔降(recursionLimit=50,offsetY=-50), 赤魔法(recursionLimit=1)
explodeEffect: custom:焰旋场, custom:焰旋场2, custom:湮光, custom:赤光, custom:赤降光*2, CUSTOM:赤光散+*2
explodeEffectOnShield: custom:焰旋场, custom:焰旋场2, custom:湮光, custom:赤光, custom:赤降光*2, CUSTOM:赤光散+*2

[projectile_赤魔法]
@copyFromSection: projectile_魔法
areaDamage: 13
armourIgnoreAmount: 9999
explodeEffect: CUSTOM:魔炎, CUSTOM:赤散, CUSTOM:赤光散+
explodeEffectOnShield: CUSTOM:魔炎, CUSTOM:赤散, CUSTOM:赤光散+
spawnProjectilesOnExplode: 赤魔法(recursionLimit=450)


[projectile_赤塔]
@copyFromSection: projectile_魔降
spawnProjectilesOnCreate: 赤塔(recursionLimit=50,offsetY=-50)
explodeEffect: custom:焰旋场+, custom:焰旋场2+, custom:湮光+, custom:赤光+
explodeEffectOnShield: custom:焰旋场+, custom:焰旋场2+, custom:湮光+, custom:赤光+
[effect_焰旋场]
stripIndex: shockwave_large
life: 300
scaleFrom: 1.3
scaleTo: 1.3
attachedToUnit: false
alpha: 10
dirSpeed: 5
color: #ff0000
showInFog: false
createWhenOffscreen: true
priority: critical
[effect_焰旋场2]
@copyFromSection: effect_焰旋场
scaleFrom: 0.5
scaleTo: 0.5
fadeOut: false
alpha: 0.8

[effect_焰旋场+]
@copyFromSection: effect_焰旋场
life: 180
scaleFrom: 2.2
scaleTo: 2.2

[effect_焰旋场2+]
@copyFromSection: effect_焰旋场2
life: 180
scaleFrom: 1.2
scaleTo: 1.2

[effect_湮光]
priority: veryhigh
image: SHARED:glow_sharp.png
life: 300
fadeOut: false
attachedToUnit: false
color: #ff0000
scaleFrom: 1
scaleTo: 1
alpha: 10
dirSpeed: 5
showInFog: false
drawUnderUnits: true
createWhenOffscreen: true
alsoPlaySound: plasma_fire:0.2

[effect_湮光+]
@copyFromSection: effect_湮光
life: 180
scaleFrom: 1.5
scaleTo: 1.5

[effect_魔炎]
priority: low
life: 30
alpha: 0.9
scaleFrom: 0.8
scaleTo: 1
stripIndex: fire
color: #ff0000
drawUnderUnits: false
atmospheric: true
attachedToUnit: true
xOffsetRelativeRandom: 10
yOffsetRelativeRandom: 10
xSpeedRelativeRandom: 2.1
ySpeedRelativeRandom: 2.1

[effect_赤散]
priority: low
life: 20
alpha: 2
scaleFrom: 0.3
scaleTo: 0
color: #FF0000
fadeOut: true
atmospheric: true
attachedToUnit: true
image: SHARED:light_50.png
xSpeedRelativeRandom: 2.1
ySpeedRelativeRandom: 2.1


[graphics]

image:        null.png
image_wreak: NONE
image_turret:NONE
disableLowHpSmoke: true
disableLowHpFire: true
icon_zoomed_out_neverShow: true

[attack]
canAttack: false

[effect_赤光]
priority:high
image: SHARED:light_50.png
life: 300
fadeOut: false
attachedToUnit: false
color: #ff0000
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.4
drawUnderUnits:false

[effect_赤光+]
@copyFromSection: effect_赤光
life: 180
scaleFrom: 2.4
scaleTo: 2.4
alpha: 0.6

[effect_赤光散+]
@copyFromSection: effect_赤光
life: 80
alpha: 1.0
scaleFrom: 0.6
scaleTo: 0.2
color: #FF0000
fadeOut: true
atmospheric: true
xSpeedRelativeRandom: 3
ySpeedRelativeRandom: 3

[effect_赤降光]
@copyFromSection: effect_赤光
priority: critical
life: 60
alpha: 1
scaleFrom: 1
scaleTo: 0
color: #FF0000
atmospheric: true
xSpeedRelativeRandom: 0.3
ySpeedRelativeRandom: 0.3
yOffsetRelativeRandom: 80
xOffsetRelativeRandom: 80
hSpeed: -10
dirSpeed: 5

[movement]
movementType: NONE
moveSpeed: 0


