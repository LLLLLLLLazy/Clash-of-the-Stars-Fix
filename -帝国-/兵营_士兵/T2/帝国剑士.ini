
[core]
name: 帝国剑士
displayDescription:-精湛的剑技\n-旋刃突进\n-装备外骨骼时无法突进但移速与血量增加
showInEditor: false

copyFrom: 帝国步兵模板.ini

price: 900
maxHp: 400
mass: 1000

tags: ${tags}, 帝国剑士
showActionsWithMixedSelectionIfOtherUnitsHaveTag: 帝国剑士

techLevel: 2
buildSpeed: 8.3s

softCollisionOnAll: 4

energyMax: 1
energyRegen: 0.003

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU: true

[hiddenAction_finish]
autoTrigger: if self.isEnergyFull() and not self.hasParent(withTag="外骨骼装甲")
convertTo: 帝国剑士[旋刃]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setUnitMemory: 属性[20]=0

[action_熔化]
isActive:false
isVisible: if self.isOverLiquid and not self.isOverwater
autoTrigger: if self.isOverLiquid and not self.isOverwater
isGuiBlinking: if self.isOverLiquid and not self.isOverwater
addResources: hp=-0.5
pos: 1
id: ${section.text}
text: 熔化
description: -在岩浆上持续损毁生命值
buildSpeed:0.01s


[hiddenAction_无延迟追击B]
@copyFromSection: template_无延迟追击B
[hiddenAction_无延迟追击B2]
@copyFromSection: template_无延迟追击B2

[graphics]
total_frames: 7
image: 帝国剑士.png

animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 50

animation_attack_start: 1
animation_attack_end: 6
animation_attack_speed: 2

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 5

maxAttackRange: 12
shootDelay: 13

isMelee: true

#aimOffsetSpread: 0

[turret_1]
x: 0
y: 0

canAttackMaxAngle: 30

projectile: 1
altProjectile: 1+
altProjectileCondition: if self.hasActiveWaypoint(type='attack') or self.hasActiveWaypoint(type='attackMove') or self.hasActiveWaypoint(type='guard') or self.hasActiveWaypoint(type='patrol')

recoilOffset: 2
recoilOutTime: 8
recoilReturnTime: 4

[projectile_1]
tags= T-projectile
directDamage: 30
life: 50
deflectionPower: -1
speed: 10
image: 剑气.png
trailEffect: CUSTOM:剑气波
trailEffectRate: 1
explodeEffect: NONE

[projectile_1+]
@copyFromSection: projectile_1
spawnProjectilesOnCreate: 1V(yOffsetRelative=-5)

[projectile_1V]
areaDamage: 0
areaRadius: 1
areaRadiusFromEdge: true
friendlyFire: only-ignoreEnemy
pushVelocity: 2
life: 0
speed: 0
invisible: true
deflectionPower: -1
explodeOnEndOfLife: true
explodeEffect: NONE
explodeEffectOnShield: NONE


[turret_2]
x: 0
y: 0
onShoot_triggerActions: finish
canAttackCondition: false
attachedTo: 1
slave: true

projectile: 2

[projectile_2]
tags= T-projectile
areaDamage: 200
areaRadius: 35
areaRadiusFromEdge: true
life: 0
explodeOnEndOfLife: true
explodeEffect:CUSTOM:chop
explodeEffectOnShield:CUSTOM:chop



[turret_3]
@copyFromSection: turret_2
projectile: 3

[projectile_3]
@copyFromSection: projectile_1
directDamage: 0
explodeEffect: NONE
explodeEffectOnShield: NONE

[effect_剑气波]
createWhenZoomedOut: false
priority:low
image: 剑气.png
life: 20
fadeOut: true
attachedToUnit: false
scaleFrom: 1.0
scaleTo: 0.3
alpha: 1.0
drawUnderUnits: false

[effect_chop]
life: 25
attachedToUnit: false
image: Cure4.png
color: #000000
scaleFrom: 1.3
scaleTo: 1.3
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFrameSpeed: 0.42
fadeOut: false

[movement]
moveSpeed: 0.9

maxTurnSpeed: 5

moveSlidingMode :true
moveIgnoringBody:true

reverseSpeedPercentage:0