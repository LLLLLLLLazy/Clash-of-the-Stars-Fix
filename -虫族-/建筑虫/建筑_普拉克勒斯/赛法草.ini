
[core]
name: 赛法草
displayText: 赛法草
displayDescription: -腐蚀扩张 \n -缺失母巢时可构筑为母巢 \n -扎根地脉, 生生不息 \n -祂……
class:CustomUnitMetadata

price: 腐蚀=500
maxHp: 1000
mass: 9000

techLevel: 1
buildSpeed: 1

tags: units, 虫族, 虫建筑, 腐蚀蔓延, 赛法草

generation_credits: 1
generation_delay: 40

radius: 16

isBio: true
isBug: true

isBuilding: true
isBuilder: true

footprint: 1,1,-1,-1
constructionFootprint: 1,1,-1,-1

selfRegenRate: 0.1
selfBuildRate: 1

[action_Mothernest]
isVisible: if numberOfUnitsInTeam(withTag='母巢', lessThan=1, factoryQueue=true)
isActive: if numberOfUnitsInTeam(withTag='母巢复生', lessThan=1, factoryQueue=true)
text: 母巢
description: -虫群之心
descriptionAddUnitStats: ${section.convertTo}
displayType: upgrade
convertTo: 母巢
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
addResources: unsetFlag=1
buildSpeed: 46.2s
pos: -2
whenBuilding_triggerAction: AddTags
onlyOneUnitAtATime: true
canPlayerCancel: true
isLocked: if self.isOverLiquid
isLockedMessage: -需要在陆地上
[hiddenAction_AddTags]
temporarilyAddTags: 母巢复生
[hiddenAction_resetTags]
autoTrigger: if self.tags(includes='母巢复生') and self.queueSize(empty=true)
temporarilyRemoveTags: 母巢复生

[action_erosion]
isVisible: if numberOfUnitsInTeam(withTag='母巢', greaterThan=0)
isActive: false
text: 腐蚀蔓延
description: -可代替协助腐蚀蔓延 \n -滋生……
displayType: infoOnly
buildSpeed: 0s
pos: -1
iconImage: 母巢T2.png

[action_reclaim]
text: 自毁
description: -自我破坏
displayType: infoOnly
pos: -1
ai_isDisabled: true
allowMultipleInQueue: false
buildSpeed: 10s
setResourcesWithLogic: hp=-99999
autoTrigger: if not self.isOverPassableTile(type="AIR")

[hiddenAction_主赛法草]
autoTriggerOnEvent: created
requireConditional: if self.hasFlag(id=1)
temporarilyAddTags: 主母巢

[graphics]
total_frames: 1
image: undead_plant16.png
image_wreak: NONE

image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

[movement]
movementType: AIR
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

targetHeight: -8
targetHeightDrift: 0

maxTurnSpeed: 0
turnAcceleration: 0.1