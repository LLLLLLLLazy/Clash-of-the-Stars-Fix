
[core]
name: 时机神
displayDescription: -只能拥有一个 \n -高级防御装甲 \n -强大的建造能力 \n -时间与空间本为一体 \n -命运之轮:跟随其的命运之轮将协助其建造 \n -逆维修:命运之轮击杀将获得目标75%资金 \n -分形:命运之轮被摧毁时将一分为四|将其回收会一分为二 \n -重铸:所有小命运之轮均被摧毁后时机神将消耗2000血量重铸命运之轮

class: CustomUnitMetadata

#price: 2
price: 50000, 苍蓝能量=3

maxHp: 6000
mass: 50000

armour: 35
armourMinDamageToKeep: 35

selfRegenRate:0.2

techLevel: 2
experimental: true

buildSpeed: 0.0002

tags: units, 时机神

radius: 25
displayRadius: 26

isPickableStartingUnit:	true

fogOfWarSightRange: 22

transportSlotsNeeded: 3

isBio: false
softCollisionOnAll: 3

#nanoFactorySpeed:2.5

canRepairBuildings: true
canRepairUnits : true
autoRepair: true

nanoRepairSpeed: 1

canReclaimResources: true

generation_credits: 8
generation_delay: 40

nanoRange: 220
nanoBuildSpeed: 25

autoTriggerCooldownTime: 0.1s

[hiddenAction_created]
autoTriggerOnEvent: completeAndActive
spawnEffects: CUSTOM:命运之轮转, CUSTOM:命运之轮, 命运之轮扭曲
spawnUnits: 命运之轮

[effect_命运之轮转]
priority: critical
image: 盘.png
life: 20
scaleFrom: 1.5
scaleTo: 1.6
dirSpeed: 10
drawUnderUnits:false

[effect_命运之轮]
priority: critical
image: 盘.png
life: 80
fadeInTime: 20
scaleFrom: 1.5
scaleTo: 1.4
alpha: 0.8
drawUnderUnits:false

[effect_命运之轮扭曲]
drawType: displacement
image: SHARED:ripple_normal_128.png
life: 30
fadeOut: true
fadeInTime: 3
attachedToUnit: false
color: #FFFFFF
scaleFrom: 0
scaleTo: 1.0
alpha: 0.5
dirSpeed: -5
drawUnderUnits:false

[hiddenAction_命运轮回]
autoTrigger: if self.resource.命计 >= 0.3
spawnUnits: 命运之轮
addResources: hp=-2000, 命计=-0.3

[hiddenAction_命束时计]
autoTrigger: if numberOfUnitsInTeam(withTag="命运之轮", lessThan=1) and self.resource.命计 < 0.3
addResources: 命计=0.1

[hiddenAction_命计重置]
autoTrigger: if numberOfUnitsInTeam(withTag="命运之轮", greaterThan=0) and self.resource.命计 > 0
setResourcesWithLogic: 命计=0

[resource_命计]
displayName: 命计


[canBuild_canReclaim]
name: reclaim
pos:  -1

[canBuild_2]
name: 命运祭司, 混乱游魂
pos:  2
forceNano: true

[canBuild_3]
name: 能源炮, 贝露能源站T1, 贝露资源仪T1
pos:  3

[canBuild_4]
name: 充能防御墙, 日光灼烧塔, 月影监察者, 璀璨星辉
pos:  4

[canBuild_10]
name: 贝露陆海工厂, 贝露中空工厂, 次元之门
pos:  10

[canBuild_15]
name: 幻光投影塔
pos:  15

[canBuild_16]
name: 特斯拉电磁塔[建造], 寒封冻天
pos:  16

[canBuild_17]
name: 暴食圩列
pos:  17

[canBuild_18]
name: 裂空迫击炮, 黄金长弓, 雷云吊灯[建造]
pos:  18

[canBuild_19]
name: 潘地曼尼南, 天界信标, 统合防御
pos:  19


[canBuild_20]
name: 摘星楼
pos:  20
isLocked: if numberOfUnitsInTeam(withTag='摘星楼', greaterThan=0, incompleteBuildings=true)
isLockedMessage: 只能建造一个摘星楼

[canBuild_恐虐传送门]
name: 亚空间水晶
pos: 100
isVisible: if self.hasResources(混沌元素=1)

[hiddenAction_brilliance]
autoTrigger: true
spawnEffects:CUSTOM:brilliance*8

[effect_brilliance]
priority: verylow
attachedToUnit: false
fadeInTime: 10
life: 100
lifeRandom: 20
xOffsetRelativeRandom:20
yOffsetRelativeRandom:25
xSpeedRelativeRandom: 0.2
ySpeedRelativeRandom: 0.2
hSpeed: 0.6
image: SHARED:spark.png
color: #7900F1

[graphics]
imageScale: 1

image:        机神身.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 22
turretTurnSpeed: 4

maxAttackRange: 220
shootDelay: 1

#isFixedFiring: true

[turret_nanoTurret]
image: 机神头.png
x: 0
y: 20

idleDir:0
idleDirReversing:0

canShoot: false

turnSpeed: 3
turnSpeedAcceleration: 0.2

isMainNanoTurret: true



[leg_1]
x: -22
y: 35
attach_x: 0
attach_y: 0
moveSpeed: 2.4
moveWarmUp:0.05s

rotateSpeed: 7

heightSpeed: 0.5
resetAngle:25

image_leg:  机神前臂.png
image_foot: NONE

#draw_foot_on_top: true
#dust_effect: false

holdDisMin: 22
holdDisMax: 52

endDirOffset:45

[leg_2]
x: 22
y: 35
attach_x: 0
attach_y: 0
copyFrom: 1

endDirOffset:-45

[leg_3]
x: -20
y: -24
attach_x: 0
attach_y: 0
copyFrom: 1

image_leg:  机神后腿.png

endDirOffset:-45

[leg_4]
x: 20
y: -24
attach_x: 0
attach_y: 0
copyFrom: 1

image_leg:  机神后腿.png

endDirOffset:45

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.5
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

maxTurnSpeed: 1.0
turnAcceleration: 0.5

moveSlidingMode :false
moveIgnoringBody:false

reverseSpeedPercentage:0.6

[ai]
useAsBuilder: true


[global_resource_混沌元素]
hidden: false
displayName: 混沌元素
displayColor: #FF1A00
priority: 1
