[core]



name: 恐怖猎手
displayText: 恐怖猎手
maxHp: 700
mass: 7000
price: 1200, 腐蚀=${corrode}
radius: 14
softCollisionOnAll: 14
isBug: true
isBio: true
techLevel: 2
selfRegenRate: 0.1
energyMax:1
energyRegen:0.001
displayDescription: -虫族空军拦截\n-喷吐毒弹\n-每过一段时间可喷吐强冲击毒弹以突袭\n-经过极长时间可喷吐远距离恐怖毒弹\n-毒素附加: 25 | 90
buildSpeed: 16.7s
tags: units, 虫族, 中型虫, 捕猎虫, 恐怖猎手, AI仅对空
showActionsWithMixedSelectionIfOtherUnitsHaveTag:捕猎虫

unitsSpawnedOnDeath: 资源返还(addResources=ammo:300|energy:50)

autoTriggerCooldownTime: 0.1s

[hiddenAction_亡灵生成]
autoTriggerOnEvent: destroyed
requireConditional: if self.globalTeamTags(includes='狂猎') and self.globalTeamTags(includes='皎红')
spawnUnits: 恐怖猎手[亡灵]

[hiddenAction_腐蚀价格]
@global corrode: 200
autoTrigger: if memory.腐蚀价格!=${corrode}
setUnitMemory: 腐蚀价格=${corrode}


[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[hiddenAction_battle]
autoTrigger: if self.isEnergyFull
convertTo: 恐怖猎手[突袭]
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
convertTo_keepCurrentFields: maxHp, maxShield
addResources: energy=-1, unsetFlag=1

[action_扩散移动点开]
@copyFromSection: template_扩散移动点开

[action_扩散移动点关]
@copyFromSection: template_扩散移动点关

[hiddenAction_设置扩散移动点]
@copyFromSection: template_设置扩散移动点

[hiddenAction_清除当前非巡逻路径]
@copyFromSection: template_清除当前非巡逻路径

[hiddenAction_锁定扩散移动点]
@copyFromSection: template_锁定扩散移动点

[hiddenAction_执行扩散移动点]
@copyFromSection: template_执行扩散移动点

[animation_1]
onActions:idle, move, attack
pingPong: true
scale_start: 1
scale_end: 1.04
speed: 70
[graphics]
image: 恐怖猎手.png
#scaleImagesTo: 40
image_turret: NONE
splastEffect: true
image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

movementEffect: CUSTOM:projectileTrail
movementEffectRate: 10

[effect_projectileTrail]
createWhenZoomedOut: false
priority: verylow

image: SHARED:light_50.png
life: 50
fadeOut: true
attachedToUnit: false
color: #AEFF00
fadeInTime:2
scaleFrom: 1.0
scaleTo: 0.1
alpha: 0.1
drawUnderUnits:false

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: false
canAttackUnderwaterUnits: false
turretTurnSpeed: 20
maxAttackRange: 160
shootDelay: 25
isMelee: true
attackMovement: bomber
[turret_1]
x: 0
y: 0
invisible: true
projectile: 1
#turnSpeedAcceleration: 1.0
shoot_sound:large_gun_fire2
shoot_sound_vol:0.2
shoot_flame: small
shoot_light: #FFEECCCC
[projectile_1]
tags= T-projectile
directDamage: 50
life:100
speed:8
instant:false
largeHitEffect:true
trailEffect:true
image:老坛酸菜.png
#pushForce: 2
#pushVelocity: 1
spawnUnit: 有毒的雾
mutatorX_ifUnitWithoutTags: 毒免疫, 效果免疫, 不会受伤
mutatorX_addResourcesDirectHit: 毒素=25

[resource_毒素]
displayName: 毒素

[movement]
movementType: AIR
moveSpeed: 2.7
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.1

maxTurnSpeed: 3
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:true

[ai]
upgradedFrom: 捕猎虫

[hiddenAction_AIcircle]
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_maxTime: 2s
addWaypoint_target_nearestUnit_tagged: 基地
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.energy(full=true) and self.hp(lessThan=580) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and not self.hasActiveWaypoint(type='touchTarget') and not self.hasFlag(id=1)

[hiddenAction_AIretreat]
clearAllWaypoints: true
addWaypoint_type: touchTarget
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 修复点
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasActiveWaypoint(type='touchTarget') and self.hasFlag(id=1)
[hiddenAction_AIsetFlag]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hp(lessThan=100)
addResources: setFlag=1
[hiddenAction_AIunsetFlag]
autoTrigger: if self.globalTeamTags(includes='AI系统') and self.hp(full=true)
addResources: unsetFlag=1

[hiddenAction_AI集群进攻]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 群虫成体
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasFlag(id=1) and not self.hasActiveWaypoint(type='guard') and self.globalTeamTags(includes='开端{I}') and not self.globalTeamTags(includes='战隙{I}')

[hiddenAction_AI集群进攻2]
addWaypoint_type: guard
addWaypoint_prepend: true
addWaypoint_maxTime: 20s
addWaypoint_target_nearestUnit_tagged: 电盘虫
addWaypoint_target_nearestUnit_team: own
autoTrigger: if self.globalTeamTags(includes='AI系统') and not self.hasFlag(id=1) and not self.hasActiveWaypoint(type='guard') and not self.isAttacking and self.globalTeamTags(includes='中刻{I}')
