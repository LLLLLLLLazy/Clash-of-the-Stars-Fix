
[core]
name: 潘地曼尼南
displayText: 潘地曼尼南
displayDescription: -对地对空 \n -射程较远 \n -射速逐渐加快 \n -投以金钱使其升级 \n “继续加注筹码”

class: CustomUnitMetadata
price: 9000
maxHp: 2500
mass: 9000
tags: units

maxShield: 200
shieldRegen: 0.25

#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1
#used for placement, and placement of other buildings
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 1
buildSpeed: 160s
#availableInDemo: true

radius: 16
#displayRadius: 25
buildingSelectionOffset: -8

isBio: false
isBuilding: true

autoTriggerCooldownTime: 0.1s

[action_countEXP]
autoTriggerOnEvent: created
addResources: LV=1
price: EXP=1
text: 经验积累: 
displayType: infoOnly
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
isActive:false

[action_level]
isActive: false
price: LV=1
text: 等级: 
description: -每级增加200护盾，2伤害，5范围 \n-升级到7级需要贝露佩欧鲁权杖达到T3 \n-在10级前回收退还资源不变 \n-10级后每级仅增加2.4伤害和100护盾
displayType: infoOnly
pos: 0
buildSpeed: 0s
displayRemainingStockpile: true
autoTrigger: if self.resource.EXP >= self.resource.LV *500
addResources: LV=1

setUnitMemory: 属性[15]=memory.属性[15]+200, 属性[19]=memory.属性[19]+0.091, 属性[20]=memory.属性[20]+5
alsoTriggerAction: 属性变化

[hiddenAction_level10]
autoTrigger: if self.resource.LV>=10
convertTo: 潘地曼尼南X
sendMessageTo: ${ConvertUpdate1}
sendMessageWithTags: ${ConvertUpdate2}
setUnitMemory: 属性[15]=0, 属性[19]=0, 属性[20]=0

[action_UP]
displayType: action
price: 2000
addResources: EXP=500
id: ${section.text}
tags=${section.text}
text: 升级
description: -投以金钱使其强化
buildSpeed: 0.5s
pos:1

isLocked: if self.resource.LV+self.queueSize(withActionTag='升级')>=6 and not self.globalTeamTags(includes="贝露权杖T3")
isLockedMessage: 需要贝露佩欧鲁权杖T3

spawnEffects: CUSTOM:Money*15

[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        机枪底座.png
image_wreak:  底座残骸.png
image_turret: 机枪炮台.png
#image_shield: 黑色屏障.png

#scaleImagesTo: 20
scaleTurretImagesTo: 30

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

turretSize: 27
turretTurnSpeed: 3

maxAttackRange: 275
shootDelay: 20

[hiddenAction_属性改变设定]
setUnitMemory: 属性[41]=cos(180)*(${turret_2.warmupShootDelayTransfer} / ${attack.shootDelay})

[turret_1]
x: 0
y: 6
idleDir:0

canShoot: false

idleSweepAngle:20
idleSweepDelay:210
idleSweepSpeed:0.2

shouldResetTurret: false

[turret_2]
x: 0
y: 0
barrelY: 21
barrelX: 8.5
attachedTo: 1
slave: true
invisible: true

shoot_sound:gun_fire
shoot_sound_vol:0.2
shoot_flame:CUSTOM:scoutTrail

canShoot: true

warmup: 300
warmupCallDownRate: 1
warmupNoReset: true
warmupShootDelayTransfer: 16

#resourceUsage:EXP=-1

[turret_3]
x: 0
y: 0
barrelY: 21
barrelX: -8.5
copyFrom: 2

[projectile_1]
tags= T-projectile
directDamage: 22
life: 160
speed: 11
drawType: 2
frame: 4
color: #63e6e8

lightColor: #63e6e8
lightSize: 0.3

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[effect_Money]
attachedToUnit: false
life: 100
lifeRandom: 15
physics: true
scaleFrom: 0.3
scaleTo: 0.3
xOffsetRelativeRandom:4
xSpeedRelativeRandom: 1.6
yOffsetRelativeRandom:4
ySpeedRelativeRandom: 1.6
hSpeed: 2
dirSpeedRandom: 0.5
dirOffsetRandom: 180
image: 金币.png
priority: verylow

[effect_scoutTrail]
stripIndex: effects
frameIndex: 0
priority:low

life: 24
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:3
hSpeed: 0.1
scaleFrom: 0.3
scaleTo: 1.0
alpha: 0.6
drawUnderUnits:false
#yOffsetRelative:-7
xOffsetRelativeRandom:1
xSpeedRelativeRandom:0.1
ySpeedRelative:0.8
ySpeedRelativeRandom:0.1

dirOffsetRandom: 180

shadow: true
atmospheric: true


[resource_exp]
displayName: EXP
displayColor: #ff6c00

[resource_lv]
displayName: LV
displayColor: #BB99DD


[ai]
upgradedFrom: 潘地曼尼南

buildPriority: 0.2
noneInBaseExtraPriority: 0.15

maxEachBase: 2