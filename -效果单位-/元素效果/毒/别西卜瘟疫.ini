[core]
showInEditor:false
name:别西卜瘟疫
displayDescription: -长时间持续群体伤害\n-有概率传播
tags:瘟疫, 别西卜瘟疫, magic
maxHp:100
mass:100
price:0
radius:0
selfRegenRate:-0.5
disableAllUnitCollisions:true
canNotBeDirectlyAttacked:true
canNotBeDamaged:true
isUnselectableAsTarget:true
showOnMinimap:false
energyMax:1
energyRegen:-0.00025
dieOnZeroEnergy:true
isUnselectable:true
canNotBeGivenOrdersByPlayer:true
numBitsOnDeath: 0
explodeOnDeath: false
hideScorchMark: false
buildSpeed: 16.6s

autoTriggerCooldownTime: 10

[hiddenAction_创建时]
autoTriggerOnEvent: created
setUnitStats: shootDamageMultiplier=1 + customTarget1.readUnitMemory("属性", type='float', index=3)


[hiddenAction_瘟疫]
autoTrigger: if self.customTimer(laterThanSeconds=1)
spawnEffects:CUSTOM:瘟疫*3, 瘟疫朵
resetCustomTimer: true

[template_提取目标]
takeResources_includeUnitsWithinRange: 10
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: units
takeResources_maxUnits: 10

[hiddenAction_状态时间]
@copyFromSection: template_提取目标
autoTrigger: if numberOfUnitsInEnemyTeam(withTag="units", greaterThan=0, withinRange=10)
takeResources: 瘟疫减速=-1
takeResources_excludeUnitsWithTheseResources: 瘟疫减速=2

[resource_瘟疫减速]
displayName: 瘟疫减速
hidden: true


[action_狂猎击杀]
@copyFromSection: template_狂猎击杀

[action_狂猎击杀2]
@copyFromSection: template_狂猎击杀2

[graphics]
image: SHARED:blank.png
showEnergyBar:false
showHealthBar:false
disableLowHpFire:true
disableLowHpSmoke:true
[attack]
canAttack:true
canAttackFlyingUnits:true
canAttackLandUnits:true
canAttackUnderwaterUnits:false
maxAttackRange:10
shootDelay:0.1s
isMelee:true
[turret_1]
x:0
y:0
invisible:true
turnSpeed:100
resourceUsage:hp=-100
[projectile_1]
tags= T-projectile
areaDamage:5
areaRadius:70
areaRadiusFromEdge:true
areaHitAirAndLandAtSameTime:true
armourIgnoreAmount:100
life:50
instant:true
teleportSource:true
explodeEffect:NONE
explodeEffectOnShield:NONE

shieldDefectionMultiplier: 0
shieldDamageMultiplier: 0

spawnUnit:别西卜瘟疫(offsetRandomX=300,offsetRandomY=300,spawnChance=0.01)

[effect_瘟疫]
life: 200
fadeOut: true
attachedToUnit: false
image: 模糊闪雾.png
color: #AEFF00
fadeInTime: 2
scaleFrom: 0.15
scaleTo: 0.25
alpha: 0.6
drawUnderUnits:false

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.5
ySpeedAbsoluteRandom: 0.5

[effect_瘟疫朵]
life: 180
lifeRandom: 60
fadeOut: true
attachedToUnit: false
image: 云圈.png
color: #AEFF00
fadeInTime: 25
scaleFrom: 0.1
scaleTo: 0.4
alpha: 0.3
drawUnderUnits:false
dirOffsetRandom: 180
dirSpeedRandom: 0.5

[movement]
movementType:AIR
moveSpeed:0.8
maxTurnSpeed:10
targetHeight:0

moveIgnoringBody:true