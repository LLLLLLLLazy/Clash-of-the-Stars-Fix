
[core]
name: 苍临之筑
maxHp: 1000
price: 0
mass: 0
tags: 苍临之筑

displayDescription: -全图范围建造

radius: 10

isBuilder: true
footprint: 1,1,-1,-1
constructionFootprint: 1,1,-1,-1

nanoRange: 99999
nanoBuildSpeed: 9999
nanoRepairSpeed: 0

canRepairBuildings: true
canRepairUnits: true

isUnrepairableUnit: true

#隐藏单位本身
showInEditor: false
ignoreInUnitCapCalculation: true
disableAllUnitCollisions: true
canNotBeDirectlyAttacked: true
showOnMinimap: false

#禁止死亡痕迹
numBitsOnDeath:	0
explodeOnDeath:	false
hideScorchMark: true

autoTriggerCooldownTime: 0.01s
autoTriggerCooldownTime_allowDangerousHighCPU:true

[canBuild_1]
name: 贝露能源站T1
pos: 1

[canBuild_真视机械降神]
isVisible: if self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0
name: 日光灼烧塔, 月影监察者, 璀璨星辉, 充能防御墙, 工厂框架, 帷幕行者, 贝露陆海工厂, 贝露中空工厂, 日耀赤星塔, 小机器人, 自然和弦, 磐岩坦克, 守星铳, 涡流, 含光, 冲锋快艇, 解构者, 抑制剂, 信使,  赤血战蝎, 梦雨总控车DX, 弩车, 脉冲机甲[对地], 蒸腾气垫坦克, 幻影两栖舰[陆], 反击坦克, 四面神, 黑箭潜艇, 乌贼治愈者,  椎碎, 「蓝鸽」礼花战机, 凤凰攻击机, 空间迁跃者, 仙女灵火, 弑魂士, 凤鸽组合攻击机,  机械苍蓝眼, 命运祭司, 混乱游魂, 飓风轱辘, 方舟数据体, 神威魔导炮, 零号天启坦克, 行愿人, 大巫师[火], 末日大骑士, 巫师议会, 赤血战蝎T2, 蒸腾气垫坦克[沧冥洄眩], 黎明之星[雷霆], 三叶螺,  闭幕式, 闪电拦截机, 天狼星, 幻象, 冥河之握, 贝露一式, 至高天, 空曲概念轰炸机, 阳炎, 贝露一式[界限突破],  能源炮, 贝露能源站T2, 贝露能源站T3_日耀, 贝露能源站T3_月曜, 贝露资源仪T1, 贝露资源仪T2, 贝露资源仪T3, 贝露资源仪T4, 次元之门, 幻光投影塔, 特斯拉电磁塔[建造], 寒封冻天, 潘地曼尼南, 裂空迫击炮, 黄金长弓, 雷云吊灯[建造], 暴食圩列, 天界信标, 裂空迫击炮EX, 潘地曼尼南X, 统合防御, 摘星楼
pos: 2
forceNano: true

[canBuild_时机神]
isVisible: if self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0
name: 时机神
pos: 3
forceNano: true
isLocked: if numberOfUnitsInTeam(withTag='时机神', greaterThan=0, factoryQueue=true)
isLockedMessage: 只能拥有一个时机神

[canBuild_双子星]
isVisible: if self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0
name: 双子星
pos: 3
forceNano: true
isLocked: if self.hasUnitInTeam(withTag="双星移动")
isLockedMessage: 只能拥有一个双子星


#[canBuild_喜庆战机]
#isVisible: if self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0
#name: 喜庆战机
#pos: 20
#forceNano: true
#price: 3000, 苍蓝能量=1


[hiddenAction_禁用指令]
autoTriggerOnEvent: newWaypointGivenByPlayer
requireConditional: if self.hasActiveWaypoint(type='guard')
clearAllWaypoints: true

[hiddenAction_附属传送]
autoTrigger: if numberOfUnitsInTeam(withTag="机械降神", lessThan=1, withinRange=0.5)
teleportTo: customTarget1

[hiddenAction_消失]
autoTrigger: if numberOfUnitsInTeam(withTag="机械降神", lessThan=1)
deleteSelf: true


[hiddenAction_视之眼显现]
autoTrigger: if (self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0) and not self.hasFlag(id=2)
addResources: setFlag=2
spawnEffects: 视之眼显现

[graphics]
image: SHARED:blank.png
icon_zoomed_out_neverShow: true
image_turret: 三角形.png

repairEffectAtTarget: CUSTOM:苍方旋
repairEffectRate: 0

[decal_视之眼]
isVisible: if self.hasUnitInTeam(withTag='真视之眼') or self.numberOfUnitsInAllyNotOwnTeam(withTag='真视之眼')>0
layer: afterBody
image: 视之眼.png
imageScale: 0.092

[decal_至高光]
@copyFromSection: decal_视之眼
image: SHARED:light_50.png
imageScale: 1
color: #82FFFF
alpha: 0.15


[effect_视之眼显现]
priority: veryhigh
attachedToUnit: true
image: 视之眼.png
life: 60
scaleFrom: 0.092
scaleTo: 0.12
alpha: 1
fadeOut: true
alwayStartDirAtZero: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: 中立能源站

maxAttackRange: 99999
shootDelay: 0

aimOffsetSpread: 0

[turret_1]
x: 0
y: 0
canAttackMaxAngle: 181

[projectile_1]
directDamage: 0
life: 20
instant: true
explodeEffect: NONE
explodeEffectOnShield: NONE
convertHitToSourceTeam: true

[effect_苍方旋]
priority: high
attachedToUnit: true
drawUnderUnits: true
image: 方形.png
life: 60
scaleFrom: 1
scaleTo: 1
alpha: 1
fadeOut: false
dirSpeed: 2
trailEffect: 苍方浮, 苍方影, 苍方波
trailEffectRate: 4

[effect_苍方浮]
@copyFromSection: effect_苍方旋
drawUnderUnits: false
life: 100
alpha: 2.5
dirSpeed: 3
dirSpeedRandom: 1
hSpeed: 1
fadeOut: true
trailEffect: NONE

[effect_苍方影]
@copyFromSection: effect_苍方旋
alpha: 0.6
life: 50
dirSpeed: 1.75
fadeOut: true
trailEffect: NONE

[effect_苍方波]
@copyFromSection: effect_苍方旋
life: 30
scaleFrom: 0.5
scaleTo: 1
alpha: 0.8
trailEffect: NONE

[movement]
movementType: AIR
moveSpeed: 0
targetHeight: 57
targetHeightDrift: 1

ignoreMoveOrders: true